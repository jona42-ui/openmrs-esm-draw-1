/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_openmrs_esm_app_shell"] = self["webpackChunk_openmrs_esm_app_shell"] || []).push([["src_run_ts"],{

/***/ "./src/apps.ts":
/*!*********************!*\
  !*** ./src/apps.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   finishRegisteringAllApps: () => (/* binding */ finishRegisteringAllApps),\n/* harmony export */   registerApp: () => (/* binding */ registerApp),\n/* harmony export */   tryRegisterExtension: () => (/* binding */ tryRegisterExtension),\n/* harmony export */   tryRegisterPage: () => (/* binding */ tryRegisterPage)\n/* harmony export */ });\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openmrs/esm-framework */ \"webpack/sharing/consume/default/@openmrs/esm-framework/@openmrs/esm-framework\");\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var single_spa__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! single-spa */ \"webpack/sharing/consume/default/single-spa/single-spa\");\n/* harmony import */ var single_spa__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(single_spa__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers */ \"./src/helpers.ts\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n    return target;\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, g, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    };\n    return g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\n\n\n\nvar pages = [];\n/**\n * This takes a page's route definitions and returns a single-spa\n * activityFn which returns true when the page matches the current\n * route and false if it does not.\n *\n * @param route A string or regexp that matches the location when the\n * page should be displayed, a boolean constant, or an array of such\n * strings, regexps, and booleans\n * @returns An activityFn suitable to use for a single-spa application\n */ function getActivityFn(route) {\n    if (Array.isArray(route)) {\n        var activators = route.map(getActivityFn);\n        return function(location) {\n            return activators.some(function(activator) {\n                return activator(location);\n            });\n        };\n    } else if (typeof route === \"string\") {\n        return (0,single_spa__WEBPACK_IMPORTED_MODULE_1__.pathToActiveWhen)(window.getOpenmrsSpaBase() + route);\n    } else if (_instanceof(route, RegExp)) {\n        return function(location) {\n            return (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.routeRegex)(route, location);\n        };\n    } else {\n        return function() {\n            return route;\n        };\n    }\n}\n/**\n * For pages, we also support the activityFn taking into account the online / offline\n * status. This wraps an existing single-spa activityFn and only allows the page to\n * be rendered in the appropriate mode.\n *\n * By default, we assume that all pages should be rendered when online, but only rendered\n * offline if specifically configured to do so.\n *\n * @param activityFn A standard single-spa activityFn such as that returned by {@link getActivityFn()}\n * @param pageDefinition The RegisteredPageDefinition object for this page\n * @returns An activityFn suitable to use for a single-spa application\n */ function wrapPageActivityFn(activityFn, param) {\n    var online = param.online, offline = param.offline;\n    return function(location) {\n        // basically, if the page should only work online and we're offline or if the\n        // page should only work offline and we're online, defaulting to always rendering\n        // the page\n        if (!(navigator.onLine && (online !== null && online !== void 0 ? online : true) || !navigator.onLine && (offline !== null && offline !== void 0 ? offline : false))) {\n            return false;\n        }\n        return activityFn(location);\n    };\n}\nvar STARTUP_FUNCTION = \"startupApp\";\n/**\n * @internal\n *\n * Used internally to track which apps have had their `startupApp()` initializer called\n *\n * Values are promises to support asynchronous loading of the same app multiple times\n */ var initializedApps = new Map();\n/**\n * This function creates a loader function suitable for use in either a single-spa\n * application or parcel.\n *\n * The returned function is lazy and ensures that the appropriate module is loaded,\n * that the module's `startupApp()` is called before the component is loaded. It\n * then calls the component function, which should return either a single-spa\n * {@link LifeCycles} object or a {@link Promise} that will resolve to such an object.\n *\n * React-based pages or extensions should generally use the framework's\n * `getAsyncLifecycle()` or `getSyncLifecycle()` functions.\n */ function getLoader(appName, component) {\n    return /*#__PURE__*/ _async_to_generator(function() {\n        var module;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.importDynamic)(appName)\n                    ];\n                case 1:\n                    module = _state.sent();\n                    if (!(module && Object.hasOwn(module, component) && typeof module[component] === \"function\")) return [\n                        3,\n                        6\n                    ];\n                    if (!!(appName in initializedApps)) return [\n                        3,\n                        3\n                    ];\n                    return [\n                        4,\n                        initializedApps[appName] = new Promise(function(resolve, reject) {\n                            if (Object.hasOwn(module, STARTUP_FUNCTION)) {\n                                var startup = module[STARTUP_FUNCTION];\n                                if (typeof startup === \"function\") {\n                                    return Promise.resolve(startup()).then(resolve).catch(reject);\n                                }\n                            }\n                            resolve(null);\n                        })\n                    ];\n                case 2:\n                    _state.sent();\n                    return [\n                        3,\n                        5\n                    ];\n                case 3:\n                    return [\n                        4,\n                        initializedApps[appName]\n                    ];\n                case 4:\n                    _state.sent();\n                    _state.label = 5;\n                case 5:\n                    return [\n                        2,\n                        Promise.resolve(module[component]())\n                    ];\n                case 6:\n                    if (module && Object.hasOwn(module, component)) {\n                        console.warn(\"The export \".concat(component, \" of the app \").concat(appName, \" is not a function\"));\n                    } else {\n                        console.warn(\"The app \".concat(appName, \" does not define a component called \").concat(component, \", this cannot be loaded\"));\n                    }\n                    _state.label = 7;\n                case 7:\n                    return [\n                        2,\n                        _helpers__WEBPACK_IMPORTED_MODULE_2__.emptyLifecycle\n                    ];\n            }\n        });\n    });\n}\n/**\n * This is the main entry-point for registering an app with the app shell.\n * Each app has a name and should have a `routes.json` file that defines it's\n * associated routes.\n *\n * @param appName The name of the application, e.g. `@openmrs/esm-my-app`\n * @param routes A Javascript object that corresponds to the app's  routes.json`\n * definition.\n */ function registerApp(appName, routes) {\n    if (appName && routes && typeof routes === \"object\") {\n        var _routes_pages;\n        (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.defineConfigSchema)(appName, {});\n        var _routes_extensions;\n        var availableExtensions = (_routes_extensions = routes.extensions) !== null && _routes_extensions !== void 0 ? _routes_extensions : [];\n        (_routes_pages = routes.pages) === null || _routes_pages === void 0 ? void 0 : _routes_pages.forEach(function(p) {\n            var _p_order;\n            pages.push(_object_spread_props(_object_spread({}, p), {\n                order: (_p_order = p.order) !== null && _p_order !== void 0 ? _p_order : Number.MAX_SAFE_INTEGER,\n                appName: appName\n            }));\n        });\n        availableExtensions.forEach(function(ext) {\n            tryRegisterExtension(appName, ext);\n        });\n    }\n}\n/**\n * This is called by the app shell once all route entries have been processed.\n * This actually registers the pages with the application. This function is\n * necessary to ensure that pages are rendered in the DOM according to their\n * order definition, especially because certain pages _must_ be first in the DOM.\n *\n * Each page is rendered into a div with an appropriate name.\n */ function finishRegisteringAllApps() {\n    pages.sort(function(a, b) {\n        var sort = a.order - b.order;\n        if (sort != 0) {\n            return sort;\n        }\n        return a.appName.localeCompare(b.appName, \"en\");\n    });\n    // Create a div for each page. This ensures their DOM order.\n    // If we don't do this, Single-SPA 5 will create the DOM element only once\n    // the page becomes active, which makes it impossible to guarantee order.\n    var appIndices = new Map();\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = pages[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var page = _step.value;\n            if (!appIndices.has(page.appName)) {\n                appIndices.set(page.appName, 0);\n            } else {\n                appIndices.set(page.appName, appIndices.get(page.appName) + 1);\n            }\n            var index = appIndices.get(page.appName);\n            var name = \"\".concat(page.appName, \"-page-\").concat(index);\n            var div = document.createElement(\"div\");\n            div.id = \"single-spa-application:\".concat(name);\n            document.body.appendChild(div);\n            tryRegisterPage(name, page);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\n/**\n * This function actually converts each page definition into a single-spa application\n * if that's possible. After this point, pages are rendered using single-spa's\n * routing logic.\n *\n * @param appName The name of the app containing this page\n * @param page A Javascript object that describes the page defintion, derived from `routes.json`\n */ function tryRegisterPage(appName, page) {\n    var route = typeof page.route !== \"undefined\" ? page.route : typeof page.routeRegex !== \"undefined\" ? new RegExp(page.routeRegex) : false;\n    if (route === false) {\n        console.warn('A registered page definition is missing a route and thus cannot be registered.\\nTo fix this, ensure that you define the \"route\" (or alternatively the \"routeRegex\") field inside the extension definition.', appName);\n        return;\n    }\n    if (!page.component) {\n        console.warn('A registered page definition is missing a component and thus cannot be registered.\\nTo fix this, ensure that you define the \"component\" field inside the page definition.', appName);\n        return;\n    }\n    var activityFn = wrapPageActivityFn(getActivityFn(route), page);\n    var loader = getLoader(page.appName, page.component);\n    (0,single_spa__WEBPACK_IMPORTED_MODULE_1__.registerApplication)(appName, loader, activityFn);\n}\n/**\n * This function actually registers an extension definition with the framework and will\n * attach the extension to any configured slots.\n *\n * @param appName The name of the app containing this page\n * @param extension A Javascript object that describes the extension defintion, derived from `routes.json`\n */ function tryRegisterExtension(appName, extension) {\n    var name = extension.name;\n    if (!name) {\n        console.error(\"An extension definition in \".concat(appName, ' is missing an name and thus cannot be\\nregistered. To fix this, ensure that you define the \"name\" field inside the\\nextension definition.'), extension);\n        return;\n    }\n    if (extension.slots && extension.slot) {\n        console.warn(\"The extension \".concat(name, \" from \").concat(appName, \" declares both a 'slots' property and \\na 'slot' property. Only the 'slots' property will be honored.\"));\n    }\n    var slots = extension.slots ? extension.slots : extension.slot ? [\n        extension.slot\n    ] : [];\n    if (!extension.component && !extension.load) {\n        console.error(\"The extension \".concat(name, \" from \").concat(appName, \" is missing a 'component' entry and thus cannot be registered.\\nTo fix this, ensure that you define a 'component' field inside the extension definition.\"), extension);\n        return;\n    }\n    var loader;\n    if (extension.component) {\n        loader = getLoader(appName, extension.component);\n    } else if (extension.load) {\n        if (typeof extension.load !== \"function\") {\n            console.error(\"The extension \".concat(name, \" from \").concat(appName, \" declares a 'load' property that is not a function. This is not\\nsupported, so the extension will not be loaded.\"));\n            return;\n        }\n        loader = extension.load;\n    }\n    (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.registerExtension)({\n        name: name,\n        load: loader,\n        meta: extension.meta || {},\n        order: extension.order,\n        moduleName: appName,\n        privileges: extension.privileges\n    });\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = slots[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var slot = _step.value;\n            (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.attach)(slot, name);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRO1lBR3hDO1FBQ0YsQ0FBQztRQUNENEMsU0FBU0MsVUFBVUksSUFBSTtJQUN6QixDQUFDO0lBRUQvRSx5RUFBaUJBLENBQUM7UUFDaEJrRSxNQUFBQTtRQUNBYSxNQUFNTDtRQUNOTSxNQUFNTCxVQUFVSyxJQUFJLElBQUksQ0FBQztRQUN6QjlCLE9BQU95QixVQUFVekIsS0FBSztRQUN0QitCLFlBQVluRDtRQUNab0QsWUFBWVAsVUFBVU8sVUFBVTtJQUNsQztRQUVLOztRQUFMLFFBQUssWUFBY0wsMEJBQWQsd0dBQXFCO1lBQXJCLElBQU1DLE9BQU47WUFDSC9FLDhEQUFNQSxDQUFDK0UsTUFBTVo7UUFDZjs7UUFGSztRQUFBOzs7aUJBQUE7Z0JBQUE7OztnQkFBQTtzQkFBQTs7OztBQUdQLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3Blbm1ycy9lc20tYXBwLXNoZWxsLy4vc3JjL2FwcHMudHM/NTEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhdHRhY2gsXG4gIHJlZ2lzdGVyRXh0ZW5zaW9uLFxuICBkZWZpbmVDb25maWdTY2hlbWEsXG4gIGltcG9ydER5bmFtaWMsXG4gIFJlZ2lzdGVyZWRQYWdlRGVmaW5pdGlvbixcbiAgRXh0ZW5zaW9uRGVmaW5pdGlvbixcbiAgT3Blbm1yc0FwcFJvdXRlcyxcbiAgUm91dGVEZWZpbml0aW9uLFxufSBmcm9tIFwiQG9wZW5tcnMvZXNtLWZyYW1ld29ya1wiO1xuaW1wb3J0IHtcbiAgQWN0aXZpdHlGbixcbiAgTGlmZUN5Y2xlcyxcbiAgcGF0aFRvQWN0aXZlV2hlbixcbiAgcmVnaXN0ZXJBcHBsaWNhdGlvbixcbn0gZnJvbSBcInNpbmdsZS1zcGFcIjtcbmltcG9ydCB7IGVtcHR5TGlmZWN5Y2xlLCByb3V0ZVJlZ2V4IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuXG5jb25zdCBwYWdlczogQXJyYXk8UmVnaXN0ZXJlZFBhZ2VEZWZpbml0aW9uPiA9IFtdO1xuXG4vKipcbiAqIFRoaXMgdGFrZXMgYSBwYWdlJ3Mgcm91dGUgZGVmaW5pdGlvbnMgYW5kIHJldHVybnMgYSBzaW5nbGUtc3BhXG4gKiBhY3Rpdml0eUZuIHdoaWNoIHJldHVybnMgdHJ1ZSB3aGVuIHRoZSBwYWdlIG1hdGNoZXMgdGhlIGN1cnJlbnRcbiAqIHJvdXRlIGFuZCBmYWxzZSBpZiBpdCBkb2VzIG5vdC5cbiAqXG4gKiBAcGFyYW0gcm91dGUgQSBzdHJpbmcgb3IgcmVnZXhwIHRoYXQgbWF0Y2hlcyB0aGUgbG9jYXRpb24gd2hlbiB0aGVcbiAqIHBhZ2Ugc2hvdWxkIGJlIGRpc3BsYXllZCwgYSBib29sZWFuIGNvbnN0YW50LCBvciBhbiBhcnJheSBvZiBzdWNoXG4gKiBzdHJpbmdzLCByZWdleHBzLCBhbmQgYm9vbGVhbnNcbiAqIEByZXR1cm5zIEFuIGFjdGl2aXR5Rm4gc3VpdGFibGUgdG8gdXNlIGZvciBhIHNpbmdsZS1zcGEgYXBwbGljYXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0QWN0aXZpdHlGbihcbiAgcm91dGU6IFJvdXRlRGVmaW5pdGlvbiB8IEFycmF5PFJvdXRlRGVmaW5pdGlvbj5cbik6IEFjdGl2aXR5Rm4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShyb3V0ZSkpIHtcbiAgICBjb25zdCBhY3RpdmF0b3JzID0gcm91dGUubWFwKGdldEFjdGl2aXR5Rm4pO1xuICAgIHJldHVybiAobG9jYXRpb24pID0+IGFjdGl2YXRvcnMuc29tZSgoYWN0aXZhdG9yKSA9PiBhY3RpdmF0b3IobG9jYXRpb24pKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygcm91dGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gcGF0aFRvQWN0aXZlV2hlbih3aW5kb3cuZ2V0T3Blbm1yc1NwYUJhc2UoKSArIHJvdXRlKTtcbiAgfSBlbHNlIGlmIChyb3V0ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHJldHVybiAobG9jYXRpb24pID0+IHJvdXRlUmVnZXgocm91dGUsIGxvY2F0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKCkgPT4gcm91dGU7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3IgcGFnZXMsIHdlIGFsc28gc3VwcG9ydCB0aGUgYWN0aXZpdHlGbiB0YWtpbmcgaW50byBhY2NvdW50IHRoZSBvbmxpbmUgLyBvZmZsaW5lXG4gKiBzdGF0dXMuIFRoaXMgd3JhcHMgYW4gZXhpc3Rpbmcgc2luZ2xlLXNwYSBhY3Rpdml0eUZuIGFuZCBvbmx5IGFsbG93cyB0aGUgcGFnZSB0b1xuICogYmUgcmVuZGVyZWQgaW4gdGhlIGFwcHJvcHJpYXRlIG1vZGUuXG4gKlxuICogQnkgZGVmYXVsdCwgd2UgYXNzdW1lIHRoYXQgYWxsIHBhZ2VzIHNob3VsZCBiZSByZW5kZXJlZCB3aGVuIG9ubGluZSwgYnV0IG9ubHkgcmVuZGVyZWRcbiAqIG9mZmxpbmUgaWYgc3BlY2lmaWNhbGx5IGNvbmZpZ3VyZWQgdG8gZG8gc28uXG4gKlxuICogQHBhcmFtIGFjdGl2aXR5Rm4gQSBzdGFuZGFyZCBzaW5nbGUtc3BhIGFjdGl2aXR5Rm4gc3VjaCBhcyB0aGF0IHJldHVybmVkIGJ5IHtAbGluayBnZXRBY3Rpdml0eUZuKCl9XG4gKiBAcGFyYW0gcGFnZURlZmluaXRpb24gVGhlIFJlZ2lzdGVyZWRQYWdlRGVmaW5pdGlvbiBvYmplY3QgZm9yIHRoaXMgcGFnZVxuICogQHJldHVybnMgQW4gYWN0aXZpdHlGbiBzdWl0YWJsZSB0byB1c2UgZm9yIGEgc2luZ2xlLXNwYSBhcHBsaWNhdGlvblxuICovXG5mdW5jdGlvbiB3cmFwUGFnZUFjdGl2aXR5Rm4oXG4gIGFjdGl2aXR5Rm46IEFjdGl2aXR5Rm4sXG4gIHsgb25saW5lLCBvZmZsaW5lIH06IFJlZ2lzdGVyZWRQYWdlRGVmaW5pdGlvblxuKSB7XG4gIHJldHVybiAobG9jYXRpb246IExvY2F0aW9uKSA9PiB7XG4gICAgLy8gYmFzaWNhbGx5LCBpZiB0aGUgcGFnZSBzaG91bGQgb25seSB3b3JrIG9ubGluZSBhbmQgd2UncmUgb2ZmbGluZSBvciBpZiB0aGVcbiAgICAvLyBwYWdlIHNob3VsZCBvbmx5IHdvcmsgb2ZmbGluZSBhbmQgd2UncmUgb25saW5lLCBkZWZhdWx0aW5nIHRvIGFsd2F5cyByZW5kZXJpbmdcbiAgICAvLyB0aGUgcGFnZVxuICAgIGlmIChcbiAgICAgICEoXG4gICAgICAgIChuYXZpZ2F0b3Iub25MaW5lICYmIChvbmxpbmUgPz8gdHJ1ZSkpIHx8XG4gICAgICAgICghbmF2aWdhdG9yLm9uTGluZSAmJiAob2ZmbGluZSA/PyBmYWxzZSkpXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGl2aXR5Rm4obG9jYXRpb24pO1xuICB9O1xufVxuXG5jb25zdCBTVEFSVFVQX0ZVTkNUSU9OID0gXCJzdGFydHVwQXBwXCI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICpcbiAqIFVzZWQgaW50ZXJuYWxseSB0byB0cmFjayB3aGljaCBhcHBzIGhhdmUgaGFkIHRoZWlyIGBzdGFydHVwQXBwKClgIGluaXRpYWxpemVyIGNhbGxlZFxuICpcbiAqIFZhbHVlcyBhcmUgcHJvbWlzZXMgdG8gc3VwcG9ydCBhc3luY2hyb25vdXMgbG9hZGluZyBvZiB0aGUgc2FtZSBhcHAgbXVsdGlwbGUgdGltZXNcbiAqL1xuY29uc3QgaW5pdGlhbGl6ZWRBcHBzID0gbmV3IE1hcDxzdHJpbmcsIFByb21pc2U8dW5rbm93bj4+KCk7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgbG9hZGVyIGZ1bmN0aW9uIHN1aXRhYmxlIGZvciB1c2UgaW4gZWl0aGVyIGEgc2luZ2xlLXNwYVxuICogYXBwbGljYXRpb24gb3IgcGFyY2VsLlxuICpcbiAqIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBpcyBsYXp5IGFuZCBlbnN1cmVzIHRoYXQgdGhlIGFwcHJvcHJpYXRlIG1vZHVsZSBpcyBsb2FkZWQsXG4gKiB0aGF0IHRoZSBtb2R1bGUncyBgc3RhcnR1cEFwcCgpYCBpcyBjYWxsZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbG9hZGVkLiBJdFxuICogdGhlbiBjYWxscyB0aGUgY29tcG9uZW50IGZ1bmN0aW9uLCB3aGljaCBzaG91bGQgcmV0dXJuIGVpdGhlciBhIHNpbmdsZS1zcGFcbiAqIHtAbGluayBMaWZlQ3ljbGVzfSBvYmplY3Qgb3IgYSB7QGxpbmsgUHJvbWlzZX0gdGhhdCB3aWxsIHJlc29sdmUgdG8gc3VjaCBhbiBvYmplY3QuXG4gKlxuICogUmVhY3QtYmFzZWQgcGFnZXMgb3IgZXh0ZW5zaW9ucyBzaG91bGQgZ2VuZXJhbGx5IHVzZSB0aGUgZnJhbWV3b3JrJ3NcbiAqIGBnZXRBc3luY0xpZmVjeWNsZSgpYCBvciBgZ2V0U3luY0xpZmVjeWNsZSgpYCBmdW5jdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGdldExvYWRlcihcbiAgYXBwTmFtZTogc3RyaW5nLFxuICBjb21wb25lbnQ6IHN0cmluZ1xuKTogKCkgPT4gUHJvbWlzZTxMaWZlQ3ljbGVzPiB7XG4gIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9kdWxlID0gYXdhaXQgaW1wb3J0RHluYW1pYzxcbiAgICAgIFJlY29yZDxcbiAgICAgICAgRXhjbHVkZTxzdHJpbmcsIFwic3RhcnR1cEFwcFwiPixcbiAgICAgICAgKCkgPT4gTGlmZUN5Y2xlcyB8IFByb21pc2U8TGlmZUN5Y2xlcz5cbiAgICAgID4gJiB7IHN0YXJ0dXBBcHA/OiAoKSA9PiB1bmtub3duIH1cbiAgICA+KGFwcE5hbWUpO1xuXG4gICAgaWYgKFxuICAgICAgbW9kdWxlICYmXG4gICAgICBPYmplY3QuaGFzT3duKG1vZHVsZSwgY29tcG9uZW50KSAmJlxuICAgICAgdHlwZW9mIG1vZHVsZVtjb21wb25lbnRdID09PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIGlmICghKGFwcE5hbWUgaW4gaW5pdGlhbGl6ZWRBcHBzKSkge1xuICAgICAgICBhd2FpdCAoaW5pdGlhbGl6ZWRBcHBzW2FwcE5hbWVdID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duKG1vZHVsZSwgU1RBUlRVUF9GVU5DVElPTikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0dXAgPSBtb2R1bGVbU1RBUlRVUF9GVU5DVElPTl07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXJ0dXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0YXJ0dXAoKSkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IGluaXRpYWxpemVkQXBwc1thcHBOYW1lXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2R1bGVbY29tcG9uZW50XSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1vZHVsZSAmJiBPYmplY3QuaGFzT3duKG1vZHVsZSwgY29tcG9uZW50KSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFRoZSBleHBvcnQgJHtjb21wb25lbnR9IG9mIHRoZSBhcHAgJHthcHBOYW1lfSBpcyBub3QgYSBmdW5jdGlvbmBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgVGhlIGFwcCAke2FwcE5hbWV9IGRvZXMgbm90IGRlZmluZSBhIGNvbXBvbmVudCBjYWxsZWQgJHtjb21wb25lbnR9LCB0aGlzIGNhbm5vdCBiZSBsb2FkZWRgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVtcHR5TGlmZWN5Y2xlO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIG1haW4gZW50cnktcG9pbnQgZm9yIHJlZ2lzdGVyaW5nIGFuIGFwcCB3aXRoIHRoZSBhcHAgc2hlbGwuXG4gKiBFYWNoIGFwcCBoYXMgYSBuYW1lIGFuZCBzaG91bGQgaGF2ZSBhIGByb3V0ZXMuanNvbmAgZmlsZSB0aGF0IGRlZmluZXMgaXQnc1xuICogYXNzb2NpYXRlZCByb3V0ZXMuXG4gKlxuICogQHBhcmFtIGFwcE5hbWUgVGhlIG5hbWUgb2YgdGhlIGFwcGxpY2F0aW9uLCBlLmcuIGBAb3Blbm1ycy9lc20tbXktYXBwYFxuICogQHBhcmFtIHJvdXRlcyBBIEphdmFzY3JpcHQgb2JqZWN0IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGFwcCdzICByb3V0ZXMuanNvbmBcbiAqIGRlZmluaXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckFwcChhcHBOYW1lOiBzdHJpbmcsIHJvdXRlczogT3Blbm1yc0FwcFJvdXRlcykge1xuICBpZiAoYXBwTmFtZSAmJiByb3V0ZXMgJiYgdHlwZW9mIHJvdXRlcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGRlZmluZUNvbmZpZ1NjaGVtYShhcHBOYW1lLCB7fSk7XG5cbiAgICBjb25zdCBhdmFpbGFibGVFeHRlbnNpb25zOiBBcnJheTxFeHRlbnNpb25EZWZpbml0aW9uPiA9XG4gICAgICByb3V0ZXMuZXh0ZW5zaW9ucyA/PyBbXTtcblxuICAgIHJvdXRlcy5wYWdlcz8uZm9yRWFjaCgocCkgPT4ge1xuICAgICAgcGFnZXMucHVzaCh7IC4uLnAsIG9yZGVyOiBwLm9yZGVyID8/IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLCBhcHBOYW1lIH0pO1xuICAgIH0pO1xuXG4gICAgYXZhaWxhYmxlRXh0ZW5zaW9ucy5mb3JFYWNoKChleHQpID0+IHtcbiAgICAgIHRyeVJlZ2lzdGVyRXh0ZW5zaW9uKGFwcE5hbWUsIGV4dCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIGNhbGxlZCBieSB0aGUgYXBwIHNoZWxsIG9uY2UgYWxsIHJvdXRlIGVudHJpZXMgaGF2ZSBiZWVuIHByb2Nlc3NlZC5cbiAqIFRoaXMgYWN0dWFsbHkgcmVnaXN0ZXJzIHRoZSBwYWdlcyB3aXRoIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBmdW5jdGlvbiBpc1xuICogbmVjZXNzYXJ5IHRvIGVuc3VyZSB0aGF0IHBhZ2VzIGFyZSByZW5kZXJlZCBpbiB0aGUgRE9NIGFjY29yZGluZyB0byB0aGVpclxuICogb3JkZXIgZGVmaW5pdGlvbiwgZXNwZWNpYWxseSBiZWNhdXNlIGNlcnRhaW4gcGFnZXMgX211c3RfIGJlIGZpcnN0IGluIHRoZSBET00uXG4gKlxuICogRWFjaCBwYWdlIGlzIHJlbmRlcmVkIGludG8gYSBkaXYgd2l0aCBhbiBhcHByb3ByaWF0ZSBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluaXNoUmVnaXN0ZXJpbmdBbGxBcHBzKCkge1xuICBwYWdlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgbGV0IHNvcnQgPSBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICBpZiAoc29ydCAhPSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG4gICAgcmV0dXJuIGEuYXBwTmFtZS5sb2NhbGVDb21wYXJlKGIuYXBwTmFtZSwgXCJlblwiKTtcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIGEgZGl2IGZvciBlYWNoIHBhZ2UuIFRoaXMgZW5zdXJlcyB0aGVpciBET00gb3JkZXIuXG4gIC8vIElmIHdlIGRvbid0IGRvIHRoaXMsIFNpbmdsZS1TUEEgNSB3aWxsIGNyZWF0ZSB0aGUgRE9NIGVsZW1lbnQgb25seSBvbmNlXG4gIC8vIHRoZSBwYWdlIGJlY29tZXMgYWN0aXZlLCB3aGljaCBtYWtlcyBpdCBpbXBvc3NpYmxlIHRvIGd1YXJhbnRlZSBvcmRlci5cbiAgbGV0IGFwcEluZGljZXMgPSBuZXcgTWFwKCk7XG4gIGZvciAobGV0IHBhZ2Ugb2YgcGFnZXMpIHtcbiAgICBpZiAoIWFwcEluZGljZXMuaGFzKHBhZ2UuYXBwTmFtZSkpIHtcbiAgICAgIGFwcEluZGljZXMuc2V0KHBhZ2UuYXBwTmFtZSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcEluZGljZXMuc2V0KHBhZ2UuYXBwTmFtZSwgYXBwSW5kaWNlcy5nZXQocGFnZS5hcHBOYW1lKSArIDEpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGFwcEluZGljZXMuZ2V0KHBhZ2UuYXBwTmFtZSk7XG5cbiAgICBjb25zdCBuYW1lID0gYCR7cGFnZS5hcHBOYW1lfS1wYWdlLSR7aW5kZXh9YDtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5pZCA9IGBzaW5nbGUtc3BhLWFwcGxpY2F0aW9uOiR7bmFtZX1gO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB0cnlSZWdpc3RlclBhZ2UobmFtZSwgcGFnZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjdHVhbGx5IGNvbnZlcnRzIGVhY2ggcGFnZSBkZWZpbml0aW9uIGludG8gYSBzaW5nbGUtc3BhIGFwcGxpY2F0aW9uXG4gKiBpZiB0aGF0J3MgcG9zc2libGUuIEFmdGVyIHRoaXMgcG9pbnQsIHBhZ2VzIGFyZSByZW5kZXJlZCB1c2luZyBzaW5nbGUtc3BhJ3NcbiAqIHJvdXRpbmcgbG9naWMuXG4gKlxuICogQHBhcmFtIGFwcE5hbWUgVGhlIG5hbWUgb2YgdGhlIGFwcCBjb250YWluaW5nIHRoaXMgcGFnZVxuICogQHBhcmFtIHBhZ2UgQSBKYXZhc2NyaXB0IG9iamVjdCB0aGF0IGRlc2NyaWJlcyB0aGUgcGFnZSBkZWZpbnRpb24sIGRlcml2ZWQgZnJvbSBgcm91dGVzLmpzb25gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnlSZWdpc3RlclBhZ2UoXG4gIGFwcE5hbWU6IHN0cmluZyxcbiAgcGFnZTogUmVnaXN0ZXJlZFBhZ2VEZWZpbml0aW9uXG4pIHtcbiAgY29uc3Qgcm91dGUgPVxuICAgIHR5cGVvZiBwYWdlLnJvdXRlICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICA/IHBhZ2Uucm91dGVcbiAgICAgIDogdHlwZW9mIHBhZ2Uucm91dGVSZWdleCAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgPyBuZXcgUmVnRXhwKHBhZ2Uucm91dGVSZWdleClcbiAgICAgIDogZmFsc2U7XG5cbiAgaWYgKHJvdXRlID09PSBmYWxzZSkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBBIHJlZ2lzdGVyZWQgcGFnZSBkZWZpbml0aW9uIGlzIG1pc3NpbmcgYSByb3V0ZSBhbmQgdGh1cyBjYW5ub3QgYmUgcmVnaXN0ZXJlZC5cblRvIGZpeCB0aGlzLCBlbnN1cmUgdGhhdCB5b3UgZGVmaW5lIHRoZSBcInJvdXRlXCIgKG9yIGFsdGVybmF0aXZlbHkgdGhlIFwicm91dGVSZWdleFwiKSBmaWVsZCBpbnNpZGUgdGhlIGV4dGVuc2lvbiBkZWZpbml0aW9uLmAsXG4gICAgICBhcHBOYW1lXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXBhZ2UuY29tcG9uZW50KSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYEEgcmVnaXN0ZXJlZCBwYWdlIGRlZmluaXRpb24gaXMgbWlzc2luZyBhIGNvbXBvbmVudCBhbmQgdGh1cyBjYW5ub3QgYmUgcmVnaXN0ZXJlZC5cblRvIGZpeCB0aGlzLCBlbnN1cmUgdGhhdCB5b3UgZGVmaW5lIHRoZSBcImNvbXBvbmVudFwiIGZpZWxkIGluc2lkZSB0aGUgcGFnZSBkZWZpbml0aW9uLmAsXG4gICAgICBhcHBOYW1lXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBhY3Rpdml0eUZuID0gd3JhcFBhZ2VBY3Rpdml0eUZuKGdldEFjdGl2aXR5Rm4ocm91dGUpLCBwYWdlKTtcbiAgY29uc3QgbG9hZGVyID0gZ2V0TG9hZGVyKHBhZ2UuYXBwTmFtZSwgcGFnZS5jb21wb25lbnQpO1xuICByZWdpc3RlckFwcGxpY2F0aW9uKGFwcE5hbWUsIGxvYWRlciwgYWN0aXZpdHlGbik7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBhY3R1YWxseSByZWdpc3RlcnMgYW4gZXh0ZW5zaW9uIGRlZmluaXRpb24gd2l0aCB0aGUgZnJhbWV3b3JrIGFuZCB3aWxsXG4gKiBhdHRhY2ggdGhlIGV4dGVuc2lvbiB0byBhbnkgY29uZmlndXJlZCBzbG90cy5cbiAqXG4gKiBAcGFyYW0gYXBwTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXBwIGNvbnRhaW5pbmcgdGhpcyBwYWdlXG4gKiBAcGFyYW0gZXh0ZW5zaW9uIEEgSmF2YXNjcmlwdCBvYmplY3QgdGhhdCBkZXNjcmliZXMgdGhlIGV4dGVuc2lvbiBkZWZpbnRpb24sIGRlcml2ZWQgZnJvbSBgcm91dGVzLmpzb25gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnlSZWdpc3RlckV4dGVuc2lvbihcbiAgYXBwTmFtZTogc3RyaW5nLFxuICBleHRlbnNpb246IEV4dGVuc2lvbkRlZmluaXRpb25cbikge1xuICBjb25zdCBuYW1lID0gZXh0ZW5zaW9uLm5hbWU7XG4gIGlmICghbmFtZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgQW4gZXh0ZW5zaW9uIGRlZmluaXRpb24gaW4gJHthcHBOYW1lfSBpcyBtaXNzaW5nIGFuIG5hbWUgYW5kIHRodXMgY2Fubm90IGJlXG5yZWdpc3RlcmVkLiBUbyBmaXggdGhpcywgZW5zdXJlIHRoYXQgeW91IGRlZmluZSB0aGUgXCJuYW1lXCIgZmllbGQgaW5zaWRlIHRoZVxuZXh0ZW5zaW9uIGRlZmluaXRpb24uYCxcbiAgICAgIGV4dGVuc2lvblxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGV4dGVuc2lvbi5zbG90cyAmJiBleHRlbnNpb24uc2xvdCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBUaGUgZXh0ZW5zaW9uICR7bmFtZX0gZnJvbSAke2FwcE5hbWV9IGRlY2xhcmVzIGJvdGggYSAnc2xvdHMnIHByb3BlcnR5IGFuZCBcbmEgJ3Nsb3QnIHByb3BlcnR5LiBPbmx5IHRoZSAnc2xvdHMnIHByb3BlcnR5IHdpbGwgYmUgaG9ub3JlZC5gXG4gICAgKTtcbiAgfVxuICBjb25zdCBzbG90cyA9IGV4dGVuc2lvbi5zbG90c1xuICAgID8gZXh0ZW5zaW9uLnNsb3RzXG4gICAgOiBleHRlbnNpb24uc2xvdFxuICAgID8gW2V4dGVuc2lvbi5zbG90XVxuICAgIDogW107XG5cbiAgaWYgKCFleHRlbnNpb24uY29tcG9uZW50ICYmICFleHRlbnNpb24ubG9hZCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgVGhlIGV4dGVuc2lvbiAke25hbWV9IGZyb20gJHthcHBOYW1lfSBpcyBtaXNzaW5nIGEgJ2NvbXBvbmVudCcgZW50cnkgYW5kIHRodXMgY2Fubm90IGJlIHJlZ2lzdGVyZWQuXG5UbyBmaXggdGhpcywgZW5zdXJlIHRoYXQgeW91IGRlZmluZSBhICdjb21wb25lbnQnIGZpZWxkIGluc2lkZSB0aGUgZXh0ZW5zaW9uIGRlZmluaXRpb24uYCxcbiAgICAgIGV4dGVuc2lvblxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGxvYWRlcjtcbiAgaWYgKGV4dGVuc2lvbi5jb21wb25lbnQpIHtcbiAgICBsb2FkZXIgPSBnZXRMb2FkZXIoYXBwTmFtZSwgZXh0ZW5zaW9uLmNvbXBvbmVudCk7XG4gIH0gZWxzZSBpZiAoZXh0ZW5zaW9uLmxvYWQpIHtcbiAgICBpZiAodHlwZW9mIGV4dGVuc2lvbi5sb2FkICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBUaGUgZXh0ZW5zaW9uICR7bmFtZX0gZnJvbSAke2FwcE5hbWV9IGRlY2xhcmVzIGEgJ2xvYWQnIHByb3BlcnR5IHRoYXQgaXMgbm90IGEgZnVuY3Rpb24uIFRoaXMgaXMgbm90XG5zdXBwb3J0ZWQsIHNvIHRoZSBleHRlbnNpb24gd2lsbCBub3QgYmUgbG9hZGVkLmBcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvYWRlciA9IGV4dGVuc2lvbi5sb2FkO1xuICB9XG5cbiAgcmVnaXN0ZXJFeHRlbnNpb24oe1xuICAgIG5hbWUsXG4gICAgbG9hZDogbG9hZGVyLFxuICAgIG1ldGE6IGV4dGVuc2lvbi5tZXRhIHx8IHt9LFxuICAgIG9yZGVyOiBleHRlbnNpb24ub3JkZXIsXG4gICAgbW9kdWxlTmFtZTogYXBwTmFtZSxcbiAgICBwcml2aWxlZ2VzOiBleHRlbnNpb24ucHJpdmlsZWdlcyxcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBzbG90IG9mIHNsb3RzKSB7XG4gICAgYXR0YWNoKHNsb3QsIG5hbWUpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiYXR0YWNoIiwicmVnaXN0ZXJFeHRlbnNpb24iLCJkZWZpbmVDb25maWdTY2hlbWEiLCJpbXBvcnREeW5hbWljIiwicGF0aFRvQWN0aXZlV2hlbiIsInJlZ2lzdGVyQXBwbGljYXRpb24iLCJlbXB0eUxpZmVjeWNsZSIsInJvdXRlUmVnZXgiLCJwYWdlcyIsImdldEFjdGl2aXR5Rm4iLCJyb3V0ZSIsIkFycmF5IiwiaXNBcnJheSIsImFjdGl2YXRvcnMiLCJtYXAiLCJsb2NhdGlvbiIsInNvbWUiLCJhY3RpdmF0b3IiLCJ3aW5kb3ciLCJnZXRPcGVubXJzU3BhQmFzZSIsIlJlZ0V4cCIsIndyYXBQYWdlQWN0aXZpdHlGbiIsImFjdGl2aXR5Rm4iLCJvbmxpbmUiLCJvZmZsaW5lIiwibmF2aWdhdG9yIiwib25MaW5lIiwiU1RBUlRVUF9GVU5DVElPTiIsImluaXRpYWxpemVkQXBwcyIsIk1hcCIsImdldExvYWRlciIsImFwcE5hbWUiLCJjb21wb25lbnQiLCJtb2R1bGUiLCJPYmplY3QiLCJoYXNPd24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXJ0dXAiLCJ0aGVuIiwiY2F0Y2giLCJjb25zb2xlIiwid2FybiIsInJlZ2lzdGVyQXBwIiwicm91dGVzIiwiYXZhaWxhYmxlRXh0ZW5zaW9ucyIsImV4dGVuc2lvbnMiLCJmb3JFYWNoIiwicCIsInB1c2giLCJvcmRlciIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJleHQiLCJ0cnlSZWdpc3RlckV4dGVuc2lvbiIsImZpbmlzaFJlZ2lzdGVyaW5nQWxsQXBwcyIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJhcHBJbmRpY2VzIiwicGFnZSIsImhhcyIsInNldCIsImdldCIsImluZGV4IiwibmFtZSIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlkIiwiYm9keSIsImFwcGVuZENoaWxkIiwidHJ5UmVnaXN0ZXJQYWdlIiwibG9hZGVyIiwiZXh0ZW5zaW9uIiwiZXJyb3IiLCJzbG90cyIsInNsb3QiLCJsb2FkIiwibWV0YSIsIm1vZHVsZU5hbWUiLCJwcml2aWxlZ2VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/apps.ts\n");

/***/ }),

/***/ "./src/helpers.ts":
/*!************************!*\
  !*** ./src/helpers.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   emptyLifecycle: () => (/* binding */ emptyLifecycle),\n/* harmony export */   routeRegex: () => (/* binding */ routeRegex)\n/* harmony export */ });\nvar emptyLifecycle = {\n    bootstrap: function bootstrap() {\n        return Promise.resolve();\n    },\n    mount: function mount() {\n        return Promise.resolve();\n    },\n    unmount: function unmount() {\n        return Promise.resolve();\n    }\n};\nfunction routeRegex(regex, location) {\n    var result = regex.test(location.pathname.replace(window.getOpenmrsSpaBase(), \"\"));\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaGVscGVycy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUVPLElBQU1BLGlCQUFvQztJQUMvQ0MsV0FBQUEsU0FBQUEsWUFBWTtRQUNWLE9BQU9DLFFBQVFDLE9BQU87SUFDeEI7SUFDQUMsT0FBQUEsU0FBQUEsUUFBUTtRQUNOLE9BQU9GLFFBQVFDLE9BQU87SUFDeEI7SUFDQUUsU0FBQUEsU0FBQUEsVUFBVTtRQUNSLE9BQU9ILFFBQVFDLE9BQU87SUFDeEI7QUFDRixFQUFFO0FBRUssU0FBU0csV0FBV0MsS0FBYSxFQUFFQyxRQUFrQixFQUFFO0lBQzVELElBQU1DLFNBQVNGLE1BQU1HLElBQUksQ0FDdkJGLFNBQVNHLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDQyxPQUFPQyxpQkFBaUIsSUFBSTtJQUV4RCxPQUFPTDtBQUNULENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3Blbm1ycy9lc20tYXBwLXNoZWxsLy4vc3JjL2hlbHBlcnMudHM/MWVkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaWZlQ3ljbGVzIH0gZnJvbSBcInNpbmdsZS1zcGFcIjtcblxuZXhwb3J0IGNvbnN0IGVtcHR5TGlmZWN5Y2xlOiBMaWZlQ3ljbGVzPG5ldmVyPiA9IHtcbiAgYm9vdHN0cmFwKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSxcbiAgbW91bnQoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9LFxuICB1bm1vdW50KCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByb3V0ZVJlZ2V4KHJlZ2V4OiBSZWdFeHAsIGxvY2F0aW9uOiBMb2NhdGlvbikge1xuICBjb25zdCByZXN1bHQgPSByZWdleC50ZXN0KFxuICAgIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2Uod2luZG93LmdldE9wZW5tcnNTcGFCYXNlKCksIFwiXCIpXG4gICk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4iXSwibmFtZXMiOlsiZW1wdHlMaWZlY3ljbGUiLCJib290c3RyYXAiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1vdW50IiwidW5tb3VudCIsInJvdXRlUmVnZXgiLCJyZWdleCIsImxvY2F0aW9uIiwicmVzdWx0IiwidGVzdCIsInBhdGhuYW1lIiwicmVwbGFjZSIsIndpbmRvdyIsImdldE9wZW5tcnNTcGFCYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/helpers.ts\n");

/***/ }),

/***/ "./src/locale.ts":
/*!***********************!*\
  !*** ./src/locale.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupI18n: () => (/* binding */ setupI18n)\n/* harmony export */ });\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ \"webpack/sharing/consume/default/i18next/i18next\");\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(i18next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var i18next_icu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18next-icu */ \"../../../node_modules/i18next-icu/index.js\");\n/* harmony import */ var i18next_icu__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(i18next_icu__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next-browser-languagedetector */ \"../../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ \"webpack/sharing/consume/default/react-i18next/react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_es_merge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash-es/merge */ \"../../../node_modules/lodash-es/merge.js\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_4__);\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction _instanceof(left, right) {\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n        return !!right[Symbol.hasInstance](left);\n    } else {\n        return left instanceof right;\n    }\n}\nfunction _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n\n\n\n\n\n\nfunction setupI18n() {\n    window.i18next = (i18next__WEBPACK_IMPORTED_MODULE_0___default()) || i18next__WEBPACK_IMPORTED_MODULE_0__;\n    var languageChangeObserver = new MutationObserver(function() {\n        var reDetect = undefined;\n        window.i18next.changeLanguage(reDetect).catch(function(e) {\n            return console.error(\"i18next failed to re-detect language\", e);\n        });\n    });\n    languageChangeObserver.observe(document.documentElement, {\n        attributeFilter: [\n            \"lang\"\n        ],\n        attributes: true\n    });\n    window.i18next.on(\"languageChanged\", function() {\n        document.documentElement.setAttribute(\"dir\", window.i18next.dir());\n    });\n    return window.i18next.use(i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_2__[\"default\"]).use({\n        type: \"backend\",\n        init: function init() {},\n        read: function read(language, namespace, callback) {\n            if (namespace === \"translation\") {\n                callback(Error(\"can't handle translation namespace\"), null);\n            } else if (namespace === undefined || language === undefined) {\n                callback(Error(), null);\n            } else {\n                (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_4__.importDynamic)(namespace).then(function(module) {\n                    return Promise.all([\n                        getImportPromise(module, namespace, language),\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_4__.getConfigInternal)(namespace)\n                    ]);\n                }).then(function(param) {\n                    var _param = _sliced_to_array(param, 2), json = _param[0], config = _param[1];\n                    var translations = json !== null && json !== void 0 ? json : {};\n                    if (config && \"Translation overrides\" in config) {\n                        var overrides = config[\"Translation overrides\"];\n                        if (language in overrides) {\n                            translations = (0,lodash_es_merge__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(translations, overrides[language]);\n                        }\n                    }\n                    callback(null, translations);\n                }).catch(function(err) {\n                    callback(err, null);\n                });\n            }\n        }\n    }).use(react_i18next__WEBPACK_IMPORTED_MODULE_3__.initReactI18next).use((i18next_icu__WEBPACK_IMPORTED_MODULE_1___default())).init({\n        detection: {\n            order: [\n                \"querystring\",\n                \"htmlTag\",\n                \"localStorage\",\n                \"navigator\"\n            ],\n            lookupQuerystring: \"lang\"\n        },\n        fallbackLng: \"en\"\n    });\n}\nfunction getImportPromise(module, namespace, language) {\n    if (typeof module.importTranslation !== \"function\") {\n        throw Error(\"Module \".concat(namespace, \" does not export an importTranslation function\"));\n    }\n    var importPromise = module.importTranslation(\"./\".concat(language, \".json\"));\n    if (!_instanceof(importPromise, Promise)) {\n        throw Error(\"Module \".concat(namespace, \" exports an importTranslation function that does not return a promise. Did you forget to set require.context mode to 'lazy'?\"));\n    }\n    return importPromise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztJQUVELE9BQU9rQjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9wZW5tcnMvZXNtLWFwcC1zaGVsbC8uL3NyYy9sb2NhbGUudHM/NWMxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpMThuZXh0IGZyb20gXCJpMThuZXh0XCI7XG5pbXBvcnQgSUNVIGZyb20gXCJpMThuZXh0LWljdVwiO1xuaW1wb3J0IExhbmd1YWdlRGV0ZWN0b3IgZnJvbSBcImkxOG5leHQtYnJvd3Nlci1sYW5ndWFnZWRldGVjdG9yXCI7XG5pbXBvcnQgeyBpbml0UmVhY3RJMThuZXh0IH0gZnJvbSBcInJlYWN0LWkxOG5leHRcIjtcbmltcG9ydCBtZXJnZSBmcm9tIFwibG9kYXNoLWVzL21lcmdlXCI7XG5pbXBvcnQge1xuICBnZXRDb25maWdJbnRlcm5hbCxcbiAgaW1wb3J0RHluYW1pYyxcbn0gZnJvbSBcIkBvcGVubXJzL2VzbS1mcmFtZXdvcmsvc3JjL2ludGVybmFsXCI7XG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGkxOG5leHQ6IGkxOG5leHQuaTE4bjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBJMThuKCkge1xuICB3aW5kb3cuaTE4bmV4dCA9IGkxOG5leHQuZGVmYXVsdCB8fCBpMThuZXh0O1xuXG4gIGNvbnN0IGxhbmd1YWdlQ2hhbmdlT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgY29uc3QgcmVEZXRlY3Q6IGFueSA9IHVuZGVmaW5lZDtcbiAgICB3aW5kb3cuaTE4bmV4dFxuICAgICAgLmNoYW5nZUxhbmd1YWdlKHJlRGV0ZWN0KVxuICAgICAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmVycm9yKFwiaTE4bmV4dCBmYWlsZWQgdG8gcmUtZGV0ZWN0IGxhbmd1YWdlXCIsIGUpKTtcbiAgfSk7XG5cbiAgbGFuZ3VhZ2VDaGFuZ2VPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wibGFuZ1wiXSxcbiAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICB9KTtcblxuICB3aW5kb3cuaTE4bmV4dC5vbihcImxhbmd1YWdlQ2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRpclwiLCB3aW5kb3cuaTE4bmV4dC5kaXIoKSk7XG4gIH0pO1xuXG4gIHJldHVybiB3aW5kb3cuaTE4bmV4dFxuICAgIC51c2UoTGFuZ3VhZ2VEZXRlY3RvcilcbiAgICAudXNlKHtcbiAgICAgIHR5cGU6IFwiYmFja2VuZFwiLFxuICAgICAgaW5pdCgpIHt9LFxuICAgICAgcmVhZChsYW5ndWFnZSwgbmFtZXNwYWNlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAobmFtZXNwYWNlID09PSBcInRyYW5zbGF0aW9uXCIpIHtcbiAgICAgICAgICBjYWxsYmFjayhFcnJvcihcImNhbid0IGhhbmRsZSB0cmFuc2xhdGlvbiBuYW1lc3BhY2VcIiksIG51bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gdW5kZWZpbmVkIHx8IGxhbmd1YWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjYWxsYmFjayhFcnJvcigpLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbXBvcnREeW5hbWljKG5hbWVzcGFjZSlcbiAgICAgICAgICAgIC50aGVuKChtb2R1bGUpID0+XG4gICAgICAgICAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBnZXRJbXBvcnRQcm9taXNlKG1vZHVsZSwgbmFtZXNwYWNlLCBsYW5ndWFnZSksXG4gICAgICAgICAgICAgICAgZ2V0Q29uZmlnSW50ZXJuYWwobmFtZXNwYWNlKSxcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKChbanNvbiwgY29uZmlnXSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgdHJhbnNsYXRpb25zID0ganNvbiA/PyB7fTtcblxuICAgICAgICAgICAgICBpZiAoY29uZmlnICYmIFwiVHJhbnNsYXRpb24gb3ZlcnJpZGVzXCIgaW4gY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcnJpZGVzID0gY29uZmlnW1wiVHJhbnNsYXRpb24gb3ZlcnJpZGVzXCJdO1xuICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSBpbiBvdmVycmlkZXMpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9ucyA9IG1lcmdlKHRyYW5zbGF0aW9ucywgb3ZlcnJpZGVzW2xhbmd1YWdlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgdHJhbnNsYXRpb25zKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycjogRXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0gYXMgaTE4bmV4dC5CYWNrZW5kTW9kdWxlKVxuICAgIC51c2UoaW5pdFJlYWN0STE4bmV4dClcbiAgICAudXNlKElDVSlcbiAgICAuaW5pdCh7XG4gICAgICBkZXRlY3Rpb246IHtcbiAgICAgICAgb3JkZXI6IFtcInF1ZXJ5c3RyaW5nXCIsIFwiaHRtbFRhZ1wiLCBcImxvY2FsU3RvcmFnZVwiLCBcIm5hdmlnYXRvclwiXSxcbiAgICAgICAgbG9va3VwUXVlcnlzdHJpbmc6IFwibGFuZ1wiLFxuICAgICAgfSxcbiAgICAgIGZhbGxiYWNrTG5nOiBcImVuXCIsXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEltcG9ydFByb21pc2UoXG4gIG1vZHVsZToge1xuICAgIGltcG9ydFRyYW5zbGF0aW9uOiAobGFuZ3VhZ2U6IHN0cmluZykgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PjtcbiAgfSxcbiAgbmFtZXNwYWNlOiBzdHJpbmcsXG4gIGxhbmd1YWdlOiBzdHJpbmdcbikge1xuICBpZiAodHlwZW9mIG1vZHVsZS5pbXBvcnRUcmFuc2xhdGlvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgRXJyb3IoXG4gICAgICBgTW9kdWxlICR7bmFtZXNwYWNlfSBkb2VzIG5vdCBleHBvcnQgYW4gaW1wb3J0VHJhbnNsYXRpb24gZnVuY3Rpb25gXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGltcG9ydFByb21pc2UgPSBtb2R1bGUuaW1wb3J0VHJhbnNsYXRpb24oYC4vJHtsYW5ndWFnZX0uanNvbmApO1xuXG4gIGlmICghKGltcG9ydFByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgIHRocm93IEVycm9yKFxuICAgICAgYE1vZHVsZSAke25hbWVzcGFjZX0gZXhwb3J0cyBhbiBpbXBvcnRUcmFuc2xhdGlvbiBmdW5jdGlvbiB0aGF0IGRvZXMgbm90IHJldHVybiBhIHByb21pc2UuIERpZCB5b3UgZm9yZ2V0IHRvIHNldCByZXF1aXJlLmNvbnRleHQgbW9kZSB0byAnbGF6eSc/YFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gaW1wb3J0UHJvbWlzZTtcbn1cbiJdLCJuYW1lcyI6WyJpMThuZXh0IiwiSUNVIiwiTGFuZ3VhZ2VEZXRlY3RvciIsImluaXRSZWFjdEkxOG5leHQiLCJtZXJnZSIsImdldENvbmZpZ0ludGVybmFsIiwiaW1wb3J0RHluYW1pYyIsInNldHVwSTE4biIsIndpbmRvdyIsImRlZmF1bHQiLCJsYW5ndWFnZUNoYW5nZU9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsInJlRGV0ZWN0IiwidW5kZWZpbmVkIiwiY2hhbmdlTGFuZ3VhZ2UiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJvYnNlcnZlIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJhdHRyaWJ1dGVGaWx0ZXIiLCJhdHRyaWJ1dGVzIiwib24iLCJzZXRBdHRyaWJ1dGUiLCJkaXIiLCJ1c2UiLCJ0eXBlIiwiaW5pdCIsInJlYWQiLCJsYW5ndWFnZSIsIm5hbWVzcGFjZSIsImNhbGxiYWNrIiwiRXJyb3IiLCJ0aGVuIiwibW9kdWxlIiwiUHJvbWlzZSIsImFsbCIsImdldEltcG9ydFByb21pc2UiLCJqc29uIiwiY29uZmlnIiwidHJhbnNsYXRpb25zIiwib3ZlcnJpZGVzIiwiZXJyIiwiZGV0ZWN0aW9uIiwib3JkZXIiLCJsb29rdXBRdWVyeXN0cmluZyIsImZhbGxiYWNrTG5nIiwiaW1wb3J0VHJhbnNsYXRpb24iLCJpbXBvcnRQcm9taXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/locale.ts\n");

/***/ }),

/***/ "./src/run.ts":
/*!********************!*\
  !*** ./src/run.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   run: () => (/* binding */ run)\n/* harmony export */ });\n/* harmony import */ var single_spa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! single-spa */ \"webpack/sharing/consume/default/single-spa/single-spa\");\n/* harmony import */ var single_spa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(single_spa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @openmrs/esm-framework/src/internal */ \"webpack/sharing/consume/default/@openmrs/esm-framework/src/internal/@openmrs/esm-framework/src/internal\");\n/* harmony import */ var _openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _apps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps */ \"./src/apps.ts\");\n/* harmony import */ var _locale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./locale */ \"./src/locale.ts\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui */ \"./src/ui/index.ts\");\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\nfunction _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _object_spread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, g, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    };\n    return(g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g);\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\n\n\n\n\n\n// @internal\n// used to track when the window.installedModules global is finalised\n// so we can pre-load all modules\nvar REGISTRATION_PROMISES = Symbol(\"openmrs_registration_promises\");\nfunction setupApps() {\n    return _setupApps.apply(this, arguments);\n}\nfunction _setupApps() {\n    _setupApps = /**\n * Sets up the frontend modules (apps). Uses the defined export\n * from the root modules of the apps. This is done by reading the\n * list of apps from the routes.registry.json file, which serves\n * as the registry of all apps in the application.\n */ _async_to_generator(function() {\n        var scriptTags, promises, i, routes, modules, registrationPromises;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    scriptTags = document.querySelectorAll(\"script[type='openmrs-routes']\");\n                    promises = [];\n                    for(i = 0; i < scriptTags.length; i++){\n                        promises.push((function() {\n                            var _ref = _async_to_generator(function(scriptTag) {\n                                var routes, e, _scriptTag_src;\n                                return _ts_generator(this, function(_state) {\n                                    switch(_state.label){\n                                        case 0:\n                                            routes = undefined;\n                                            _state.label = 1;\n                                        case 1:\n                                            _state.trys.push([\n                                                1,\n                                                5,\n                                                ,\n                                                6\n                                            ]);\n                                            if (!scriptTag.textContent) return [\n                                                3,\n                                                2\n                                            ];\n                                            routes = JSON.parse(scriptTag.textContent);\n                                            return [\n                                                3,\n                                                4\n                                            ];\n                                        case 2:\n                                            if (!scriptTag.src) return [\n                                                3,\n                                                4\n                                            ];\n                                            return [\n                                                4,\n                                                (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.openmrsFetch)(scriptTag.src)\n                                            ];\n                                        case 3:\n                                            routes = _state.sent().data;\n                                            _state.label = 4;\n                                        case 4:\n                                            return [\n                                                3,\n                                                6\n                                            ];\n                                        case 5:\n                                            e = _state.sent();\n                                            console.error(\"Caught error while loading routes from \".concat((_scriptTag_src = scriptTag.src) !== null && _scriptTag_src !== void 0 ? _scriptTag_src : \"JSON script tag content\"), e);\n                                            return [\n                                                2,\n                                                {}\n                                            ];\n                                        case 6:\n                                            return [\n                                                2,\n                                                Promise.resolve(routes !== null && routes !== void 0 ? routes : {})\n                                            ];\n                                    }\n                                });\n                            });\n                            return function(scriptTag) {\n                                return _ref.apply(this, arguments);\n                            };\n                        })()(scriptTags.item(i)));\n                    }\n                    return [\n                        4,\n                        Promise.all(promises)\n                    ];\n                case 1:\n                    routes = _state.sent().reduce(function(accumulatedRoutes, routes) {\n                        return _object_spread({}, accumulatedRoutes, routes);\n                    }, {});\n                    modules = [];\n                    registrationPromises = Object.entries(routes).map(function() {\n                        var _ref = _async_to_generator(function(param) {\n                            var _param, module, routes;\n                            return _ts_generator(this, function(_state) {\n                                _param = _sliced_to_array(param, 2), module = _param[0], routes = _param[1];\n                                modules.push([\n                                    module,\n                                    routes\n                                ]);\n                                (0,_apps__WEBPACK_IMPORTED_MODULE_2__.registerApp)(module, routes);\n                                return [\n                                    2\n                                ];\n                            });\n                        });\n                        return function(_) {\n                            return _ref.apply(this, arguments);\n                        };\n                    }());\n                    window[REGISTRATION_PROMISES] = Promise.all(registrationPromises);\n                    window.installedModules = modules;\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return _setupApps.apply(this, arguments);\n}\nfunction loadConfigs(configs) {\n    return _loadConfigs.apply(this, arguments);\n}\nfunction _loadConfigs() {\n    _loadConfigs = /**\n * Loads the provided configurations and sets them in the system.\n */ _async_to_generator(function(configs) {\n        var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, config;\n        return _ts_generator(this, function(_state) {\n            _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n            try {\n                for(_iterator = configs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                    config = _step.value;\n                    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.provide)(config.value, config.name);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally{\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return != null) {\n                        _iterator.return();\n                    }\n                } finally{\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n            return [\n                2\n            ];\n        });\n    });\n    return _loadConfigs.apply(this, arguments);\n}\n/**\n * Invoked when the connectivity is changed.\n */ function connectivityChanged() {\n    var online = navigator.onLine;\n    // NB We do not wait for this to be done; it is simply scheduled\n    (0,single_spa__WEBPACK_IMPORTED_MODULE_0__.triggerAppChange)();\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.dispatchConnectivityChanged)(online);\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showToast)({\n        critical: true,\n        description: \"Connection: \".concat(online ? \"online\" : \"offline\"),\n        title: \"App\",\n        kind: online ? \"success\" : \"warning\"\n    });\n}\n/**\n * Runs the shell by importing the translations and starting single SPA.\n */ function runShell() {\n    window.addEventListener(\"offline\", connectivityChanged);\n    window.addEventListener(\"online\", connectivityChanged);\n    return (0,_locale__WEBPACK_IMPORTED_MODULE_3__.setupI18n)().catch(function(err) {\n        return console.error(\"Failed to initialize translations\", err);\n    }).then(function() {\n        return (0,single_spa__WEBPACK_IMPORTED_MODULE_0__.start)();\n    });\n}\nfunction preloadScripts() {\n    return _preloadScripts.apply(this, arguments);\n}\nfunction _preloadScripts() {\n    _preloadScripts = _async_to_generator(function() {\n        var _ref, importMap;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        Promise.all([\n                            window[REGISTRATION_PROMISES],\n                            (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.getCurrentImportMap)()\n                        ])\n                    ];\n                case 1:\n                    _ref = _sliced_to_array.apply(void 0, [\n                        _state.sent(),\n                        2\n                    ]), importMap = _ref[1];\n                    window.installedModules.map(function() {\n                        var _ref = _async_to_generator(function(param) {\n                            var _param, module;\n                            return _ts_generator(this, function(_state) {\n                                _param = _sliced_to_array(param, 1), module = _param[0];\n                                (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.importDynamic)(module, undefined, {\n                                    importMap: importMap\n                                });\n                                return [\n                                    2\n                                ];\n                            });\n                        });\n                        return function(_) {\n                            return _ref.apply(this, arguments);\n                        };\n                    }());\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return _preloadScripts.apply(this, arguments);\n}\nfunction handleInitFailure(e) {\n    console.error(e);\n    renderFatalErrorPage(e);\n}\nfunction renderFatalErrorPage(e) {\n    var template = document.querySelector(\"#app-error\");\n    if (template) {\n        var fragment = template.content.cloneNode(true);\n        var messageContainer = fragment.querySelector('[data-var=\"message\"]');\n        if (messageContainer) {\n            messageContainer.textContent = (e === null || e === void 0 ? void 0 : e.message) || \"No additional information available.\";\n        }\n        if (localStorage.getItem(\"openmrs:devtools\") && Object.keys(localStorage).some(function(k) {\n            return k.startsWith(\"import-map-override:\");\n        })) {\n            var appErrorActionButtons = fragment === null || fragment === void 0 ? void 0 : fragment.querySelector(\"#buttons\");\n            if (appErrorActionButtons) {\n                var clearDevOverridesButton = document.createElement(\"button\");\n                clearDevOverridesButton.className = \"cds--btn\";\n                clearDevOverridesButton.innerHTML = \"Clear dev overrides\";\n                clearDevOverridesButton.onclick = clearDevOverrides;\n                appErrorActionButtons.appendChild(clearDevOverridesButton);\n            }\n        }\n        document.body.appendChild(fragment);\n    }\n}\nfunction clearDevOverrides() {\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = Object.keys(localStorage)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var key = _step.value;\n            if (key.startsWith(\"import-map-override:\") && ![\n                \"import-map-override:react\",\n                \"import-map-override:react-dom\"\n            ].includes(key)) {\n                localStorage.removeItem(key);\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n    location.reload();\n}\nfunction createConfigLoader(configUrls) {\n    var loadingConfigs = Promise.all(configUrls.map(function(configUrl) {\n        var interpolatedUrl = (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.interpolateUrl)(configUrl);\n        return fetch(interpolatedUrl).then(function(res) {\n            return res.json();\n        }).then(function(config) {\n            return {\n                name: configUrl,\n                value: config\n            };\n        }).catch(function(err) {\n            console.error('Loading the config from \"'.concat(configUrl, '\" failed.'), err);\n            return {\n                name: configUrl,\n                value: {}\n            };\n        });\n    }));\n    return function() {\n        return loadingConfigs.then(loadConfigs);\n    };\n}\nfunction showNotifications() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderInlineNotifications)(document.querySelector(\".omrs-inline-notifications-container\"));\n    return;\n}\nfunction showActionableNotifications() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderActionableNotifications)(document.querySelector(\".omrs-actionable-notifications-container\"));\n}\nfunction showToasts() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderToasts)(document.querySelector(\".omrs-toasts-container\"));\n}\nfunction showModals() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderModals)(document.querySelector(\".omrs-modals-container\"));\n}\nfunction showLoadingSpinner() {\n    return (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.renderLoadingSpinner)(document.body);\n}\n/**\n * Registers the extensions coming from the app shell itself.\n */ function registerCoreExtensions() {\n    var extensions = (0,_ui__WEBPACK_IMPORTED_MODULE_4__.getCoreExtensions)();\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        for(var _iterator = extensions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var extension = _step.value;\n            (0,_apps__WEBPACK_IMPORTED_MODULE_2__.tryRegisterExtension)(_ui__WEBPACK_IMPORTED_MODULE_4__.appName, extension);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\nfunction setupOffline() {\n    return _setupOffline.apply(this, arguments);\n}\nfunction _setupOffline() {\n    _setupOffline = _async_to_generator(function() {\n        var error;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    _state.trys.push([\n                        0,\n                        3,\n                        ,\n                        4\n                    ]);\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.registerOmrsServiceWorker)(\"\".concat(window.getOpenmrsSpaBase(), \"service-worker.js\"))\n                    ];\n                case 1:\n                    _state.sent();\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.activateOfflineCapability)()\n                    ];\n                case 2:\n                    _state.sent();\n                    setupOfflineStaticDependencyPrecaching();\n                    return [\n                        3,\n                        4\n                    ];\n                case 3:\n                    error = _state.sent();\n                    console.error(\"Error while setting up offline mode.\", error);\n                    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showNotification)({\n                        kind: \"error\",\n                        title: \"Offline Setup Error\",\n                        description: error.message\n                    });\n                    return [\n                        3,\n                        4\n                    ];\n                case 4:\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return _setupOffline.apply(this, arguments);\n}\nfunction setupOfflineStaticDependencyPrecaching() {\n    var precacheDelay = 1000 * 60 * 5;\n    var lastPrecache = null;\n    subscribeOnlineAndLoginChange(function(online, hasLoggedInUser) {\n        var hasExceededPrecacheDelay = !lastPrecache || new Date().getTime() - lastPrecache.getTime() > precacheDelay;\n        if (hasLoggedInUser && online && hasExceededPrecacheDelay) {\n            lastPrecache = new Date();\n            (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.dispatchPrecacheStaticDependencies)();\n        }\n    });\n}\nfunction subscribeOnlineAndLoginChange(cb) {\n    var isOnline = false;\n    var hasLoggedInUser = false;\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.getCurrentUser)({\n        includeAuthStatus: false\n    }).subscribe(function(user) {\n        hasLoggedInUser = !!user;\n        cb(isOnline, hasLoggedInUser);\n    });\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeConnectivity)(function(param) {\n        var online = param.online;\n        isOnline = online;\n        cb(online, hasLoggedInUser);\n    });\n}\nfunction precacheGlobalStaticDependencies() {\n    return _precacheGlobalStaticDependencies.apply(this, arguments);\n}\nfunction _precacheGlobalStaticDependencies() {\n    _precacheGlobalStaticDependencies = _async_to_generator(function() {\n        var sessionPathUrl;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        precacheImportMap()\n                    ];\n                case 1:\n                    _state.sent();\n                    sessionPathUrl = new URL(\"\".concat(window.openmrsBase, \"/ws/rest/v1/session\"), window.location.origin).href;\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.messageOmrsServiceWorker)({\n                            type: \"registerDynamicRoute\",\n                            url: sessionPathUrl,\n                            strategy: \"network-first\"\n                        })\n                    ];\n                case 2:\n                    _state.sent();\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.openmrsFetch)(\"/ws/rest/v1/session\").catch(function(e) {\n                            return console.warn(\"Failed to precache the user session data from the app shell. MFs depending on this data may run into problems while offline.\", e);\n                        })\n                    ];\n                case 3:\n                    _state.sent();\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return _precacheGlobalStaticDependencies.apply(this, arguments);\n}\nfunction precacheImportMap() {\n    return _precacheImportMap.apply(this, arguments);\n}\nfunction _precacheImportMap() {\n    _precacheImportMap = _async_to_generator(function() {\n        var importMap;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        window.importMapOverrides.getCurrentPageMap()\n                    ];\n                case 1:\n                    importMap = _state.sent();\n                    return [\n                        4,\n                        (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.messageOmrsServiceWorker)({\n                            type: \"onImportMapChanged\",\n                            importMap: importMap\n                        })\n                    ];\n                case 2:\n                    _state.sent();\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return _precacheImportMap.apply(this, arguments);\n}\nfunction setupOfflineCssClasses() {\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeConnectivity)(function(param) {\n        var online = param.online;\n        var body = document.querySelector(\"body\");\n        if (online) {\n            body.classList.remove(\"omrs-offline\");\n        } else {\n            body.classList.add(\"omrs-offline\");\n        }\n    });\n}\nfunction run(configUrls, offline) {\n    var closeLoading = showLoadingSpinner();\n    var provideConfigs = createConfigLoader(configUrls);\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.integrateBreakpoints)();\n    showToasts();\n    showModals();\n    showNotifications();\n    showActionableNotifications();\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.createAppState)({});\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeNotificationShown)(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showNotification);\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeActionableNotificationShown)(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showActionableNotification);\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribeToastShown)(_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.showToast);\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.subscribePrecacheStaticDependencies)(precacheGlobalStaticDependencies);\n    (0,_openmrs_esm_framework_src_internal__WEBPACK_IMPORTED_MODULE_1__.setupApiModule)();\n    registerCoreExtensions();\n    return setupApps().then(_apps__WEBPACK_IMPORTED_MODULE_2__.finishRegisteringAllApps).then(setupOfflineCssClasses).then(provideConfigs).then(runShell).catch(handleInitFailure).then(closeLoading).then(offline ? setupOffline : undefined).then(preloadScripts);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNBO0lBQzdCZ0Isd0dBQW1DQSxDQUFDOEg7SUFDcENwSixtRkFBY0E7SUFDZGtJO0lBRUEsT0FBTy9GLFlBQ0prRCxJQUFJLENBQUMxRCwyREFBd0JBLEVBQzdCMEQsSUFBSSxDQUFDNEUsd0JBQ0w1RSxJQUFJLENBQUNtRixnQkFDTG5GLElBQUksQ0FBQ0osVUFDTEUsS0FBSyxDQUFDSyxtQkFDTkgsSUFBSSxDQUFDa0YsY0FDTGxGLElBQUksQ0FBQ2lGLFVBQVVqQyxlQUFlckYsU0FBUyxFQUN2Q3FDLElBQUksQ0FBQ0M7QUFDVixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG9wZW5tcnMvZXNtLWFwcC1zaGVsbC8uL3NyYy9ydW4udHM/YmMyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdGFydCwgdHJpZ2dlckFwcENoYW5nZSB9IGZyb20gXCJzaW5nbGUtc3BhXCI7XG5pbXBvcnQge1xuICBzZXR1cEFwaU1vZHVsZSxcbiAgcmVuZGVyTG9hZGluZ1NwaW5uZXIsXG4gIGNyZWF0ZUFwcFN0YXRlLFxuICBDb25maWcsXG4gIHByb3ZpZGUsXG4gIHNob3dOb3RpZmljYXRpb24sXG4gIHNob3dBY3Rpb25hYmxlTm90aWZpY2F0aW9uLFxuICBzaG93VG9hc3QsXG4gIHJlbmRlcklubGluZU5vdGlmaWNhdGlvbnMsXG4gIHJlbmRlckFjdGlvbmFibGVOb3RpZmljYXRpb25zLFxuICByZW5kZXJUb2FzdHMsXG4gIGludGVncmF0ZUJyZWFrcG9pbnRzLFxuICBkaXNwYXRjaENvbm5lY3Rpdml0eUNoYW5nZWQsXG4gIHN1YnNjcmliZU5vdGlmaWNhdGlvblNob3duLFxuICBzdWJzY3JpYmVBY3Rpb25hYmxlTm90aWZpY2F0aW9uU2hvd24sXG4gIHN1YnNjcmliZVRvYXN0U2hvd24sXG4gIHJlZ2lzdGVyT21yc1NlcnZpY2VXb3JrZXIsXG4gIG1lc3NhZ2VPbXJzU2VydmljZVdvcmtlcixcbiAgc3Vic2NyaWJlQ29ubmVjdGl2aXR5LFxuICBnZXRDdXJyZW50VXNlcixcbiAgcmVuZGVyTW9kYWxzLFxuICBkaXNwYXRjaFByZWNhY2hlU3RhdGljRGVwZW5kZW5jaWVzLFxuICBhY3RpdmF0ZU9mZmxpbmVDYXBhYmlsaXR5LFxuICBzdWJzY3JpYmVQcmVjYWNoZVN0YXRpY0RlcGVuZGVuY2llcyxcbiAgb3Blbm1yc0ZldGNoLFxuICBpbnRlcnBvbGF0ZVVybCxcbiAgT3Blbm1yc1JvdXRlcyxcbiAgZ2V0Q3VycmVudEltcG9ydE1hcCxcbiAgaW1wb3J0RHluYW1pYyxcbn0gZnJvbSBcIkBvcGVubXJzL2VzbS1mcmFtZXdvcmsvc3JjL2ludGVybmFsXCI7XG5pbXBvcnQge1xuICBmaW5pc2hSZWdpc3RlcmluZ0FsbEFwcHMsXG4gIHJlZ2lzdGVyQXBwLFxuICB0cnlSZWdpc3RlckV4dGVuc2lvbixcbn0gZnJvbSBcIi4vYXBwc1wiO1xuaW1wb3J0IHsgc2V0dXBJMThuIH0gZnJvbSBcIi4vbG9jYWxlXCI7XG5pbXBvcnQgeyBhcHBOYW1lLCBnZXRDb3JlRXh0ZW5zaW9ucyB9IGZyb20gXCIuL3VpXCI7XG5cbi8vIEBpbnRlcm5hbFxuLy8gdXNlZCB0byB0cmFjayB3aGVuIHRoZSB3aW5kb3cuaW5zdGFsbGVkTW9kdWxlcyBnbG9iYWwgaXMgZmluYWxpc2VkXG4vLyBzbyB3ZSBjYW4gcHJlLWxvYWQgYWxsIG1vZHVsZXNcbmNvbnN0IFJFR0lTVFJBVElPTl9QUk9NSVNFUyA9IFN5bWJvbChcIm9wZW5tcnNfcmVnaXN0cmF0aW9uX3Byb21pc2VzXCIpO1xuXG4vKipcbiAqIFNldHMgdXAgdGhlIGZyb250ZW5kIG1vZHVsZXMgKGFwcHMpLiBVc2VzIHRoZSBkZWZpbmVkIGV4cG9ydFxuICogZnJvbSB0aGUgcm9vdCBtb2R1bGVzIG9mIHRoZSBhcHBzLiBUaGlzIGlzIGRvbmUgYnkgcmVhZGluZyB0aGVcbiAqIGxpc3Qgb2YgYXBwcyBmcm9tIHRoZSByb3V0ZXMucmVnaXN0cnkuanNvbiBmaWxlLCB3aGljaCBzZXJ2ZXNcbiAqIGFzIHRoZSByZWdpc3RyeSBvZiBhbGwgYXBwcyBpbiB0aGUgYXBwbGljYXRpb24uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNldHVwQXBwcygpIHtcbiAgY29uc3Qgc2NyaXB0VGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTFNjcmlwdEVsZW1lbnQ+KFxuICAgIFwic2NyaXB0W3R5cGU9J29wZW5tcnMtcm91dGVzJ11cIlxuICApO1xuXG4gIGNvbnN0IHByb21pc2VzOiBBcnJheTxQcm9taXNlPE9wZW5tcnNSb3V0ZXM+PiA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNjcmlwdFRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgKGFzeW5jIChzY3JpcHRUYWcpID0+IHtcbiAgICAgICAgbGV0IHJvdXRlczogT3Blbm1yc1JvdXRlcyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoc2NyaXB0VGFnLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICByb3V0ZXMgPSBKU09OLnBhcnNlKHNjcmlwdFRhZy50ZXh0Q29udGVudCkgYXMgT3Blbm1yc1JvdXRlcztcbiAgICAgICAgICB9IGVsc2UgaWYgKHNjcmlwdFRhZy5zcmMpIHtcbiAgICAgICAgICAgIHJvdXRlcyA9IChhd2FpdCBvcGVubXJzRmV0Y2g8T3Blbm1yc1JvdXRlcz4oc2NyaXB0VGFnLnNyYykpLmRhdGE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGBDYXVnaHQgZXJyb3Igd2hpbGUgbG9hZGluZyByb3V0ZXMgZnJvbSAke1xuICAgICAgICAgICAgICBzY3JpcHRUYWcuc3JjID8/IFwiSlNPTiBzY3JpcHQgdGFnIGNvbnRlbnRcIlxuICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICBlXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocm91dGVzID8/IHt9KTtcbiAgICAgIH0pKHNjcmlwdFRhZ3MuaXRlbShpKSlcbiAgICApO1xuICB9XG5cbiAgY29uc3Qgcm91dGVzID0gKGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKSkucmVkdWNlKFxuICAgIChhY2N1bXVsYXRlZFJvdXRlcywgcm91dGVzKSA9PiAoeyAuLi5hY2N1bXVsYXRlZFJvdXRlcywgLi4ucm91dGVzIH0pLFxuICAgIHt9XG4gICk7XG5cbiAgY29uc3QgbW9kdWxlczogdHlwZW9mIHdpbmRvdy5pbnN0YWxsZWRNb2R1bGVzID0gW107XG4gIGNvbnN0IHJlZ2lzdHJhdGlvblByb21pc2VzID0gT2JqZWN0LmVudHJpZXMocm91dGVzKS5tYXAoXG4gICAgYXN5bmMgKFttb2R1bGUsIHJvdXRlc10pID0+IHtcbiAgICAgIG1vZHVsZXMucHVzaChbbW9kdWxlLCByb3V0ZXNdKTtcbiAgICAgIHJlZ2lzdGVyQXBwKG1vZHVsZSwgcm91dGVzKTtcbiAgICB9XG4gICk7XG5cbiAgd2luZG93W1JFR0lTVFJBVElPTl9QUk9NSVNFU10gPSBQcm9taXNlLmFsbChyZWdpc3RyYXRpb25Qcm9taXNlcyk7XG4gIHdpbmRvdy5pbnN0YWxsZWRNb2R1bGVzID0gbW9kdWxlcztcbn1cblxuLyoqXG4gKiBMb2FkcyB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbnMgYW5kIHNldHMgdGhlbSBpbiB0aGUgc3lzdGVtLlxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkQ29uZmlncyhjb25maWdzOiBBcnJheTx7IG5hbWU6IHN0cmluZzsgdmFsdWU6IENvbmZpZyB9Pikge1xuICBmb3IgKGNvbnN0IGNvbmZpZyBvZiBjb25maWdzKSB7XG4gICAgcHJvdmlkZShjb25maWcudmFsdWUsIGNvbmZpZy5uYW1lKTtcbiAgfVxufVxuXG4vKipcbiAqIEludm9rZWQgd2hlbiB0aGUgY29ubmVjdGl2aXR5IGlzIGNoYW5nZWQuXG4gKi9cbmZ1bmN0aW9uIGNvbm5lY3Rpdml0eUNoYW5nZWQoKSB7XG4gIGNvbnN0IG9ubGluZSA9IG5hdmlnYXRvci5vbkxpbmU7XG4gIC8vIE5CIFdlIGRvIG5vdCB3YWl0IGZvciB0aGlzIHRvIGJlIGRvbmU7IGl0IGlzIHNpbXBseSBzY2hlZHVsZWRcbiAgdHJpZ2dlckFwcENoYW5nZSgpO1xuXG4gIGRpc3BhdGNoQ29ubmVjdGl2aXR5Q2hhbmdlZChvbmxpbmUpO1xuICBzaG93VG9hc3Qoe1xuICAgIGNyaXRpY2FsOiB0cnVlLFxuICAgIGRlc2NyaXB0aW9uOiBgQ29ubmVjdGlvbjogJHtvbmxpbmUgPyBcIm9ubGluZVwiIDogXCJvZmZsaW5lXCJ9YCxcbiAgICB0aXRsZTogXCJBcHBcIixcbiAgICBraW5kOiBvbmxpbmUgPyBcInN1Y2Nlc3NcIiA6IFwid2FybmluZ1wiLFxuICB9KTtcbn1cblxuLyoqXG4gKiBSdW5zIHRoZSBzaGVsbCBieSBpbXBvcnRpbmcgdGhlIHRyYW5zbGF0aW9ucyBhbmQgc3RhcnRpbmcgc2luZ2xlIFNQQS5cbiAqL1xuZnVuY3Rpb24gcnVuU2hlbGwoKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCBjb25uZWN0aXZpdHlDaGFuZ2VkKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwgY29ubmVjdGl2aXR5Q2hhbmdlZCk7XG4gIHJldHVybiBzZXR1cEkxOG4oKVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSB0cmFuc2xhdGlvbnNgLCBlcnIpKVxuICAgIC50aGVuKCgpID0+IHN0YXJ0KCkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwcmVsb2FkU2NyaXB0cygpIHtcbiAgY29uc3QgWywgaW1wb3J0TWFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICB3aW5kb3dbUkVHSVNUUkFUSU9OX1BST01JU0VTXSxcbiAgICBnZXRDdXJyZW50SW1wb3J0TWFwKCksXG4gIF0pO1xuXG4gIHdpbmRvdy5pbnN0YWxsZWRNb2R1bGVzLm1hcChhc3luYyAoW21vZHVsZV0pID0+IHtcbiAgICBpbXBvcnREeW5hbWljKG1vZHVsZSwgdW5kZWZpbmVkLCB7IGltcG9ydE1hcCB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUluaXRGYWlsdXJlKGU6IEVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoZSk7XG4gIHJlbmRlckZhdGFsRXJyb3JQYWdlKGUpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJGYXRhbEVycm9yUGFnZShlPzogRXJyb3IpIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+KFwiI2FwcC1lcnJvclwiKTtcblxuICBpZiAodGVtcGxhdGUpIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIGFzIERvY3VtZW50RnJhZ21lbnQ7XG4gICAgY29uc3QgbWVzc2FnZUNvbnRhaW5lciA9IGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXZhcj1cIm1lc3NhZ2VcIl0nKTtcblxuICAgIGlmIChtZXNzYWdlQ29udGFpbmVyKSB7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnRleHRDb250ZW50ID1cbiAgICAgICAgZT8ubWVzc2FnZSB8fCBcIk5vIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYXZhaWxhYmxlLlwiO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwib3Blbm1yczpkZXZ0b29sc1wiKSAmJlxuICAgICAgT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5zb21lKChrKSA9PlxuICAgICAgICBrLnN0YXJ0c1dpdGgoXCJpbXBvcnQtbWFwLW92ZXJyaWRlOlwiKVxuICAgICAgKVxuICAgICkge1xuICAgICAgY29uc3QgYXBwRXJyb3JBY3Rpb25CdXR0b25zID0gZnJhZ21lbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIjYnV0dG9uc1wiKTtcbiAgICAgIGlmIChhcHBFcnJvckFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgY29uc3QgY2xlYXJEZXZPdmVycmlkZXNCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBjbGVhckRldk92ZXJyaWRlc0J1dHRvbi5jbGFzc05hbWUgPSBcImNkcy0tYnRuXCI7XG4gICAgICAgIGNsZWFyRGV2T3ZlcnJpZGVzQnV0dG9uLmlubmVySFRNTCA9IFwiQ2xlYXIgZGV2IG92ZXJyaWRlc1wiO1xuICAgICAgICBjbGVhckRldk92ZXJyaWRlc0J1dHRvbi5vbmNsaWNrID0gY2xlYXJEZXZPdmVycmlkZXM7XG4gICAgICAgIGFwcEVycm9yQWN0aW9uQnV0dG9ucy5hcHBlbmRDaGlsZChjbGVhckRldk92ZXJyaWRlc0J1dHRvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJEZXZPdmVycmlkZXMoKSB7XG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkpIHtcbiAgICBpZiAoXG4gICAgICBrZXkuc3RhcnRzV2l0aChcImltcG9ydC1tYXAtb3ZlcnJpZGU6XCIpICYmXG4gICAgICAhW1wiaW1wb3J0LW1hcC1vdmVycmlkZTpyZWFjdFwiLCBcImltcG9ydC1tYXAtb3ZlcnJpZGU6cmVhY3QtZG9tXCJdLmluY2x1ZGVzKFxuICAgICAgICBrZXlcbiAgICAgIClcbiAgICApIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfVxuICB9XG4gIGxvY2F0aW9uLnJlbG9hZCgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb25maWdMb2FkZXIoY29uZmlnVXJsczogQXJyYXk8c3RyaW5nPikge1xuICBjb25zdCBsb2FkaW5nQ29uZmlncyA9IFByb21pc2UuYWxsKFxuICAgIGNvbmZpZ1VybHMubWFwKChjb25maWdVcmwpID0+IHtcbiAgICAgIGNvbnN0IGludGVycG9sYXRlZFVybCA9IGludGVycG9sYXRlVXJsKGNvbmZpZ1VybCk7XG4gICAgICByZXR1cm4gZmV0Y2goaW50ZXJwb2xhdGVkVXJsKVxuICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICAgICAgICAudGhlbigoY29uZmlnKSA9PiAoe1xuICAgICAgICAgIG5hbWU6IGNvbmZpZ1VybCxcbiAgICAgICAgICB2YWx1ZTogY29uZmlnLFxuICAgICAgICB9KSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBMb2FkaW5nIHRoZSBjb25maWcgZnJvbSBcIiR7Y29uZmlnVXJsfVwiIGZhaWxlZC5gLCBlcnIpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBjb25maWdVcmwsXG4gICAgICAgICAgICB2YWx1ZToge30sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuICgpID0+IGxvYWRpbmdDb25maWdzLnRoZW4obG9hZENvbmZpZ3MpO1xufVxuXG5mdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9ucygpIHtcbiAgcmVuZGVySW5saW5lTm90aWZpY2F0aW9ucyhcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9tcnMtaW5saW5lLW5vdGlmaWNhdGlvbnMtY29udGFpbmVyXCIpXG4gICk7XG4gIHJldHVybjtcbn1cblxuZnVuY3Rpb24gc2hvd0FjdGlvbmFibGVOb3RpZmljYXRpb25zKCkge1xuICByZW5kZXJBY3Rpb25hYmxlTm90aWZpY2F0aW9ucyhcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9tcnMtYWN0aW9uYWJsZS1ub3RpZmljYXRpb25zLWNvbnRhaW5lclwiKVxuICApO1xufVxuXG5mdW5jdGlvbiBzaG93VG9hc3RzKCkge1xuICByZW5kZXJUb2FzdHMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbXJzLXRvYXN0cy1jb250YWluZXJcIikpO1xufVxuXG5mdW5jdGlvbiBzaG93TW9kYWxzKCkge1xuICByZW5kZXJNb2RhbHMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vbXJzLW1vZGFscy1jb250YWluZXJcIikpO1xufVxuXG5mdW5jdGlvbiBzaG93TG9hZGluZ1NwaW5uZXIoKSB7XG4gIHJldHVybiByZW5kZXJMb2FkaW5nU3Bpbm5lcihkb2N1bWVudC5ib2R5KTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgdGhlIGV4dGVuc2lvbnMgY29taW5nIGZyb20gdGhlIGFwcCBzaGVsbCBpdHNlbGYuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyQ29yZUV4dGVuc2lvbnMoKSB7XG4gIGNvbnN0IGV4dGVuc2lvbnMgPSBnZXRDb3JlRXh0ZW5zaW9ucygpO1xuICBmb3IgKGNvbnN0IGV4dGVuc2lvbiBvZiBleHRlbnNpb25zKSB7XG4gICAgdHJ5UmVnaXN0ZXJFeHRlbnNpb24oYXBwTmFtZSwgZXh0ZW5zaW9uKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzZXR1cE9mZmxpbmUoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgcmVnaXN0ZXJPbXJzU2VydmljZVdvcmtlcihcbiAgICAgIGAke3dpbmRvdy5nZXRPcGVubXJzU3BhQmFzZSgpfXNlcnZpY2Utd29ya2VyLmpzYFxuICAgICk7XG4gICAgYXdhaXQgYWN0aXZhdGVPZmZsaW5lQ2FwYWJpbGl0eSgpO1xuICAgIHNldHVwT2ZmbGluZVN0YXRpY0RlcGVuZGVuY3lQcmVjYWNoaW5nKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoaWxlIHNldHRpbmcgdXAgb2ZmbGluZSBtb2RlLlwiLCBlcnJvcik7XG4gICAgc2hvd05vdGlmaWNhdGlvbih7XG4gICAgICBraW5kOiBcImVycm9yXCIsXG4gICAgICB0aXRsZTogXCJPZmZsaW5lIFNldHVwIEVycm9yXCIsXG4gICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSxcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXR1cE9mZmxpbmVTdGF0aWNEZXBlbmRlbmN5UHJlY2FjaGluZygpIHtcbiAgY29uc3QgcHJlY2FjaGVEZWxheSA9IDEwMDAgKiA2MCAqIDU7XG4gIGxldCBsYXN0UHJlY2FjaGU6IERhdGUgfCBudWxsID0gbnVsbDtcblxuICBzdWJzY3JpYmVPbmxpbmVBbmRMb2dpbkNoYW5nZSgob25saW5lLCBoYXNMb2dnZWRJblVzZXIpID0+IHtcbiAgICBjb25zdCBoYXNFeGNlZWRlZFByZWNhY2hlRGVsYXkgPVxuICAgICAgIWxhc3RQcmVjYWNoZSB8fFxuICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsYXN0UHJlY2FjaGUuZ2V0VGltZSgpID4gcHJlY2FjaGVEZWxheTtcblxuICAgIGlmIChoYXNMb2dnZWRJblVzZXIgJiYgb25saW5lICYmIGhhc0V4Y2VlZGVkUHJlY2FjaGVEZWxheSkge1xuICAgICAgbGFzdFByZWNhY2hlID0gbmV3IERhdGUoKTtcbiAgICAgIGRpc3BhdGNoUHJlY2FjaGVTdGF0aWNEZXBlbmRlbmNpZXMoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmVPbmxpbmVBbmRMb2dpbkNoYW5nZShcbiAgY2I6IChvbmxpbmU6IGJvb2xlYW4sIGhhc0xvZ2dlZEluVXNlcjogYm9vbGVhbikgPT4gdm9pZFxuKSB7XG4gIGxldCBpc09ubGluZSA9IGZhbHNlO1xuICBsZXQgaGFzTG9nZ2VkSW5Vc2VyID0gZmFsc2U7XG5cbiAgZ2V0Q3VycmVudFVzZXIoeyBpbmNsdWRlQXV0aFN0YXR1czogZmFsc2UgfSkuc3Vic2NyaWJlKCh1c2VyKSA9PiB7XG4gICAgaGFzTG9nZ2VkSW5Vc2VyID0gISF1c2VyO1xuICAgIGNiKGlzT25saW5lLCBoYXNMb2dnZWRJblVzZXIpO1xuICB9KTtcblxuICBzdWJzY3JpYmVDb25uZWN0aXZpdHkoKHsgb25saW5lIH0pID0+IHtcbiAgICBpc09ubGluZSA9IG9ubGluZTtcbiAgICBjYihvbmxpbmUsIGhhc0xvZ2dlZEluVXNlcik7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwcmVjYWNoZUdsb2JhbFN0YXRpY0RlcGVuZGVuY2llcygpIHtcbiAgYXdhaXQgcHJlY2FjaGVJbXBvcnRNYXAoKTtcblxuICAvLyBCeSBkZWZhdWx0LCBjYWNoZSB0aGUgc2Vzc2lvbiBlbmRwb2ludC5cbiAgLy8gVGhpcyBlbnN1cmVzIHRoYXQgYSBsb3Qgb2YgdXNlci9zZXNzaW9uIHJlbGF0ZWQgZnVuY3Rpb25zIGFsc28gd29yayBvZmZsaW5lLlxuICBjb25zdCBzZXNzaW9uUGF0aFVybCA9IG5ldyBVUkwoXG4gICAgYCR7d2luZG93Lm9wZW5tcnNCYXNlfS93cy9yZXN0L3YxL3Nlc3Npb25gLFxuICAgIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cbiAgKS5ocmVmO1xuXG4gIGF3YWl0IG1lc3NhZ2VPbXJzU2VydmljZVdvcmtlcih7XG4gICAgdHlwZTogXCJyZWdpc3RlckR5bmFtaWNSb3V0ZVwiLFxuICAgIHVybDogc2Vzc2lvblBhdGhVcmwsXG4gICAgc3RyYXRlZ3k6IFwibmV0d29yay1maXJzdFwiLFxuICB9KTtcblxuICBhd2FpdCBvcGVubXJzRmV0Y2goXCIvd3MvcmVzdC92MS9zZXNzaW9uXCIpLmNhdGNoKChlKSA9PlxuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiRmFpbGVkIHRvIHByZWNhY2hlIHRoZSB1c2VyIHNlc3Npb24gZGF0YSBmcm9tIHRoZSBhcHAgc2hlbGwuIE1GcyBkZXBlbmRpbmcgb24gdGhpcyBkYXRhIG1heSBydW4gaW50byBwcm9ibGVtcyB3aGlsZSBvZmZsaW5lLlwiLFxuICAgICAgZVxuICAgIClcbiAgKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJlY2FjaGVJbXBvcnRNYXAoKSB7XG4gIGNvbnN0IGltcG9ydE1hcCA9IGF3YWl0IHdpbmRvdy5pbXBvcnRNYXBPdmVycmlkZXMuZ2V0Q3VycmVudFBhZ2VNYXAoKTtcbiAgYXdhaXQgbWVzc2FnZU9tcnNTZXJ2aWNlV29ya2VyKHtcbiAgICB0eXBlOiBcIm9uSW1wb3J0TWFwQ2hhbmdlZFwiLFxuICAgIGltcG9ydE1hcCxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwT2ZmbGluZUNzc0NsYXNzZXMoKSB7XG4gIHN1YnNjcmliZUNvbm5lY3Rpdml0eSgoeyBvbmxpbmUgfSkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKSE7XG4gICAgaWYgKG9ubGluZSkge1xuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwib21ycy1vZmZsaW5lXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJvbXJzLW9mZmxpbmVcIik7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihjb25maWdVcmxzOiBBcnJheTxzdHJpbmc+LCBvZmZsaW5lOiBib29sZWFuKSB7XG4gIGNvbnN0IGNsb3NlTG9hZGluZyA9IHNob3dMb2FkaW5nU3Bpbm5lcigpO1xuICBjb25zdCBwcm92aWRlQ29uZmlncyA9IGNyZWF0ZUNvbmZpZ0xvYWRlcihjb25maWdVcmxzKTtcblxuICBpbnRlZ3JhdGVCcmVha3BvaW50cygpO1xuICBzaG93VG9hc3RzKCk7XG4gIHNob3dNb2RhbHMoKTtcbiAgc2hvd05vdGlmaWNhdGlvbnMoKTtcbiAgc2hvd0FjdGlvbmFibGVOb3RpZmljYXRpb25zKCk7XG4gIGNyZWF0ZUFwcFN0YXRlKHt9KTtcbiAgc3Vic2NyaWJlTm90aWZpY2F0aW9uU2hvd24oc2hvd05vdGlmaWNhdGlvbik7XG4gIHN1YnNjcmliZUFjdGlvbmFibGVOb3RpZmljYXRpb25TaG93bihzaG93QWN0aW9uYWJsZU5vdGlmaWNhdGlvbik7XG4gIHN1YnNjcmliZVRvYXN0U2hvd24oc2hvd1RvYXN0KTtcbiAgc3Vic2NyaWJlUHJlY2FjaGVTdGF0aWNEZXBlbmRlbmNpZXMocHJlY2FjaGVHbG9iYWxTdGF0aWNEZXBlbmRlbmNpZXMpO1xuICBzZXR1cEFwaU1vZHVsZSgpO1xuICByZWdpc3RlckNvcmVFeHRlbnNpb25zKCk7XG5cbiAgcmV0dXJuIHNldHVwQXBwcygpXG4gICAgLnRoZW4oZmluaXNoUmVnaXN0ZXJpbmdBbGxBcHBzKVxuICAgIC50aGVuKHNldHVwT2ZmbGluZUNzc0NsYXNzZXMpXG4gICAgLnRoZW4ocHJvdmlkZUNvbmZpZ3MpXG4gICAgLnRoZW4ocnVuU2hlbGwpXG4gICAgLmNhdGNoKGhhbmRsZUluaXRGYWlsdXJlKVxuICAgIC50aGVuKGNsb3NlTG9hZGluZylcbiAgICAudGhlbihvZmZsaW5lID8gc2V0dXBPZmZsaW5lIDogdW5kZWZpbmVkKVxuICAgIC50aGVuKHByZWxvYWRTY3JpcHRzKTtcbn1cbiJdLCJuYW1lcyI6WyJzdGFydCIsInRyaWdnZXJBcHBDaGFuZ2UiLCJzZXR1cEFwaU1vZHVsZSIsInJlbmRlckxvYWRpbmdTcGlubmVyIiwiY3JlYXRlQXBwU3RhdGUiLCJwcm92aWRlIiwic2hvd05vdGlmaWNhdGlvbiIsInNob3dBY3Rpb25hYmxlTm90aWZpY2F0aW9uIiwic2hvd1RvYXN0IiwicmVuZGVySW5saW5lTm90aWZpY2F0aW9ucyIsInJlbmRlckFjdGlvbmFibGVOb3RpZmljYXRpb25zIiwicmVuZGVyVG9hc3RzIiwiaW50ZWdyYXRlQnJlYWtwb2ludHMiLCJkaXNwYXRjaENvbm5lY3Rpdml0eUNoYW5nZWQiLCJzdWJzY3JpYmVOb3RpZmljYXRpb25TaG93biIsInN1YnNjcmliZUFjdGlvbmFibGVOb3RpZmljYXRpb25TaG93biIsInN1YnNjcmliZVRvYXN0U2hvd24iLCJyZWdpc3Rlck9tcnNTZXJ2aWNlV29ya2VyIiwibWVzc2FnZU9tcnNTZXJ2aWNlV29ya2VyIiwic3Vic2NyaWJlQ29ubmVjdGl2aXR5IiwiZ2V0Q3VycmVudFVzZXIiLCJyZW5kZXJNb2RhbHMiLCJkaXNwYXRjaFByZWNhY2hlU3RhdGljRGVwZW5kZW5jaWVzIiwiYWN0aXZhdGVPZmZsaW5lQ2FwYWJpbGl0eSIsInN1YnNjcmliZVByZWNhY2hlU3RhdGljRGVwZW5kZW5jaWVzIiwib3Blbm1yc0ZldGNoIiwiaW50ZXJwb2xhdGVVcmwiLCJnZXRDdXJyZW50SW1wb3J0TWFwIiwiaW1wb3J0RHluYW1pYyIsImZpbmlzaFJlZ2lzdGVyaW5nQWxsQXBwcyIsInJlZ2lzdGVyQXBwIiwidHJ5UmVnaXN0ZXJFeHRlbnNpb24iLCJzZXR1cEkxOG4iLCJhcHBOYW1lIiwiZ2V0Q29yZUV4dGVuc2lvbnMiLCJSRUdJU1RSQVRJT05fUFJPTUlTRVMiLCJTeW1ib2wiLCJzZXR1cEFwcHMiLCJzY3JpcHRUYWdzIiwicHJvbWlzZXMiLCJpIiwicm91dGVzIiwibW9kdWxlcyIsInJlZ2lzdHJhdGlvblByb21pc2VzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwicHVzaCIsInNjcmlwdFRhZyIsImUiLCJ1bmRlZmluZWQiLCJ0ZXh0Q29udGVudCIsIkpTT04iLCJwYXJzZSIsInNyYyIsImRhdGEiLCJjb25zb2xlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsIml0ZW0iLCJhbGwiLCJyZWR1Y2UiLCJhY2N1bXVsYXRlZFJvdXRlcyIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJtb2R1bGUiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwibG9hZENvbmZpZ3MiLCJjb25maWdzIiwiY29uZmlnIiwidmFsdWUiLCJuYW1lIiwiY29ubmVjdGl2aXR5Q2hhbmdlZCIsIm9ubGluZSIsIm5hdmlnYXRvciIsIm9uTGluZSIsImNyaXRpY2FsIiwiZGVzY3JpcHRpb24iLCJ0aXRsZSIsImtpbmQiLCJydW5TaGVsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXRjaCIsImVyciIsInRoZW4iLCJwcmVsb2FkU2NyaXB0cyIsImltcG9ydE1hcCIsImhhbmRsZUluaXRGYWlsdXJlIiwicmVuZGVyRmF0YWxFcnJvclBhZ2UiLCJ0ZW1wbGF0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJmcmFnbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJtZXNzYWdlQ29udGFpbmVyIiwibWVzc2FnZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJrZXlzIiwic29tZSIsImsiLCJzdGFydHNXaXRoIiwiYXBwRXJyb3JBY3Rpb25CdXR0b25zIiwiY2xlYXJEZXZPdmVycmlkZXNCdXR0b24iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5uZXJIVE1MIiwib25jbGljayIsImNsZWFyRGV2T3ZlcnJpZGVzIiwiYXBwZW5kQ2hpbGQiLCJib2R5Iiwia2V5IiwiaW5jbHVkZXMiLCJyZW1vdmVJdGVtIiwibG9jYXRpb24iLCJyZWxvYWQiLCJjcmVhdGVDb25maWdMb2FkZXIiLCJjb25maWdVcmxzIiwibG9hZGluZ0NvbmZpZ3MiLCJjb25maWdVcmwiLCJpbnRlcnBvbGF0ZWRVcmwiLCJmZXRjaCIsInJlcyIsImpzb24iLCJzaG93Tm90aWZpY2F0aW9ucyIsInNob3dBY3Rpb25hYmxlTm90aWZpY2F0aW9ucyIsInNob3dUb2FzdHMiLCJzaG93TW9kYWxzIiwic2hvd0xvYWRpbmdTcGlubmVyIiwicmVnaXN0ZXJDb3JlRXh0ZW5zaW9ucyIsImV4dGVuc2lvbnMiLCJleHRlbnNpb24iLCJzZXR1cE9mZmxpbmUiLCJnZXRPcGVubXJzU3BhQmFzZSIsInNldHVwT2ZmbGluZVN0YXRpY0RlcGVuZGVuY3lQcmVjYWNoaW5nIiwicHJlY2FjaGVEZWxheSIsImxhc3RQcmVjYWNoZSIsInN1YnNjcmliZU9ubGluZUFuZExvZ2luQ2hhbmdlIiwiaGFzTG9nZ2VkSW5Vc2VyIiwiaGFzRXhjZWVkZWRQcmVjYWNoZURlbGF5IiwiRGF0ZSIsImdldFRpbWUiLCJjYiIsImlzT25saW5lIiwiaW5jbHVkZUF1dGhTdGF0dXMiLCJzdWJzY3JpYmUiLCJ1c2VyIiwicHJlY2FjaGVHbG9iYWxTdGF0aWNEZXBlbmRlbmNpZXMiLCJzZXNzaW9uUGF0aFVybCIsInByZWNhY2hlSW1wb3J0TWFwIiwiVVJMIiwib3Blbm1yc0Jhc2UiLCJvcmlnaW4iLCJocmVmIiwidHlwZSIsInVybCIsInN0cmF0ZWd5Iiwid2FybiIsImltcG9ydE1hcE92ZXJyaWRlcyIsImdldEN1cnJlbnRQYWdlTWFwIiwic2V0dXBPZmZsaW5lQ3NzQ2xhc3NlcyIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInJ1biIsIm9mZmxpbmUiLCJjbG9zZUxvYWRpbmciLCJwcm92aWRlQ29uZmlncyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/run.ts\n");

/***/ }),

/***/ "./src/ui/index.ts":
/*!*************************!*\
  !*** ./src/ui/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appName: () => (/* binding */ appName),\n/* harmony export */   getCoreExtensions: () => (/* binding */ getCoreExtensions)\n/* harmony export */ });\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openmrs/esm-framework */ \"webpack/sharing/consume/default/@openmrs/esm-framework/@openmrs/esm-framework\");\n/* harmony import */ var _openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__);\n\nvar appName = \"@openmrs/esm-app-shell\";\nfunction getCoreExtensions() {\n    var options = {\n        featureName: \"app-shell\",\n        moduleName: appName\n    };\n    return [\n        {\n            name: \"breadcrumbs-widget\",\n            slot: \"breadcrumbs-slot\",\n            load: (0,_openmrs_esm_framework__WEBPACK_IMPORTED_MODULE_0__.getAsyncLifecycle)(function() {\n                return __webpack_require__.e(/*! import() */ \"src_ui_breadcrumbs_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./breadcrumbs */ \"./src/ui/breadcrumbs.tsx\"));\n            }, options),\n            online: true,\n            offline: true\n        }\n    ];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdWkvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyRDtBQUVwRCxJQUFNQyxVQUFVLHlCQUF5QjtBQUV6QyxTQUFTQyxvQkFBb0I7SUFDbEMsSUFBTUMsVUFBVTtRQUNkQyxhQUFhO1FBQ2JDLFlBQVlKO0lBQ2Q7SUFFQSxPQUFPO1FBQ0w7WUFDRUssTUFBTTtZQUNOQyxNQUFNO1lBQ05DLE1BQU1SLHlFQUFpQkEsQ0FBQzt1QkFBTSxvS0FBdUI7ZUFBRUc7WUFDdkRNLFFBQVEsSUFBSTtZQUNaQyxTQUFTLElBQUk7UUFDZjtLQUNEO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BvcGVubXJzL2VzbS1hcHAtc2hlbGwvLi9zcmMvdWkvaW5kZXgudHM/OWJiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRBc3luY0xpZmVjeWNsZSB9IGZyb20gXCJAb3Blbm1ycy9lc20tZnJhbWV3b3JrXCI7XG5cbmV4cG9ydCBjb25zdCBhcHBOYW1lID0gXCJAb3Blbm1ycy9lc20tYXBwLXNoZWxsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JlRXh0ZW5zaW9ucygpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBmZWF0dXJlTmFtZTogXCJhcHAtc2hlbGxcIixcbiAgICBtb2R1bGVOYW1lOiBhcHBOYW1lLFxuICB9O1xuXG4gIHJldHVybiBbXG4gICAge1xuICAgICAgbmFtZTogXCJicmVhZGNydW1icy13aWRnZXRcIixcbiAgICAgIHNsb3Q6IFwiYnJlYWRjcnVtYnMtc2xvdFwiLFxuICAgICAgbG9hZDogZ2V0QXN5bmNMaWZlY3ljbGUoKCkgPT4gaW1wb3J0KFwiLi9icmVhZGNydW1ic1wiKSwgb3B0aW9ucyksXG4gICAgICBvbmxpbmU6IHRydWUsXG4gICAgICBvZmZsaW5lOiB0cnVlLFxuICAgIH0sXG4gIF07XG59XG4iXSwibmFtZXMiOlsiZ2V0QXN5bmNMaWZlY3ljbGUiLCJhcHBOYW1lIiwiZ2V0Q29yZUV4dGVuc2lvbnMiLCJvcHRpb25zIiwiZmVhdHVyZU5hbWUiLCJtb2R1bGVOYW1lIiwibmFtZSIsInNsb3QiLCJsb2FkIiwib25saW5lIiwib2ZmbGluZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/ui/index.ts\n");

/***/ }),

/***/ "?d643":
/*!*******************************!*\
  !*** ./lib/locales (ignored) ***!
  \*******************************/
/***/ (() => {

/* (ignored) */

/***/ })

}]);