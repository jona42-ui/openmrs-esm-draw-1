(globalThis.webpackChunk_openmrs_esm_primary_navigation_app=globalThis.webpackChunk_openmrs_esm_primary_navigation_app||[]).push([[948],{8412:(e,n,t)=>{"use strict";t.d(n,{A_:()=>l,I0:()=>c,Ul:()=>p,jO:()=>y});var r=t(8478),o=t(1217);function i(e,n,t,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void t(e)}u.done?n(l):Promise.resolve(l).then(r,o)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function u(e){i(a,r,o,u,l,"next",e)}function l(e){i(a,r,o,u,l,"throw",e)}u(void 0)}))}}function u(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function l(e,n,t){return s.apply(this,arguments)}function s(){return(s=a((function(e,n,t){return u(this,(function(o){switch(o.label){case 0:return[4,(0,r.openmrsFetch)("/ws/rest/v1/user/".concat(e),{method:"POST",body:{userProperties:n},headers:{"Content-Type":"application/json"},signal:t.signal})];case 1:return o.sent(),window.location.reload(),[2]}}))}))).apply(this,arguments)}function c(e,n){return f.apply(this,arguments)}function f(){return(f=a((function(e,n){return u(this,(function(t){switch(t.label){case 0:return[4,(0,r.queueSynchronizationItemFor)(e,o.O,n,{displayName:"User Language Change"})];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function p(e,n){return h.apply(this,arguments)}function h(){return(h=a((function(e,n){return u(this,(function(t){switch(t.label){case 0:return[4,(0,r.openmrsFetch)("/ws/rest/v1/session",{method:"POST",body:{locale:e},headers:{"Content-Type":"application/json"},signal:n.signal})];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function y(e,n){return d.apply(this,arguments)}function d(){return(d=a((function(e,n){return u(this,(function(e){return[2]}))}))).apply(this,arguments)}},6639:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>u,genericLinkConfigSchema:()=>a});var r=t(5776),o=t.n(r),i=t(4610),a={title:{_default:"New Link",_type:i.Type.String},target:{_default:"#",_type:i.Type.String,_description:"The URL to link to.",_validators:[i.validators.isUrl]}};function u(){var e=(0,i.useConfig)();return o().createElement(i.ConfigurableLink,{to:e.target},e.title)}},1217:(e,n,t)=>{"use strict";t.d(n,{O:()=>r,e:()=>o});var r="user-property-change",o="@openmrs/esm-primary-navigation-app"},5948:(e,n,t)=>{"use strict";t.r(n),t.d(n,{importTranslation:()=>v,linkComponent:()=>A,localeChanger:()=>x,redirect:()=>S,root:()=>k,startupApp:()=>w,userPanel:()=>T});var r=t(4610),o=t(5875),i={logo:{src:{_type:r.Type.String,_default:null,_description:"A path or URL to an image. Defaults to the OpenMRS SVG sprite."},alt:{_type:r.Type.String,_default:"Logo",_description:"Alt text, shown on hover"},name:{_type:r.Type.String,_default:null,_description:"The organization name displayed when image is absent"}},externalRefLinks:{_type:r.Type.Array,_elements:{title:{_type:r.Type.String,_description:"Title of the link"},redirect:{_type:r.Type.String,_description:"Link to redirect to (must be an external link)",_validators:[r.validators.isUrl]}},_default:[],_description:"The external links to be showcased in the app menu"}},a=t(1217),u=t(8478),l=t(8412);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e,n,t,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void t(e)}u.done?n(l):Promise.resolve(l).then(r,o)}function f(e,n){if(e){if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function p(e,n){return h.apply(this,arguments)}function h(){var e;return e=function(e,n){var t,r,o,i;return function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:return 0!==n.index?[3,3]:[4,(0,u.getLoggedInUser)()];case 1:return r=e.sent(),o=n.items.map((function(e){var n,t,r=(t=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(n,t)||f(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r[0],r[1]})),i=(t=Object).assign.apply(t,[{},r.userProperties].concat(function(e){if(Array.isArray(e))return s(e)}(a=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||f(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[4,(0,l.A_)(r.uuid,i,n.abort)];case 2:e.sent(),(0,u.refetchCurrentUser)(),e.label=3;case 3:return[2]}var a}))},h=function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))},h.apply(this,arguments)}var y=t(6639);function d(e,n,t,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void t(e)}u.done?n(l):Promise.resolve(l).then(r,o)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){d(i,r,o,a,u,"next",e)}function u(e){d(i,r,o,a,u,"throw",e)}a(void 0)}))}}function m(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var v=t(3979),g={featureName:"primary navigation",moduleName:a.e};function w(){(0,r.defineConfigSchema)(a.e,i),(0,r.defineExtensionConfigSchema)("link",y.genericLinkConfigSchema),(0,r.setupOfflineSync)(a.O,[],p)}var _,k=(0,r.getAsyncLifecycle)((function(){return Promise.all([t.e(113),t.e(414),t.e(631),t.e(680),t.e(241)]).then(t.bind(t,6241))}),g),S=(_=b((function(){return m(this,(function(e){return[2,{bootstrap:b((function(){return m(this,(function(e){switch(e.label){case 0:return[4,(0,o.navigateToUrl)(window.getOpenmrsSpaBase()+"home")];case 1:return[2,e.sent()]}}))})),mount:b((function(){return m(this,(function(e){return[2,void 0]}))})),unmount:b((function(){return m(this,(function(e){return[2,void 0]}))}))}]}))})),function(){return _.apply(this,arguments)}),T=(0,r.getAsyncLifecycle)((function(){return Promise.all([t.e(113),t.e(414),t.e(716)]).then(t.bind(t,9716))}),g),x=(0,r.getAsyncLifecycle)((function(){return Promise.all([t.e(113),t.e(680),t.e(743)]).then(t.bind(t,2743))}),g),A=(0,r.getAsyncLifecycle)((function(){return Promise.resolve().then(t.bind(t,6639))}),{featureName:"Link",moduleName:a.e})},3979:(e,n,t)=>{var r={"./am.json":[8788,625],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807]};function o(e){if(!t.o(r,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((()=>t(o)))}o.keys=()=>Object.keys(r),o.id=3979,e.exports=o}}]);