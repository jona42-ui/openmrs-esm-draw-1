"use strict";(globalThis.webpackChunk_openmrs_esm_offline_tools_app=globalThis.webpackChunk_openmrs_esm_offline_tools_app||[]).push([[412],{8436:(n,t,e)=>{e.d(t,{a:()=>y,u:()=>b});var r=e(8478),o=e(6776);function i(n){var t=-1,e=null==n?0:n.length;for(this.__data__=new o.Z;++t<e;)this.add(n[t])}i.prototype.add=i.prototype.push=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},i.prototype.has=function(n){return this.__data__.has(n)};const a=i;var u=e(4372);const l=function(n,t){return!(null==n||!n.length)&&(0,u.Z)(n,t,0)>-1},f=function(n,t,e){for(var r=-1,o=null==n?0:n.length;++r<o;)if(e(t,n[r]))return!0;return!1},c=function(n,t){return n.has(t)};var s=e(948),d=e(658);const h=(0,s.Z)(d.Z,"Set"),p=function(n){var t=-1,e=Array(n.size);return n.forEach((function(n){e[++t]=n})),e},v=h&&1/p(new h([,-0]))[1]==1/0?function(n){return new h(n)}:function(){},m=function(n){return n&&n.length?function(n,t,e){var r=-1,o=l,i=n.length,u=!0,s=[],d=s;if(e)u=!1,o=f;else if(i>=200){var h=t?null:v(n);if(h)return p(h);u=!1,o=c,d=new a}else d=t?[]:s;n:for(;++r<i;){var m=n[r],_=t?t(m):m;if(m=e||0!==m?m:0,u&&_==_){for(var g=d.length;g--;)if(d[g]===_)continue n;t&&d.push(_),s.push(m)}else o(d,_,e)||(d!==s&&d.push(_),s.push(m))}return s}(n):[]};var _=e(4572);function g(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function y(){return(0,_.ZP)("offlineActions/pending",(function(){return(0,r.getFullSynchronizationItems)()}))}function b(n){var t=n?m(n.map((function(n){var t;return null==n||null===(t=n.descriptor)||void 0===t?void 0:t.patientUuid})).filter(Boolean)):null;return(0,_.ZP)((function(){return["patients"].concat(function(n){if(Array.isArray(n))return g(n)}(n=t)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return g(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?g(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var n}),(function(){return Promise.all(t.map((function(n){return(0,r.fetchCurrentPatient)(n)})))}))}},6412:(n,t,e)=>{e.r(t),e.d(t,{default:()=>c});var r=e(5776),o=e.n(r),i=e(2680),a=e(8436),u=e(1217),l=e(1681),f=e(1180);const c=function(){var n=(0,i.useTranslation)().t,t=(0,a.a)().data;return o().createElement(f.Z,{header:n("homeOverviewCardOfflineActionsHeader","Offline actions"),viewLink:u._.offlineToolsActions},o().createElement(l.Z,{header:n("homeOverviewCardOfflineActionsFailedToUpload","Failed to upload"),isLoading:!t,content:o().createElement(o().Fragment,null,null==t?void 0:t.filter((function(n){return n.lastError})).length)}),o().createElement(l.Z,{header:n("homeOverviewCardOfflineActionsPendingUpload","Pending upload"),isLoading:!t,content:o().createElement(o().Fragment,null,null==t?void 0:t.length)}))}},4372:(n,t,e)=>{e.d(t,{Z:()=>o});const r=function(n){return n!=n},o=function(n,t,e){return t==t?function(n,t,e){for(var r=e-1,o=n.length;++r<o;)if(n[r]===t)return r;return-1}(n,t,e):function(n,t,e,r){for(var o=n.length,i=e+(r?1:-1);r?i--:++i<o;)if(t(n[i],i,n))return i;return-1}(n,r,e)}}}]);