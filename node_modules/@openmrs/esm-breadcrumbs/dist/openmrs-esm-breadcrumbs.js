System.register(["@openmrs/esm-state"],(function(e,r){var t={};return{setters:[function(e){t.createGlobalStore=e.createGlobalStore}],execute:function(){e((()=>{"use strict";var e={685:e=>{e.exports=t}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{function e(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function r(e){return e&&e.sensitive?"":"i"}function t(t,n,i){return function(t,n,i){void 0===i&&(i={});for(var o=i.strict,a=void 0!==o&&o,u=i.start,f=void 0===u||u,s=i.end,l=void 0===s||s,c=i.encode,p=void 0===c?function(e){return e}:c,d="["+e(i.endsWith||"")+"]|$",v="["+e(i.delimiter||"/#?")+"]",y=f?"^":"",m=0,h=t;m<h.length;m++){var g=h[m];if("string"==typeof g)y+=e(p(g));else{var b=e(p(g.prefix)),x=e(p(g.suffix));if(g.pattern)if(n&&n.push(g),b||x)if("+"===g.modifier||"*"===g.modifier){var E="*"===g.modifier?"?":"";y+="(?:"+b+"((?:"+g.pattern+")(?:"+x+b+"(?:"+g.pattern+"))*)"+x+")"+E}else y+="(?:"+b+"("+g.pattern+")"+x+")"+g.modifier;else y+="("+g.pattern+")"+g.modifier;else y+="(?:"+b+x+")"+g.modifier}}if(l)a||(y+=v+"?"),y+=i.endsWith?"(?="+d+")":"$";else{var A=t[t.length-1],S="string"==typeof A?v.indexOf(A[A.length-1])>-1:void 0===A;a||(y+="(?:"+v+"(?="+d+"))?"),S||(y+="(?="+v+"|"+d+")")}return new RegExp(y,r(i))}(function(r,t){void 0===t&&(t={});for(var n=function(e){for(var r=[],t=0;t<e.length;){var n=e[t];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)r.push({type:"CHAR",index:t,value:e[t++]});else{var i=1,o="";if("?"===e[u=t+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0==--i){u++;break}}else if("("===e[u]&&(i++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);o+=e[u++]}else o+=e[u++]+e[u++];if(i)throw new TypeError("Unbalanced pattern at "+t);if(!o)throw new TypeError("Missing pattern at "+t);r.push({type:"PATTERN",index:t,value:o}),t=u}else{for(var a="",u=t+1;u<e.length;){var f=e.charCodeAt(u);if(!(f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||95===f))break;a+=e[u++]}if(!a)throw new TypeError("Missing parameter name at "+t);r.push({type:"NAME",index:t,value:a}),t=u}else r.push({type:"CLOSE",index:t,value:e[t++]});else r.push({type:"OPEN",index:t,value:e[t++]});else r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});else r.push({type:"MODIFIER",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}(r),i=t.prefixes,o=void 0===i?"./":i,a="[^"+e(t.delimiter||"/#?")+"]+?",u=[],f=0,s=0,l="",c=function(e){if(s<n.length&&n[s].type===e)return n[s++].value},p=function(e){var r=c(e);if(void 0!==r)return r;var t=n[s],i=t.type,o=t.index;throw new TypeError("Unexpected "+i+" at "+o+", expected "+e)},d=function(){for(var e,r="";e=c("CHAR")||c("ESCAPED_CHAR");)r+=e;return r};s<n.length;){var v=c("CHAR"),y=c("NAME"),m=c("PATTERN");if(y||m){var h=v||"";-1===o.indexOf(h)&&(l+=h,h=""),l&&(u.push(l),l=""),u.push({name:y||f++,prefix:h,suffix:"",pattern:m||a,modifier:c("MODIFIER")||""})}else{var g=v||c("ESCAPED_CHAR");if(g)l+=g;else if(l&&(u.push(l),l=""),c("OPEN")){h=d();var b=c("NAME")||"",x=c("PATTERN")||"",E=d();p("CLOSE"),u.push({name:b||(x?f++:""),pattern:b&&!x?a:x,prefix:h,suffix:E,modifier:c("MODIFIER")||""})}else p("END")}}return u}(t,i),n,i)}function o(e,n,i){return e instanceof RegExp?function(e,r){if(!r)return e;var t=e.source.match(/\((?!\?)/g);if(t)for(var n=0;n<t.length;n++)r.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,n):Array.isArray(e)?function(e,t,n){var i=e.map((function(e){return o(e,t,n).source}));return new RegExp("(?:"+i.join("|")+")",r(n))}(e,n,i):t(e,n,i)}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(i),n.d(i,{filterBreadcrumbs:()=>y,getBreadcrumbs:()=>p,getBreadcrumbsFor:()=>m,registerBreadcrumb:()=>l,registerBreadcrumbs:()=>c});var f=(0,n(685).createGlobalStore)("breadcrumbs",[]);function s(e){return r=e.matcher,(null!=(t=RegExp)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](r):r instanceof t)?e.matcher:"string"==typeof e.matcher?o(e.matcher):o(e.path);var r,t}function l(e){return c([e])}function c(e){var r=p(),t=e.map((function(e){return{matcher:s(e),settings:e}})),n=u(r).concat(u(t));f.setState(n,!0)}function p(){return f.getState()}function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function v(e,r){if(r)return function(e,r){return(t=e.filter((function(e){return e.matcher.test(r)})),n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}}(t,n)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var t,n}(e,r)||function(e,r){for(var t=r.split("/");t.length>1;){t.pop();var n=v(e,t.join("/"));if(n)return n}}(e,r)}function y(e,r){if(e.length>0){var t=v(e,r);if(t){for(var n=[t],i=v(e,t.settings.parent);void 0!==i;)n.push(i),i=v(e,i.settings.parent);return n.reverse()}}return[]}function m(e){return y(p(),e)}})(),i})())}}}));
//# sourceMappingURL=openmrs-esm-breadcrumbs.js.map