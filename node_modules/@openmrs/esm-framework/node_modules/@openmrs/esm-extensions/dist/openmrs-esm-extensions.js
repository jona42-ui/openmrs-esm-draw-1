System.register(["@openmrs/esm-config","@openmrs/esm-state","@openmrs/esm-api","single-spa"],(function(t,e){var n={},r={},o={},i={};return{setters:[function(t){n.configExtensionStore=t.configExtensionStore,n.getExtensionConfigFromStore=t.getExtensionConfigFromStore,n.getExtensionSlotConfig=t.getExtensionSlotConfig,n.getExtensionSlotConfigFromStore=t.getExtensionSlotConfigFromStore,n.getExtensionSlotsConfigStore=t.getExtensionSlotsConfigStore,n.getExtensionsConfigStore=t.getExtensionsConfigStore},function(t){r.createGlobalStore=t.createGlobalStore,r.getGlobalStore=t.getGlobalStore},function(t){o.getSessionStore=t.getSessionStore,o.userHasAccess=t.userHasAccess},function(t){i.mountRootParcel=t.mountRootParcel}],execute:function(){t((()=>{"use strict";var t={766:t=>{t.exports=o},824:t=>{t.exports=n},685:t=>{t.exports=r},645:t=>{t.exports=i}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,a),o.exports}a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};return(()=>{a.r(s),a.d(s,{attach:()=>Ie,checkStatus:()=>Re,checkStatusFor:()=>Ge,detach:()=>ze,detachAll:()=>Ne,extensionStore:()=>Je,getAssignedExtensions:()=>Me,getConnectedExtensions:()=>ke,getExtensionInternalStore:()=>ae,getExtensionNameFromId:()=>we,getExtensionRegistration:()=>Ae,getExtensionRegistrationFrom:()=>Ee,getExtensionStore:()=>ce,registerExtension:()=>Pe,registerExtensionSlot:()=>De,renderExtension:()=>We,reset:()=>Te,updateInternalExtensionStore:()=>se});const t=function(t,e){return t===e||t!=t&&e!=e},e=function(e,n){for(var r=e.length;r--;)if(t(e[r][0],n))return r;return-1};var n=Array.prototype.splice;function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}r.prototype.clear=function(){this.__data__=[],this.size=0},r.prototype.delete=function(t){var r=this.__data__,o=e(r,t);return!(o<0||(o==r.length-1?r.pop():n.call(r,o,1),--this.size,0))},r.prototype.get=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},r.prototype.has=function(t){return e(this.__data__,t)>-1},r.prototype.set=function(t,n){var r=this.__data__,o=e(r,t);return o<0?(++this.size,r.push([t,n])):r[o][1]=n,this};const o=r,i="object"==typeof global&&global&&global.Object===Object&&global;var c="object"==typeof self&&self&&self.Object===Object&&self;const u=i||c||Function("return this")(),l=u.Symbol;var f=Object.prototype,p=f.hasOwnProperty,y=f.toString,b=l?l.toStringTag:void 0;var d=Object.prototype.toString;var v=l?l.toStringTag:void 0;const h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?function(t){var e=p.call(t,b),n=t[b];try{t[b]=void 0;var r=!0}catch(t){}var o=y.call(t);return r&&(e?t[b]=n:delete t[b]),o}(t):function(t){return d.call(t)}(t)},g=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},m=function(t){if(!g(t))return!1;var e=h(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},_=u["__core-js_shared__"];var j,S=(j=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"";var O=Function.prototype.toString;const x=function(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var w=/^\[object .+?Constructor\]$/,E=Function.prototype,A=Object.prototype,P=E.toString,I=A.hasOwnProperty,z=RegExp("^"+P.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const N=function(t){return!(!g(t)||(e=t,S&&S in e))&&(m(t)?z:w).test(x(t));var e},C=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return N(n)?n:void 0},k=C(u,"Map"),F=C(Object,"create");var M=Object.prototype.hasOwnProperty;var D=Object.prototype.hasOwnProperty;function T(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}T.prototype.clear=function(){this.__data__=F?F(null):{},this.size=0},T.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},T.prototype.get=function(t){var e=this.__data__;if(F){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return M.call(e,t)?e[t]:void 0},T.prototype.has=function(t){var e=this.__data__;return F?void 0!==e[t]:D.call(e,t)},T.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=F&&void 0===e?"__lodash_hash_undefined__":e,this};const R=T,G=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$.prototype.clear=function(){this.size=0,this.__data__={hash:new R,map:new(k||o),string:new R}},$.prototype.delete=function(t){var e=G(this,t).delete(t);return this.size-=e?1:0,e},$.prototype.get=function(t){return G(this,t).get(t)},$.prototype.has=function(t){return G(this,t).has(t)},$.prototype.set=function(t,e){var n=G(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const B=$;function U(t){var e=this.__data__=new o(t);this.size=e.size}U.prototype.clear=function(){this.__data__=new o,this.size=0},U.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},U.prototype.get=function(t){return this.__data__.get(t)},U.prototype.has=function(t){return this.__data__.has(t)},U.prototype.set=function(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!k||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new B(r)}return n.set(t,e),this.size=n.size,this};const L=U;function V(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new B;++e<n;)this.add(t[e])}V.prototype.add=V.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},V.prototype.has=function(t){return this.__data__.has(t)};const H=V,W=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},q=function(t,e,n,r,o,i){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(t),l=i.get(e);if(u&&l)return u==e&&l==t;var f=-1,p=!0,y=2&n?new H:void 0;for(i.set(t,e),i.set(e,t);++f<s;){var b=t[f],d=e[f];if(r)var v=a?r(d,b,f,e,t,i):r(b,d,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(y){if(!W(e,(function(t,e){if(a=e,!y.has(a)&&(b===t||o(b,t,n,r,i)))return y.push(e);var a}))){p=!1;break}}else if(b!==d&&!o(b,d,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},J=u.Uint8Array,K=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Q=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var X=l?l.prototype:void 0,Y=X?X.valueOf:void 0;const Z=Array.isArray;var tt=Object.prototype.propertyIsEnumerable,et=Object.getOwnPropertySymbols;const nt=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(et(t),(function(e){return tt.call(t,e)})))}:function(){return[]},rt=function(t){return null!=t&&"object"==typeof t},ot=function(t){return rt(t)&&"[object Arguments]"==h(t)};var it=Object.prototype,at=it.hasOwnProperty,st=it.propertyIsEnumerable,ct=ot(function(){return arguments}())?ot:function(t){return rt(t)&&at.call(t,"callee")&&!st.call(t,"callee")};const ut=ct;var lt="object"==typeof exports&&exports&&!exports.nodeType&&exports,ft=lt&&"object"==typeof module&&module&&!module.nodeType&&module,pt=ft&&ft.exports===lt?u.Buffer:void 0;const yt=(pt?pt.isBuffer:void 0)||function(){return!1};var bt=/^(?:0|[1-9]\d*)$/;const dt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e},vt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var ht={};ht["[object Float32Array]"]=ht["[object Float64Array]"]=ht["[object Int8Array]"]=ht["[object Int16Array]"]=ht["[object Int32Array]"]=ht["[object Uint8Array]"]=ht["[object Uint8ClampedArray]"]=ht["[object Uint16Array]"]=ht["[object Uint32Array]"]=!0,ht["[object Arguments]"]=ht["[object Array]"]=ht["[object ArrayBuffer]"]=ht["[object Boolean]"]=ht["[object DataView]"]=ht["[object Date]"]=ht["[object Error]"]=ht["[object Function]"]=ht["[object Map]"]=ht["[object Number]"]=ht["[object Object]"]=ht["[object RegExp]"]=ht["[object Set]"]=ht["[object String]"]=ht["[object WeakMap]"]=!1;var gt="object"==typeof exports&&exports&&!exports.nodeType&&exports,mt=gt&&"object"==typeof module&&module&&!module.nodeType&&module,_t=mt&&mt.exports===gt&&i.process,jt=function(){try{return mt&&mt.require&&mt.require("util").types||_t&&_t.binding&&_t.binding("util")}catch(t){}}(),St=jt&&jt.isTypedArray;const Ot=St?(xt=St,function(t){return xt(t)}):function(t){return rt(t)&&vt(t.length)&&!!ht[h(t)]};var xt,wt=Object.prototype.hasOwnProperty;const Et=function(t,e){var n=Z(t),r=!n&&ut(t),o=!n&&!r&&yt(t),i=!n&&!r&&!o&&Ot(t),a=n||r||o||i,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=s.length;for(var u in t)!e&&!wt.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||dt(u,c))||s.push(u);return s};var At=Object.prototype;const Pt=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object);var It=Object.prototype.hasOwnProperty;const zt=function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||At))return Pt(t);var e,n,r=[];for(var o in Object(t))It.call(t,o)&&"constructor"!=o&&r.push(o);return r},Nt=function(t){return null!=(e=t)&&vt(e.length)&&!m(e)?Et(t):zt(t);var e},Ct=function(t){return function(t,e,n){var r=e(t);return Z(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Nt,nt)};var kt=Object.prototype.hasOwnProperty;const Ft=C(u,"DataView"),Mt=C(u,"Promise"),Dt=C(u,"Set"),Tt=C(u,"WeakMap");var Rt="[object Map]",Gt="[object Promise]",$t="[object Set]",Bt="[object WeakMap]",Ut="[object DataView]",Lt=x(Ft),Vt=x(k),Ht=x(Mt),Wt=x(Dt),qt=x(Tt),Jt=h;(Ft&&Jt(new Ft(new ArrayBuffer(1)))!=Ut||k&&Jt(new k)!=Rt||Mt&&Jt(Mt.resolve())!=Gt||Dt&&Jt(new Dt)!=$t||Tt&&Jt(new Tt)!=Bt)&&(Jt=function(t){var e=h(t),n="[object Object]"==e?t.constructor:void 0,r=n?x(n):"";if(r)switch(r){case Lt:return Ut;case Vt:return Rt;case Ht:return Gt;case Wt:return $t;case qt:return Bt}return e});const Kt=Jt;var Qt="[object Arguments]",Xt="[object Array]",Yt="[object Object]",Zt=Object.prototype.hasOwnProperty;const te=function(e,n,r,o,i,a){var s=Z(e),c=Z(n),u=s?Xt:Kt(e),l=c?Xt:Kt(n),f=(u=u==Qt?Yt:u)==Yt,p=(l=l==Qt?Yt:l)==Yt,y=u==l;if(y&&yt(e)){if(!yt(n))return!1;s=!0,f=!1}if(y&&!f)return a||(a=new L),s||Ot(e)?q(e,n,r,o,i,a):function(e,n,r,o,i,a,s){switch(r){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=n.byteLength||!a(new J(e),new J(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return t(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var c=K;case"[object Set]":var u=1&o;if(c||(c=Q),e.size!=n.size&&!u)return!1;var l=s.get(e);if(l)return l==n;o|=2,s.set(e,n);var f=q(c(e),c(n),o,i,a,s);return s.delete(e),f;case"[object Symbol]":if(Y)return Y.call(e)==Y.call(n)}return!1}(e,n,u,r,o,i,a);if(!(1&r)){var b=f&&Zt.call(e,"__wrapped__"),d=p&&Zt.call(n,"__wrapped__");if(b||d){var v=b?e.value():e,h=d?n.value():n;return a||(a=new L),i(v,h,r,o,a)}}return!!y&&(a||(a=new L),function(t,e,n,r,o,i){var a=1&n,s=Ct(t),c=s.length;if(c!=Ct(e).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in e:kt.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var y=!0;i.set(t,e),i.set(e,t);for(var b=a;++u<c;){var d=t[l=s[u]],v=e[l];if(r)var h=a?r(v,d,l,e,t,i):r(d,v,l,t,e,i);if(!(void 0===h?d===v||o(d,v,n,r,i):h)){y=!1;break}b||(b="constructor"==l)}if(y&&!b){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(y=!1)}return i.delete(t),i.delete(e),y}(e,n,r,o,i,a))},ee=function t(e,n,r,o,i){return e===n||(null==e||null==n||!rt(e)&&!rt(n)?e!=e&&n!=n:te(e,n,r,o,t,i))},ne=function(t,e){return ee(t,e)};var re=a(824),oe=a(685),ie=(0,oe.createGlobalStore)("extensionsInternal",{slots:{},extensions:{}}),ae=function(){return(0,oe.getGlobalStore)("extensionsInternal",{slots:{},extensions:{}})};function se(t){var e=ie.getState(),n=t(e);n!==e&&ie.setState(n)}var ce=function(){return(0,oe.getGlobalStore)("extensions",{slots:{}})};function ue(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(t.extensions)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,c=!0,u=!1,l=void 0;try{for(var f,p=s.instances[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var y=f.value;e.push({slotModuleName:y.slotModuleName,extensionModuleName:s.moduleName,slotName:y.slotName,extensionId:y.id})}}catch(t){u=!0,l=t}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}ne(re.configExtensionStore.getState().mountedExtensions,e)||re.configExtensionStore.setState({mountedExtensions:e})}ue(ie.getState()),ie.subscribe(ue);var le=a(766);const fe=function(t){return void 0===t};function pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){ye(t,e,n[e])}))}return t}function de(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function ve(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,e)||ge(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(t){return function(t){if(Array.isArray(t))return pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ge(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(t,e){if(t){if("string"==typeof t)return pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(t,e):void 0}}var me=ae(),_e=ce(),je=(0,re.getExtensionSlotsConfigStore)(),Se=(0,re.getExtensionsConfigStore)();function Oe(t,e,n){var r={},o=!0,i=!1,a=void 0;try{for(var s,c=Object.entries(t.slots)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=ve(s.value,2),l=u[0],f=u[1],p=Fe(l,t,(0,re.getExtensionSlotConfigFromStore)(e,f.name).config,n);r[l]={moduleName:f.moduleName,assignedExtensions:p}}}catch(t){i=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}ne(_e.getState().slots,r)||_e.setState({slots:r})}function xe(t,e){return{moduleName:e,name:t,attachedIds:[],config:null}}function we(t){return ve(t.split("#"),1)[0]}function Ee(t,e){var n=we(e);return t.extensions[n]}function Ae(t){return Ee(me.getState(),t)}me.subscribe((function(t){Oe(t,je.getState(),Se.getState())})),je.subscribe((function(t){Oe(me.getState(),t,Se.getState())})),Se.subscribe((function(t){Oe(me.getState(),je.getState(),t)}));var Pe=function(t){return me.setState((function(e){return e.extensions[t.name]=de(be({},t),{instances:[]}),e}))};function Ie(t,e){se((function(n){var r=n.slots[t];return de(be({},n),r?{slots:de(be({},n.slots),ye({},t,de(be({},r),{attachedIds:he(r.attachedIds).concat([e])})))}:{slots:de(be({},n.slots),ye({},t,de(be({},xe(t)),{attachedIds:[e]})))})}))}function ze(t,e){se((function(n){var r=n.slots[t];return r&&r.attachedIds.includes(e)?de(be({},n),{slots:de(be({},n.slots),ye({},t,de(be({},r),{attachedIds:r.attachedIds.filter((function(t){return t!==e}))})))}):n}))}function Ne(t){se((function(e){var n=e.slots[t];return n?de(be({},e),{slots:de(be({},e.slots),ye({},t,de(be({},n),{attachedIds:[]})))}):e}))}function Ce(t,e,n,r){var o=e.indexOf(t);if(-1!==o)return o;if(void 0!==n)return 1e3+n;var i=r.indexOf(t);return-1!==i?2e3+i:-1}function ke(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null!=e?e:navigator.onLine;return t.filter((function(t){return Ge(n,t.online,t.offline)}))}function Fe(t,e,n,r){var o=function(t,e){var n=t.add||[],r=t.remove||[],o=t.order||[],i=me.getState().extensions;return he(e).concat(he(n)).filter((function(t){return!r.includes(t)})).sort((function(t,n){var r,a,s=Ce(t,o,null===(r=i[we(t)])||void 0===r?void 0:r.order,e),c=Ce(n,o,null===(a=i[we(n)])||void 0===a?void 0:a.order,e);return-1===c?-1:-1===s?1:s-c}))}(n,e.slots[t].attachedIds),i=[],a=void 0,s=!0,c=!1,u=void 0;try{for(var l,f=o[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value,y=(0,re.getExtensionConfigFromStore)(r,t,p).config,b=we(p),d=e.extensions[b];if(d){var v,h,g,m=null!==(g=null!==(h=null==y||null===(v=y["Display conditions"])||void 0===v?void 0:v.privileges)&&void 0!==h?h:d.privileges)&&void 0!==g?g:[];if(m&&("string"==typeof m||Array.isArray(m)&&m.length>0)){var _;if(fe(a)&&(a=null===(_=(0,le.getSessionStore)().getState().session)||void 0===_?void 0:_.user),!a)continue;if(!(0,le.userHasAccess)(m,a))continue}i.push({id:p,name:b,moduleName:d.moduleName,config:y,meta:d.meta})}}}catch(t){c=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}return i}function Me(t){return Fe(t,me.getState(),(0,re.getExtensionSlotConfig)(t).config,Se.getState())}var De=function(t,e){return me.setState((function(n){var r,o=null===(r=n.slots[e])||void 0===r?void 0:r.moduleName;if(o&&o!=t)return console.warn("An extension slot with the name '".concat(e,'\' already exists. Refusing to register the same slot name twice (in "registerExtensionSlot"). The existing one is from module ').concat(o,".")),n;if(o&&o==t)return n;if(n.slots[e])return de(be({},n),{slots:de(be({},n.slots),ye({},e,de(be({},n.slots[e]),{moduleName:t})))});var i=xe(e,t);return de(be({},n),{slots:de(be({},n.slots),ye({},e,i))})}))},Te=function(){return _e.setState((function(){return{slots:{},extensions:{}}}))};function Re(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ge(navigator.onLine,t,e)}function Ge(t){return Boolean(t?!(arguments.length>1&&void 0!==arguments[1])||arguments[1]:arguments.length>2&&void 0!==arguments[2]&&arguments[2])}var $e=a(645);function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ue(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Le(t,e,n[e])}))}return t}function He(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function We(t,e,n,r){return qe.apply(this,arguments)}function qe(){var t;return t=function(t,e,n,r){var o,i,a,s,c,u,l,f,p,y,b,d,v,h=arguments;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(g){switch(g.label){case 0:if(o=h.length>4&&void 0!==h[4]?h[4]:function(t){return t},i=h.length>5&&void 0!==h[5]?h[5]:{},a=we(r),s=Ae(r),c=null,!t)return[3,3];if(!s)throw Error("Couldn't find extension '".concat(a,"' to attach to '").concat(e,"'"));return u=s.load,l=s.meta,f=s.moduleName,p=s.online,y=s.offline,Re(p,y)?(se((function(o){var i,s={domElement:t,id:r,slotName:e,slotModuleName:n};return He(Ve({},o),{extensions:He(Ve({},o.extensions),Le({},a,He(Ve({},o.extensions[a]),{instances:(i=o.extensions[a].instances,function(t){if(Array.isArray(t))return Be(t)}(i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([s])})))})})),[4,u()]):[3,2];case 1:b=g.sent(),d=b.default,v=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(b,["default"]),c=(0,$e.mountRootParcel)(o(He(Ve({},null!=d?d:v),{name:"".concat(a," in ").concat(e)})),He(Ve({},i),{_meta:l,_extensionContext:{extensionId:r,extensionSlotName:e,extensionSlotModuleName:n,extensionModuleName:f},domElement:t})),g.label=2;case 2:return[3,4];case 3:console.warn("Tried to render ".concat(r," into ").concat(e," but no DOM element was available.")),g.label=4;case 4:return[2,c]}}))},qe=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ue(i,r,o,a,s,"next",t)}function s(t){Ue(i,r,o,a,s,"throw",t)}a(void 0)}))},qe.apply(this,arguments)}var Je=ae()})(),s})())}}}));
//# sourceMappingURL=openmrs-esm-extensions.js.map