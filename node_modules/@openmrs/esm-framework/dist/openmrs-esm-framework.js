/*! For license information please see openmrs-esm-framework.js.LICENSE.txt */
System.register([],(function(e,t){return{execute:function(){e((()=>{var e,t,n={841:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},7909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(9233),o=n.n(r),i=n(361),a=n.n(i)()(o());a.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.FZ33ihINl\\+8YUVozv7ZwXw\\=\\={font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-top:2.25rem;margin-bottom:.5rem}.jx2T8vrDO9pVp2FeSg6R\\+w\\=\\={margin-bottom:.5rem;font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.cwU9zKw\\+qDdXGFxN1tD4Xg\\=\\= h4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.gOCpwZibZuK7xHHy\\+IDIHQ\\=\\= h4{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);color:#525252}.cwU9zKw\\+qDdXGFxN1tD4Xg\\=\\=,.gOCpwZibZuK7xHHy\\+IDIHQ\\=\\={text-align:left;text-transform:capitalize;margin-bottom:1rem}.cwU9zKw\\+qDdXGFxN1tD4Xg\\=\\= h4:after,.gOCpwZibZuK7xHHy\\+IDIHQ\\=\\= h4:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.ztmVxMaymtPTKnWjzbgENg\\=\\={text-align:center;border:1px solid #e0e0e0}',"",{version:3,sources:["webpack://./../esm-styleguide/src/_vars.scss","webpack://./../esm-styleguide/src/error-state/error-state.module.scss","webpack://./../../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,6BCq0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CDl0BF,kBAAA,CACA,mBEaW,CFVb,6BACE,mBESW,CDozBT,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD3zBF,aDTQ,CCaR,gCCuzBE,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CDrzBA,aDfM,CCoBR,gCCgzBE,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD9yBA,aDtBM,CC0BV,0DAEE,eAAA,CACA,yBAAA,CACA,kBEJW,CFMX,4EACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAIJ,4BACE,iBAAA,CACA,wBAAA",sourcesContent:["$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n",'@use "@carbon/styles/scss/spacing";\n@use "@carbon/styles/scss/type";\n@import "~@openmrs/esm-styleguide/src/vars";\n\n.errorMessage {\n  @include type.type-style("heading-compact-02");\n\n  margin-top: 2.25rem;\n  margin-bottom: spacing.$spacing-03;\n}\n\n.errorCopy {\n  margin-bottom: spacing.$spacing-03;\n  @include type.type-style("body-01");\n  color: $text-02;\n}\n\n.desktopHeading {\n  h4 {\n    @include type.type-style("heading-compact-02");\n    color: $text-02;\n  }\n}\n\n.tabletHeading {\n  h4 {\n    @include type.type-style("heading-03");\n    color: $text-02;\n  }\n}\n\n.desktopHeading,\n.tabletHeading {\n  text-align: left;\n  text-transform: capitalize;\n  margin-bottom: spacing.$spacing-05;\n\n  h4:after {\n    content: "";\n    display: block;\n    width: 2rem;\n    padding-top: 0.188rem;\n    border-bottom: 0.375rem solid var(--brand-03);\n  }\n}\n\n.tile {\n  text-align: center;\n  border: 1px solid $ui-03;\n}\n',"//\n// Copyright IBM Corp. 2018, 2018\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n// stylelint-disable number-max-precision\n\n@use 'sass:map';\n@use 'sass:math';\n@use '@carbon/grid/scss/config' as gridconfig;\n@use '@carbon/grid/scss/breakpoint' as grid;\n@use 'prefix' as *;\n@use 'font-family';\n@use 'scale';\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$label-01: (\n  font-size: scale.type-scale(1),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$label-02: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$legal-01: (\n  font-size: scale.type-scale(1),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$legal-02: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @deprecated\n/// @group @carbon/type\n$helper-text-01: (\n  font-size: scale.type-scale(1),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @deprecated\n/// @group @carbon/type\n$helper-text-02: (\n  font-size: carbon--type-scale(2),\n  font-weight: carbon--font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-short-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-compact-01: $body-short-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-long-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.42857,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-01: $body-long-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-short-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.375,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-compact-02: $body-short-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-long-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.5,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-02: $body-long-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$code-01: (\n  font-family: font-family.font-family('mono'),\n  font-size: scale.type-scale(1),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$code-02: (\n  font-family: font-family.font-family('mono'),\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.42857,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.42857,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-compact-01: $productive-heading-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.5,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.375,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-compact-02: $productive-heading-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-03: (\n  font-size: scale.type-scale(5),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.4,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-03: $productive-heading-03 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-04: (\n  font-size: scale.type-scale(7),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-04: $productive-heading-04 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-05: (\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.25,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-05: $productive-heading-05 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-06: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  // Extra digit needed for precision in Chrome\n  line-height: 1.199,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-06: $productive-heading-06 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-07: (\n  font-size: scale.type-scale(12),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-07: $productive-heading-07 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-01: $heading-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-02: $heading-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-03: (\n  font-size: scale.type-scale(5),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.4,\n  letter-spacing: 0,\n  breakpoints: (\n    xlg: (\n      font-size: scale.type-scale(5),\n      line-height: 1.25,\n    ),\n    max: (\n      font-size: scale.type-scale(6),\n      line-height: 1.334,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-03: $expressive-heading-03 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-04: (\n  font-size: scale.type-scale(7),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0,\n  breakpoints: (\n    xlg: (\n      font-size: scale.type-scale(8),\n      line-height: 1.25,\n      font-weight: font-family.font-weight('light'),\n    ),\n    max: (\n      font-size: scale.type-scale(8),\n      font-weight: font-family.font-weight('light'),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-04: $expressive-heading-04 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-05: (\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.25,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(9),\n      line-height: 1.22,\n    ),\n    lg: (\n      font-size: scale.type-scale(10),\n      line-height: 1.19,\n    ),\n    xlg: (\n      font-size: scale.type-scale(11),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(13),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-05: $expressive-heading-05 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-06: (\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.25,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(9),\n      line-height: 1.22,\n    ),\n    lg: (\n      font-size: scale.type-scale(10),\n      line-height: 1.19,\n    ),\n    xlg: (\n      font-size: scale.type-scale(11),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(13),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-06: $expressive-heading-06 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-paragraph-01: (\n  font-size: scale.type-scale(6),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.334,\n  letter-spacing: 0,\n  breakpoints: (\n    lg: (\n      font-size: scale.type-scale(7),\n      line-height: 1.28572,\n    ),\n    max: (\n      font-size: scale.type-scale(8),\n      line-height: 1.25,\n    ),\n  ),\n);\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-paragraph-01: $expressive-paragraph-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$quotation-01: (\n  font-family: font-family.font-family('serif'),\n  font-size: scale.type-scale(5),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.3,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(5),\n    ),\n    lg: (\n      font-size: scale.type-scale(6),\n      line-height: 1.334,\n    ),\n    xlg: (\n      font-size: scale.type-scale(7),\n      line-height: 1.28572,\n    ),\n    max: (\n      font-size: scale.type-scale(8),\n      line-height: 1.25,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-quotation-01: $quotation-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$quotation-02: (\n  font-family: font-family.font-family('serif'),\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.25,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(9),\n      line-height: 1.22,\n    ),\n    lg: (\n      font-size: scale.type-scale(10),\n      line-height: 1.19,\n    ),\n    xlg: (\n      font-size: scale.type-scale(11),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(13),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-quotation-02: $quotation-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-01: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(10),\n    ),\n    lg: (\n      font-size: scale.type-scale(12),\n    ),\n    xlg: (\n      font-size: scale.type-scale(13),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(15),\n      line-height: 1.13,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-01: $display-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-02: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(10),\n    ),\n    lg: (\n      font-size: scale.type-scale(12),\n    ),\n    xlg: (\n      font-size: scale.type-scale(13),\n      line-height: 1.16,\n    ),\n    max: (\n      font-size: scale.type-scale(15),\n      line-height: 1.13,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-02: $display-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-03: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(12),\n      line-height: 1.18,\n    ),\n    lg: (\n      font-size: scale.type-scale(13),\n      line-height: 1.16,\n      letter-spacing: -0.64px,\n    ),\n    xlg: (\n      font-size: scale.type-scale(15),\n      line-height: 1.13,\n      letter-spacing: -0.64px,\n    ),\n    max: (\n      font-size: scale.type-scale(16),\n      line-height: 1.11,\n      letter-spacing: -0.96px,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-03: $display-03 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-04: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(14),\n      line-height: 1.15,\n    ),\n    lg: (\n      font-size: scale.type-scale(17),\n      line-height: 1.11,\n      letter-spacing: -0.64px,\n    ),\n    xlg: (\n      font-size: scale.type-scale(20),\n      line-height: 1.07,\n      letter-spacing: -0.64px,\n    ),\n    max: (\n      font-size: scale.type-scale(23),\n      line-height: 1.05,\n      letter-spacing: -0.96px,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-04: $display-04 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$tokens: (\n  label-01: $label-01,\n  label-02: $label-02,\n  helper-text-01: $helper-text-01,\n  helper-text-02: $helper-text-02,\n  body-short-01: $body-short-01,\n  body-short-02: $body-short-02,\n  body-long-01: $body-long-01,\n  body-long-02: $body-long-02,\n  code-01: $code-01,\n  code-02: $code-02,\n  heading-01: $heading-01,\n  heading-02: $heading-02,\n  productive-heading-01: $productive-heading-01,\n  productive-heading-02: $productive-heading-02,\n  productive-heading-03: $productive-heading-03,\n  productive-heading-04: $productive-heading-04,\n  productive-heading-05: $productive-heading-05,\n  productive-heading-06: $productive-heading-06,\n  productive-heading-07: $productive-heading-07,\n  expressive-paragraph-01: $expressive-paragraph-01,\n  expressive-heading-01: $expressive-heading-01,\n  expressive-heading-02: $expressive-heading-02,\n  expressive-heading-03: $expressive-heading-03,\n  expressive-heading-04: $expressive-heading-04,\n  expressive-heading-05: $expressive-heading-05,\n  expressive-heading-06: $expressive-heading-06,\n  quotation-01: $quotation-01,\n  quotation-02: $quotation-02,\n  display-01: $display-01,\n  display-02: $display-02,\n  display-03: $display-03,\n  display-04: $display-04,\n  // V11 Tokens\n  legal-01: $legal-01,\n  legal-02: $legal-02,\n  body-compact-01: $body-compact-01,\n  body-compact-02: $body-compact-02,\n  heading-compact-01: $heading-compact-01,\n  heading-compact-02: $heading-compact-02,\n  body-01: $body-01,\n  body-02: $body-02,\n  heading-03: $heading-03,\n  heading-04: $heading-04,\n  heading-05: $heading-05,\n  heading-06: $heading-06,\n  heading-07: $heading-07,\n  fluid-heading-03: $fluid-heading-03,\n  fluid-heading-04: $fluid-heading-04,\n  fluid-heading-05: $fluid-heading-05,\n  fluid-heading-06: $fluid-heading-06,\n  fluid-paragraph-01: $fluid-paragraph-01,\n  fluid-quotation-01: $fluid-quotation-01,\n  fluid-quotation-02: $fluid-quotation-02,\n  fluid-display-01: $fluid-display-01,\n  fluid-display-02: $fluid-display-02,\n  fluid-display-03: $fluid-display-03,\n  fluid-display-04: $fluid-display-04,\n);\n\n/// @param {Map} $map\n/// @access public\n/// @group @carbon/type\n@mixin properties($map) {\n  @each $name, $value in $map {\n    #{$name}: $value;\n  }\n}\n\n/// @param {Number} $value - Number with units\n/// @return {Number} Without units\n/// @access public\n/// @group @carbon/type\n@function strip-unit($value) {\n  @return math.div($value, $value * 0 + 1);\n}\n\n/// This helper includes fluid type styles for the given token value. Fluid type\n/// means that the `font-size` is computed using `calc()` in order to be\n/// determined by the screen size instead of a breakpoint. As a result, fluid\n/// styles should be used with caution in fixed width contexts.\n///\n/// In addition, we make use of %-based line-heights so that the line-height of\n/// each type style is computed correctly due to the dynamic nature of the\n/// `font-size`.\n///\n/// Most of the logic for this work comes from CSS Tricks:\n/// https://css-tricks.com/snippets/css/fluid-typography/\n///\n/// @param {Map} $type-styles - The value of a given type token\n/// @param {Map} $breakpoints [$grid-breakpoints] - Custom breakpoints to use\n/// @access public\n/// @group @carbon/type\n@mixin fluid-type($type-styles, $breakpoints: gridconfig.$grid-breakpoints) {\n  // Include the initial styles for the given token by default without any\n  // media query guard. This includes `font-size` as a fallback in the case\n  // that a browser does not support `calc()`\n  @include properties(map.remove($type-styles, breakpoints));\n  // We also need to include the `sm` styles by default since they don't\n  // appear in the fluid styles for tokens\n  @include fluid-type-size($type-styles, sm, $breakpoints);\n\n  // Finally, we need to go through all the breakpoints defined in the type\n  // token and apply the properties and fluid type size for that given\n  // breakpoint\n  @each $name, $values in map.get($type-styles, breakpoints) {\n    @include grid.breakpoint($name) {\n      @include properties($values);\n      @include fluid-type-size($type-styles, $name, $breakpoints);\n    }\n  }\n}\n\n/// Computes the fluid `font-size` for a given type style and breakpoint\n/// @param {Map} $type-styles - The styles for a given token\n/// @param {String} $name - The name of the breakpoint to which we apply the fluid\n/// @param {Map} $breakpoints [$grid-breakpoints] - The breakpoints for the grid system\n/// @access public\n/// @group @carbon/type\n@mixin fluid-type-size(\n  $type-styles,\n  $name,\n  $breakpoints: gridconfig.$grid-breakpoints\n) {\n  // Get the information about the breakpoint we're currently working in. Useful\n  // for getting initial width information\n  $breakpoint: map.get($breakpoints, $name);\n\n  // Our fluid styles are captured under the 'breakpoints' property in our type\n  // styles map. These define what values to treat as `max-` variables below\n  $fluid-sizes: map.get($type-styles, breakpoints);\n  $fluid-breakpoint: ();\n  // Special case for `sm` because the styles for small are on the type style\n  // directly\n  @if $name == sm {\n    $fluid-breakpoint: map.remove($type-styles, breakpoints);\n  } @else {\n    $fluid-breakpoint: map.get($fluid-sizes, $name);\n  }\n\n  // Initialize our font-sizes to the default size for the type style\n  $max-font-size: map.get($type-styles, font-size);\n  $min-font-size: map.get($type-styles, font-size);\n  @if map.has-key($fluid-breakpoint, font-size) {\n    $min-font-size: map.get($fluid-breakpoint, font-size);\n  }\n\n  // Initialize our min and max width to the width of the current breakpoint\n  $max-vw: map.get($breakpoint, width);\n  $min-vw: map.get($breakpoint, width);\n\n  // We can use `breakpoint-next` to see if there is another breakpoint we can\n  // use to update `max-font-size` and `max-vw` with larger values\n  $next-breakpoint-available: grid.breakpoint-next($name, $breakpoints);\n  $next-fluid-breakpoint-name: null;\n\n  // We need to figure out what the next available fluid breakpoint is for our\n  // given $type-styles. In this loop we try and iterate through breakpoints\n  // until we either manually set $next-breakpoint-available to null or\n  // `breakpoint-next` returns null.\n  @while $next-breakpoint-available {\n    @if map.has-key($fluid-sizes, $next-breakpoint-available) {\n      $next-fluid-breakpoint-name: $next-breakpoint-available;\n      $next-breakpoint-available: null;\n    } @else {\n      $next-breakpoint-available: grid.breakpoint-next(\n        $next-breakpoint-available,\n        $breakpoints\n      );\n    }\n  }\n\n  // If we have found the next available fluid breakpoint name, then we know\n  // that we have values that we can use to set max-font-size and max-vw as both\n  // values derive from the next breakpoint\n  @if $next-fluid-breakpoint-name {\n    $next-fluid-breakpoint: map.get($breakpoints, $next-fluid-breakpoint-name);\n    $max-font-size: map.get(\n      map.get($fluid-sizes, $next-fluid-breakpoint-name),\n      font-size\n    );\n    $max-vw: map.get($next-fluid-breakpoint, width);\n\n    // prettier-ignore\n    font-size: calc(#{$min-font-size} +\n      #{strip-unit($max-font-size - $min-font-size)} *\n      ((100vw - #{$min-vw}) / #{strip-unit($max-vw - $min-vw)})\n    );\n  } @else {\n    // Otherwise, just default to setting the font size found from the type\n    // style or the given fluid breakpoint in the type style\n    font-size: $min-font-size;\n  }\n}\n\n// TODO move following variable and `custom-property` mixin into shared file for\n// both `@carbon/type` and `@carbon/themes`\n\n/// @access private\n/// @group @carbon/type\n@mixin custom-properties($name, $value) {\n  @each $property, $value in $value {\n    #{$property}: var(\n      --#{$custom-property-prefix}-#{$name}-#{$property},\n      #{$value}\n    );\n  }\n}\n\n/// Helper mixin to include the styles for a given token in any selector in your\n/// project. Also includes an optional fluid option that will enable fluid\n/// styles for the token if they are defined. Fluid styles will cause the\n/// token's font-size to be computed based on the viewport size. As a result, use\n/// with caution in fixed contexts.\n/// @param {String} $name - The name of the token to get the styles for\n/// @param {Boolean} $fluid [false] - Specify whether to include fluid styles for the\n/// @param {Map} $breakpoints [$grid-breakpoints] - Provide a custom breakpoint map to use\n/// @access public\n/// @group @carbon/type\n@mixin type-style(\n  $name,\n  $fluid: false,\n  $breakpoints: gridconfig.$grid-breakpoints\n) {\n  @if not map.has-key($tokens, $name) {\n    @error 'Unable to find a token with the name: `#{$name}`';\n  }\n\n  $token: map.get($tokens, $name);\n\n  // If $fluid is set to true and the token has breakpoints defined for fluid\n  // styles, delegate to the fluid-type helper for the given token\n  @if $fluid == true and map.has-key($token, 'breakpoints') {\n    @include fluid-type($token, $breakpoints);\n  } @else {\n    @include custom-properties($name, $token);\n  }\n}\n","// Code generated by @carbon/layout. DO NOT EDIT.\n//\n// Copyright IBM Corp. 2018, 2021\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-01: 0.125rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-02: 0.25rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-03: 0.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-04: 0.75rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-05: 1rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-06: 1.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-07: 2rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-08: 2.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-09: 3rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-10: 4rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-11: 5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-12: 6rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-13: 10rem !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/layout\n$spacing: (\n  spacing-01: $spacing-01,\n  spacing-02: $spacing-02,\n  spacing-03: $spacing-03,\n  spacing-04: $spacing-04,\n  spacing-05: $spacing-05,\n  spacing-06: $spacing-06,\n  spacing-07: $spacing-07,\n  spacing-08: $spacing-08,\n  spacing-09: $spacing-09,\n  spacing-10: $spacing-10,\n  spacing-11: $spacing-11,\n  spacing-12: $spacing-12,\n  spacing-13: $spacing-13,\n);\n"],sourceRoot:""}]),a.locals={errorMessage:"FZ33ihINl+8YUVozv7ZwXw==",errorCopy:"jx2T8vrDO9pVp2FeSg6R+w==",desktopHeading:"cwU9zKw+qDdXGFxN1tD4Xg==",tabletHeading:"gOCpwZibZuK7xHHy+IDIHQ==",tile:"ztmVxMaymtPTKnWjzbgENg=="};const u=a},6618:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(9233),o=n.n(r),i=n(361),a=n.n(i)()(o());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.Y3Q\\+kOxLLWMt9RIQX8EZ2w\\=\\={border-right:1px solid #e0e0e0;padding-top:1rem}.Y3Q\\+kOxLLWMt9RIQX8EZ2w\\=\\= .cds--side-nav__link{color:#525252;font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.Y3Q\\+kOxLLWMt9RIQX8EZ2w\\=\\= .cds--side-nav__link:focus,.Y3Q\\+kOxLLWMt9RIQX8EZ2w\\=\\= .cds--side-nav__link:hover{background-color:#f4f4f4}.Y3Q\\+kOxLLWMt9RIQX8EZ2w\\=\\= .cds--side-nav__link.active-left-nav-link{color:#161616;border-left:.25rem solid var(--brand-01);background-color:#e0e0e0;outline:none;padding:0 .75rem}.omrs-breakpoint-gt-tablet .cds--side-nav__link{height:2rem}.omrs-breakpoint-lt-desktop .cds--side-nav__link{height:3rem}","",{version:3,sources:["webpack://./../esm-styleguide/src/_vars.scss","webpack://./../esm-styleguide/src/left-nav/left-nav.module.scss","webpack://./../../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,6BACE,8BAAA,CACA,gBAAA,CAGA,kDACE,aDJM,CEo0BN,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CD7zBA,gHAEE,wBDdE,CCkBJ,uEACE,aDfE,CCgBF,wCAAA,CACA,wBDnBE,CCoBF,YAAA,CACA,gBAAA,CAOJ,gDACE,WAAA,CAMF,iDACE,WAAA",sourcesContent:["$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n",'@use "@carbon/styles/scss/type";\n@import "../vars";\n\n.leftNav {\n  border-right: 1px solid $ui-03;\n  padding-top: 1rem;\n\n  // Left nav menu item\n  :global(.cds--side-nav__link) {\n    color: $text-02;\n    @include type.type-style("heading-compact-01");\n\n    &:focus,\n    &:hover {\n      background-color: $ui-01;\n    }\n\n    // Active menu item\n    &:global(.active-left-nav-link) {\n      color: $ui-05;\n      border-left: 0.25rem solid var(--brand-01);\n      background-color: $ui-03;\n      outline: none;\n      padding: 0 0.75rem;\n    }\n  }\n}\n\n/* Desktop */\n:global(.omrs-breakpoint-gt-tablet) {\n  :global(.cds--side-nav__link) {\n    height: 2rem;\n  }\n}\n\n/* Tablet */\n:global(.omrs-breakpoint-lt-desktop) {\n  :global(.cds--side-nav__link) {\n    height: 3rem;\n  }\n}\n',"//\n// Copyright IBM Corp. 2018, 2018\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n// stylelint-disable number-max-precision\n\n@use 'sass:map';\n@use 'sass:math';\n@use '@carbon/grid/scss/config' as gridconfig;\n@use '@carbon/grid/scss/breakpoint' as grid;\n@use 'prefix' as *;\n@use 'font-family';\n@use 'scale';\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$label-01: (\n  font-size: scale.type-scale(1),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$label-02: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$legal-01: (\n  font-size: scale.type-scale(1),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$legal-02: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @deprecated\n/// @group @carbon/type\n$helper-text-01: (\n  font-size: scale.type-scale(1),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @deprecated\n/// @group @carbon/type\n$helper-text-02: (\n  font-size: carbon--type-scale(2),\n  font-weight: carbon--font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-short-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-compact-01: $body-short-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-long-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.42857,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-01: $body-long-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-short-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.375,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-compact-02: $body-short-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-long-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.5,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$body-02: $body-long-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$code-01: (\n  font-family: font-family.font-family('mono'),\n  font-size: scale.type-scale(1),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.33333,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$code-02: (\n  font-family: font-family.font-family('mono'),\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.42857,\n  letter-spacing: 0.32px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.42857,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-01: (\n  font-size: scale.type-scale(2),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.28572,\n  letter-spacing: 0.16px,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-compact-01: $productive-heading-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.5,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-02: (\n  font-size: scale.type-scale(3),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.375,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-compact-02: $productive-heading-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-03: (\n  font-size: scale.type-scale(5),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.4,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-03: $productive-heading-03 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-04: (\n  font-size: scale.type-scale(7),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-04: $productive-heading-04 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-05: (\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.25,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-05: $productive-heading-05 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-06: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  // Extra digit needed for precision in Chrome\n  line-height: 1.199,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-06: $productive-heading-06 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$productive-heading-07: (\n  font-size: scale.type-scale(12),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$heading-07: $productive-heading-07 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-01: $heading-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-02: $heading-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-03: (\n  font-size: scale.type-scale(5),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.4,\n  letter-spacing: 0,\n  breakpoints: (\n    xlg: (\n      font-size: scale.type-scale(5),\n      line-height: 1.25,\n    ),\n    max: (\n      font-size: scale.type-scale(6),\n      line-height: 1.334,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-03: $expressive-heading-03 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-04: (\n  font-size: scale.type-scale(7),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.28572,\n  letter-spacing: 0,\n  breakpoints: (\n    xlg: (\n      font-size: scale.type-scale(8),\n      line-height: 1.25,\n      font-weight: font-family.font-weight('light'),\n    ),\n    max: (\n      font-size: scale.type-scale(8),\n      font-weight: font-family.font-weight('light'),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-04: $expressive-heading-04 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-05: (\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.25,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(9),\n      line-height: 1.22,\n    ),\n    lg: (\n      font-size: scale.type-scale(10),\n      line-height: 1.19,\n    ),\n    xlg: (\n      font-size: scale.type-scale(11),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(13),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-05: $expressive-heading-05 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-heading-06: (\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.25,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(9),\n      line-height: 1.22,\n    ),\n    lg: (\n      font-size: scale.type-scale(10),\n      line-height: 1.19,\n    ),\n    xlg: (\n      font-size: scale.type-scale(11),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(13),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-heading-06: $expressive-heading-06 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$expressive-paragraph-01: (\n  font-size: scale.type-scale(6),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.334,\n  letter-spacing: 0,\n  breakpoints: (\n    lg: (\n      font-size: scale.type-scale(7),\n      line-height: 1.28572,\n    ),\n    max: (\n      font-size: scale.type-scale(8),\n      line-height: 1.25,\n    ),\n  ),\n);\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-paragraph-01: $expressive-paragraph-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$quotation-01: (\n  font-family: font-family.font-family('serif'),\n  font-size: scale.type-scale(5),\n  font-weight: font-family.font-weight('regular'),\n  line-height: 1.3,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(5),\n    ),\n    lg: (\n      font-size: scale.type-scale(6),\n      line-height: 1.334,\n    ),\n    xlg: (\n      font-size: scale.type-scale(7),\n      line-height: 1.28572,\n    ),\n    max: (\n      font-size: scale.type-scale(8),\n      line-height: 1.25,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-quotation-01: $quotation-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$quotation-02: (\n  font-family: font-family.font-family('serif'),\n  font-size: scale.type-scale(8),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.25,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(9),\n      line-height: 1.22,\n    ),\n    lg: (\n      font-size: scale.type-scale(10),\n      line-height: 1.19,\n    ),\n    xlg: (\n      font-size: scale.type-scale(11),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(13),\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-quotation-02: $quotation-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-01: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(10),\n    ),\n    lg: (\n      font-size: scale.type-scale(12),\n    ),\n    xlg: (\n      font-size: scale.type-scale(13),\n      line-height: 1.17,\n    ),\n    max: (\n      font-size: scale.type-scale(15),\n      line-height: 1.13,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-01: $display-01 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-02: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('semibold'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(10),\n    ),\n    lg: (\n      font-size: scale.type-scale(12),\n    ),\n    xlg: (\n      font-size: scale.type-scale(13),\n      line-height: 1.16,\n    ),\n    max: (\n      font-size: scale.type-scale(15),\n      line-height: 1.13,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-02: $display-02 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-03: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(12),\n      line-height: 1.18,\n    ),\n    lg: (\n      font-size: scale.type-scale(13),\n      line-height: 1.16,\n      letter-spacing: -0.64px,\n    ),\n    xlg: (\n      font-size: scale.type-scale(15),\n      line-height: 1.13,\n      letter-spacing: -0.64px,\n    ),\n    max: (\n      font-size: scale.type-scale(16),\n      line-height: 1.11,\n      letter-spacing: -0.96px,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-03: $display-03 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$display-04: (\n  font-size: scale.type-scale(10),\n  font-weight: font-family.font-weight('light'),\n  line-height: 1.19,\n  letter-spacing: 0,\n  breakpoints: (\n    md: (\n      font-size: scale.type-scale(14),\n      line-height: 1.15,\n    ),\n    lg: (\n      font-size: scale.type-scale(17),\n      line-height: 1.11,\n      letter-spacing: -0.64px,\n    ),\n    xlg: (\n      font-size: scale.type-scale(20),\n      line-height: 1.07,\n      letter-spacing: -0.64px,\n    ),\n    max: (\n      font-size: scale.type-scale(23),\n      line-height: 1.05,\n      letter-spacing: -0.96px,\n    ),\n  ),\n) !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$fluid-display-04: $display-04 !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/type\n$tokens: (\n  label-01: $label-01,\n  label-02: $label-02,\n  helper-text-01: $helper-text-01,\n  helper-text-02: $helper-text-02,\n  body-short-01: $body-short-01,\n  body-short-02: $body-short-02,\n  body-long-01: $body-long-01,\n  body-long-02: $body-long-02,\n  code-01: $code-01,\n  code-02: $code-02,\n  heading-01: $heading-01,\n  heading-02: $heading-02,\n  productive-heading-01: $productive-heading-01,\n  productive-heading-02: $productive-heading-02,\n  productive-heading-03: $productive-heading-03,\n  productive-heading-04: $productive-heading-04,\n  productive-heading-05: $productive-heading-05,\n  productive-heading-06: $productive-heading-06,\n  productive-heading-07: $productive-heading-07,\n  expressive-paragraph-01: $expressive-paragraph-01,\n  expressive-heading-01: $expressive-heading-01,\n  expressive-heading-02: $expressive-heading-02,\n  expressive-heading-03: $expressive-heading-03,\n  expressive-heading-04: $expressive-heading-04,\n  expressive-heading-05: $expressive-heading-05,\n  expressive-heading-06: $expressive-heading-06,\n  quotation-01: $quotation-01,\n  quotation-02: $quotation-02,\n  display-01: $display-01,\n  display-02: $display-02,\n  display-03: $display-03,\n  display-04: $display-04,\n  // V11 Tokens\n  legal-01: $legal-01,\n  legal-02: $legal-02,\n  body-compact-01: $body-compact-01,\n  body-compact-02: $body-compact-02,\n  heading-compact-01: $heading-compact-01,\n  heading-compact-02: $heading-compact-02,\n  body-01: $body-01,\n  body-02: $body-02,\n  heading-03: $heading-03,\n  heading-04: $heading-04,\n  heading-05: $heading-05,\n  heading-06: $heading-06,\n  heading-07: $heading-07,\n  fluid-heading-03: $fluid-heading-03,\n  fluid-heading-04: $fluid-heading-04,\n  fluid-heading-05: $fluid-heading-05,\n  fluid-heading-06: $fluid-heading-06,\n  fluid-paragraph-01: $fluid-paragraph-01,\n  fluid-quotation-01: $fluid-quotation-01,\n  fluid-quotation-02: $fluid-quotation-02,\n  fluid-display-01: $fluid-display-01,\n  fluid-display-02: $fluid-display-02,\n  fluid-display-03: $fluid-display-03,\n  fluid-display-04: $fluid-display-04,\n);\n\n/// @param {Map} $map\n/// @access public\n/// @group @carbon/type\n@mixin properties($map) {\n  @each $name, $value in $map {\n    #{$name}: $value;\n  }\n}\n\n/// @param {Number} $value - Number with units\n/// @return {Number} Without units\n/// @access public\n/// @group @carbon/type\n@function strip-unit($value) {\n  @return math.div($value, $value * 0 + 1);\n}\n\n/// This helper includes fluid type styles for the given token value. Fluid type\n/// means that the `font-size` is computed using `calc()` in order to be\n/// determined by the screen size instead of a breakpoint. As a result, fluid\n/// styles should be used with caution in fixed width contexts.\n///\n/// In addition, we make use of %-based line-heights so that the line-height of\n/// each type style is computed correctly due to the dynamic nature of the\n/// `font-size`.\n///\n/// Most of the logic for this work comes from CSS Tricks:\n/// https://css-tricks.com/snippets/css/fluid-typography/\n///\n/// @param {Map} $type-styles - The value of a given type token\n/// @param {Map} $breakpoints [$grid-breakpoints] - Custom breakpoints to use\n/// @access public\n/// @group @carbon/type\n@mixin fluid-type($type-styles, $breakpoints: gridconfig.$grid-breakpoints) {\n  // Include the initial styles for the given token by default without any\n  // media query guard. This includes `font-size` as a fallback in the case\n  // that a browser does not support `calc()`\n  @include properties(map.remove($type-styles, breakpoints));\n  // We also need to include the `sm` styles by default since they don't\n  // appear in the fluid styles for tokens\n  @include fluid-type-size($type-styles, sm, $breakpoints);\n\n  // Finally, we need to go through all the breakpoints defined in the type\n  // token and apply the properties and fluid type size for that given\n  // breakpoint\n  @each $name, $values in map.get($type-styles, breakpoints) {\n    @include grid.breakpoint($name) {\n      @include properties($values);\n      @include fluid-type-size($type-styles, $name, $breakpoints);\n    }\n  }\n}\n\n/// Computes the fluid `font-size` for a given type style and breakpoint\n/// @param {Map} $type-styles - The styles for a given token\n/// @param {String} $name - The name of the breakpoint to which we apply the fluid\n/// @param {Map} $breakpoints [$grid-breakpoints] - The breakpoints for the grid system\n/// @access public\n/// @group @carbon/type\n@mixin fluid-type-size(\n  $type-styles,\n  $name,\n  $breakpoints: gridconfig.$grid-breakpoints\n) {\n  // Get the information about the breakpoint we're currently working in. Useful\n  // for getting initial width information\n  $breakpoint: map.get($breakpoints, $name);\n\n  // Our fluid styles are captured under the 'breakpoints' property in our type\n  // styles map. These define what values to treat as `max-` variables below\n  $fluid-sizes: map.get($type-styles, breakpoints);\n  $fluid-breakpoint: ();\n  // Special case for `sm` because the styles for small are on the type style\n  // directly\n  @if $name == sm {\n    $fluid-breakpoint: map.remove($type-styles, breakpoints);\n  } @else {\n    $fluid-breakpoint: map.get($fluid-sizes, $name);\n  }\n\n  // Initialize our font-sizes to the default size for the type style\n  $max-font-size: map.get($type-styles, font-size);\n  $min-font-size: map.get($type-styles, font-size);\n  @if map.has-key($fluid-breakpoint, font-size) {\n    $min-font-size: map.get($fluid-breakpoint, font-size);\n  }\n\n  // Initialize our min and max width to the width of the current breakpoint\n  $max-vw: map.get($breakpoint, width);\n  $min-vw: map.get($breakpoint, width);\n\n  // We can use `breakpoint-next` to see if there is another breakpoint we can\n  // use to update `max-font-size` and `max-vw` with larger values\n  $next-breakpoint-available: grid.breakpoint-next($name, $breakpoints);\n  $next-fluid-breakpoint-name: null;\n\n  // We need to figure out what the next available fluid breakpoint is for our\n  // given $type-styles. In this loop we try and iterate through breakpoints\n  // until we either manually set $next-breakpoint-available to null or\n  // `breakpoint-next` returns null.\n  @while $next-breakpoint-available {\n    @if map.has-key($fluid-sizes, $next-breakpoint-available) {\n      $next-fluid-breakpoint-name: $next-breakpoint-available;\n      $next-breakpoint-available: null;\n    } @else {\n      $next-breakpoint-available: grid.breakpoint-next(\n        $next-breakpoint-available,\n        $breakpoints\n      );\n    }\n  }\n\n  // If we have found the next available fluid breakpoint name, then we know\n  // that we have values that we can use to set max-font-size and max-vw as both\n  // values derive from the next breakpoint\n  @if $next-fluid-breakpoint-name {\n    $next-fluid-breakpoint: map.get($breakpoints, $next-fluid-breakpoint-name);\n    $max-font-size: map.get(\n      map.get($fluid-sizes, $next-fluid-breakpoint-name),\n      font-size\n    );\n    $max-vw: map.get($next-fluid-breakpoint, width);\n\n    // prettier-ignore\n    font-size: calc(#{$min-font-size} +\n      #{strip-unit($max-font-size - $min-font-size)} *\n      ((100vw - #{$min-vw}) / #{strip-unit($max-vw - $min-vw)})\n    );\n  } @else {\n    // Otherwise, just default to setting the font size found from the type\n    // style or the given fluid breakpoint in the type style\n    font-size: $min-font-size;\n  }\n}\n\n// TODO move following variable and `custom-property` mixin into shared file for\n// both `@carbon/type` and `@carbon/themes`\n\n/// @access private\n/// @group @carbon/type\n@mixin custom-properties($name, $value) {\n  @each $property, $value in $value {\n    #{$property}: var(\n      --#{$custom-property-prefix}-#{$name}-#{$property},\n      #{$value}\n    );\n  }\n}\n\n/// Helper mixin to include the styles for a given token in any selector in your\n/// project. Also includes an optional fluid option that will enable fluid\n/// styles for the token if they are defined. Fluid styles will cause the\n/// token's font-size to be computed based on the viewport size. As a result, use\n/// with caution in fixed contexts.\n/// @param {String} $name - The name of the token to get the styles for\n/// @param {Boolean} $fluid [false] - Specify whether to include fluid styles for the\n/// @param {Map} $breakpoints [$grid-breakpoints] - Provide a custom breakpoint map to use\n/// @access public\n/// @group @carbon/type\n@mixin type-style(\n  $name,\n  $fluid: false,\n  $breakpoints: gridconfig.$grid-breakpoints\n) {\n  @if not map.has-key($tokens, $name) {\n    @error 'Unable to find a token with the name: `#{$name}`';\n  }\n\n  $token: map.get($tokens, $name);\n\n  // If $fluid is set to true and the token has breakpoints defined for fluid\n  // styles, delegate to the fluid-type helper for the given token\n  @if $fluid == true and map.has-key($token, 'breakpoints') {\n    @include fluid-type($token, $breakpoints);\n  } @else {\n    @include custom-properties($name, $token);\n  }\n}\n"],sourceRoot:""}]),a.locals={leftNav:"Y3Q+kOxLLWMt9RIQX8EZ2w=="};const u=a},361:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},9233:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,o=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if(!a)return i;if("function"==typeof btoa){var u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),c="/*# ".concat(s," */"),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([c]).join("\n")}return[i].join("\n")}},4332:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},459:(e,t,n)=>{"use strict";var r=n(5704);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},216:(e,t,n)=>{e.exports=n(459)()},5704:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4645:(e,t,n)=>{"use strict";var r=n(6551);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},6196:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(6022),o=n(7811),i=n(9573),a=n(2412),u=n(4002),s=n(6295),c=n(5769),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,u=function(e,t,n){if(e){if(e instanceof o.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new o.L(e,t,n):new o.L(a.c)}(e,t,n);if(r?u.add(r.call(u,this.source)):u.add(this.source||c.v.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),c.v.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[u.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},2412:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(5769),o=n(1450),i={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,o.z)(e)},complete:function(){}}},7811:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(7080),o=n(9147),i=n(2412),a=n(1736),u=n(9573),s=n(5769),c=n(1450),l=function(e){function t(n,r,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.c;break;case 1:if(!n){a.destination=i.c;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,o)}return a}return r.ZT(t,e),t.prototype[u.b]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.w),f=function(e){function t(t,n,r,a){var u,s=e.call(this)||this;s._parentSubscriber=t;var c=s;return(0,o.m)(n)?u=n:n&&(u=n.next,r=n.error,a=n.complete,n!==i.c&&(c=Object.create(n),(0,o.m)(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=u,s._error=r,s._complete=a,s}return r.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),s.v.useDeprecatedSynchronousErrorHandling)throw e;(0,c.z)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!s.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return s.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,c.z)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},1736:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var r=n(4724),o=n(1167),i=n(9147),a=n(8961),u=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,u=n._parentOrParents,c=n._ctorUnsubscribe,l=n._unsubscribe,f=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,u instanceof e)u.remove(this);else if(null!==u)for(var p=0;p<u.length;++p)u[p].remove(this);if((0,i.m)(l)){c&&(this._unsubscribe=void 0);try{l.call(this)}catch(e){t=e instanceof a.B?s(e.errors):[e]}}if((0,r.k)(f)){p=-1;for(var d=f.length;++p<d;){var h=f[p];if((0,o.K)(h))try{h.unsubscribe()}catch(e){t=t||[],e instanceof a.B?t=t.concat(s(e.errors)):t.push(e)}}}if(t)throw new a.B(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function s(e){return e.reduce((function(e,t){return e.concat(t instanceof a.B?t.errors:t)}),[])}},5769:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},70:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,c:()=>i});var r=n(6196),o=new r.y((function(e){return e.complete()}));function i(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):o}},5725:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7080),o=n(7811);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.thisArg))},e}(),u=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.L)},4002:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},9573:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},1760:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},8961:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},6022:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(7811);function o(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.L?o:null}return!0}},1450:(e,t,n)=>{"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,{z:()=>r})},7430:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},4724:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},9147:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1167:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},6295:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,z:()=>o});var r=n(7430);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)}function i(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},7080:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>o});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},487:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],u=0;u<e.length;u++){var s=e[u],c=r.base?s[0]+r.base:s[0],l=i[c]||0,f="".concat(c," ").concat(l);i[c]=l+1;var p=n(f),d={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var h=o(d,r);r.byIndex=u,t.splice(u,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var u=n(i[a]);t[u].references--}for(var s=r(e,o),c=0;c<i.length;c++){var l=n(i[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=s}}},2052:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},1469:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4010:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},631:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},9329:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},7641:(e,t,n)=>{function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}System.register(["@openmrs/esm-config","@openmrs/esm-error-handling","@openmrs/esm-offline"],(function(e,t){var i={},a={},u={};return{setters:[function(e){i.Type=e.Type,i.defineConfigSchema=e.defineConfigSchema,i.getConfig=e.getConfig,i.navigate=e.navigate,i.validators=e.validators},function(e){a.reportError=e.reportError},function(e){u.getSynchronizationItems=e.getSynchronizationItems}],execute:function(){e(function(){var e={385:function(){System.register([],(function(e,t){return{execute:function(){e(function(){"use strict";var e=function(e,t){var n=c[e];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(t,!0),n.active=!0,n.value;var r=s()((function(){return t}));return c[e]={value:r,active:!0},r},t=function(e,t){var n=c[e];if(!n){var r=s()((function(){return null!=t?t:{}}));return c[e]={value:r,active:!1},r}return n.value},n=function(t){return e("app",t)},r=function(){return t("app",{})},o=function(e,t,n){var r=t(e.getState());return e.subscribe((function(e){var o=t(e);o!==r&&(r=o,n(o))}))},i={d:function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};i.r(a),i.d(a,{createAppState:function(){return n},createGlobalStore:function(){return e},getAppState:function(){return r},getGlobalStore:function(){return t},subscribeTo:function(){return o}});var u=function(e){var t,n=new Set,r=function(e,r){var o="function"==typeof e?e(t):e;if(!Object.is(o,t)){var i=t;t=(null!=r?r:"object"!=typeof o)?o:Object.assign({},t,o),n.forEach((function(e){return e(t,i)}))}},o=function(){return t},i={setState:r,getState:o,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,o,i),i},s=function(e){return e?u(e):u},c={};return a}())}}}))},824:function(e){"use strict";e.exports=i},254:function(e){"use strict";e.exports=a},738:function(e){"use strict";e.exports=u}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return function(){"use strict";var e=function(e,t){function n(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},t=function(e){return"function"==typeof e},i=function(e){setTimeout((function(){throw e}),0)},a=function(e){return e.reduce((function(e,t){return e.concat(r(t,X)?t.errors:t)}),[])},u=function(e){return e},l=function(e){if(e||(e=G.Promise||Promise),!e)throw new Error("no Promise impl found");return e},f=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},p=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},d=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},y=function(e){return e&&e.startsWith("http")?e:("/"!==e[0]&&(e="/"+e),window.openmrsBase+e)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw Error("The first argument to @openmrs/api's openmrsFetch function must be a url string");if("object"!=typeof t)throw Error("The second argument to @openmrs/api's openmrsFetch function must be a plain object.");if(!window.openmrsBase)throw Error("@openmrs/api is running in a browser that doesn't have window.openmrsBase, which is provided by openmrs-module-spa's HTML file.");var n=y(e);if(t.headers||(t.headers={}),ge(t.body)&&(t.body=JSON.stringify(t.body)),void 0===t.headers.Accept&&(t.headers.Accept="application/json"),null===t.headers.Accept&&delete t.headers.Accept,e.startsWith(_e)&&void 0===t.headers["Disable-WWW-Authenticate"]&&(t.headers["Disable-WWW-Authenticate"]="true"),e.startsWith(je)){var r=new URL(n,window.location.toString());r.searchParams.has("_summary")||(r.searchParams.set("_summary","data"),n=r.toString())}var o,i,a=Error();return window.fetch(n,t).then((o=function(e){var t,r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return(t=e).ok?204===t.status?(t.data=null,[2,t]):[2,t.clone().text().then((function(e){try{e&&(t.data=JSON.parse(e))}catch(e){}return t}))]:[3,1];case 1:return[4,(0,we.getConfig)("@openmrs/esm-api")];case 2:return r=o.sent().redirectAuthFailure,n===y(ke)&&403===t.status||r.enabled&&r.errors.includes(t.status)?((0,we.navigate)({to:r.url}),[2,r.resolvePromise?Promise.resolve():new Promise((function(){}))]):[2,t.clone().text().then((function(e){var r=e;try{r=JSON.parse(e)}catch(e){}throw new Ae(n,t,r,a)}),(function(e){throw new Ae(n,t,null,a)}))];case 3:return[2]}}))},i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){p(i,n,r,a,u,"next",e)}function u(e){p(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)throw Error("The second argument to openmrsObservableFetch must be either omitted or an object");var n=new AbortController;return t.signal=n.signal,new re((function(r){var o=!1;return v(e,t).then((function(e){o=!0,r.next(e),r.complete()}),(function(e){o=!0,r.error(e)})),function(){o||n.abort()}}))},m=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeAuthStatus:!0};return(De<Date.now()-6e4||!Te.getState().loaded)&&S(),new re((function(t){var n=function(n){var r;n.loaded&&(e.includeAuthStatus?t.next(n.session):t.next(null===(r=n.session)||void 0===r?void 0:r.user))};return n(Te.getState()),Te.subscribe(n)}))},w=function(){return(De<Date.now()-6e4||!Te.getState().loaded)&&S(),Te},S=function(){return new Promise((function(e,t){De=Date.now(),v(ke).then((function(n){if("object"!=typeof(null==n?void 0:n.data))return t(),Promise.reject();var r,o,i,a,u;(u=null!==(a=null==(r=n.data)||null===(o=r.user)||void 0===o||null===(i=o.userProperties)||void 0===i?void 0:i.defaultLocale)&&void 0!==a?a:r.locale)!==document.documentElement.getAttribute("lang")&&document.documentElement.setAttribute("lang",u),e(n.data),Te.setState({loaded:!0,session:n.data})})).catch((function(e){return(0,Pe.reportError)("Failed to fetch new session information: ".concat(e)),t(e),{sessionId:"",authenticated:!1}}))}))},O=function(){Te.setState({loaded:!0,session:{authenticated:!1,sessionId:""}})},x=function(e,t){return void 0===t?Boolean(e):!Boolean(e)||function(e,t){return"string"==typeof e?!Ie(t.privileges.find((function(t){return e===t.display}))):Array.isArray(e)?e.every((function(e){return!Ie(t.privileges.find((function(t){return e===t.display})))})):(Ie(e)||console.error('Could not understand privileges "'.concat(e,'"')),!0)}(e,t)||function(e){return!Ie(e.roles.find((function(e){return"System Developer"===e.display})))}(t)},E=function(){var e,t;return new Promise((function(n,r){var o=function(r){r.loaded&&r.session.user&&(e=r.session.user,n(r.session.user),t&&t())};o(Te.getState()),e||(t=Te.subscribe(o))}))},_=function(){return new Promise((function(e,t){g().subscribe((function(t){e(t.sessionLocation)}),t).unsubscribe()}))},j=function(e,t){return $e.apply(this,arguments)},k=function(){(0,we.defineConfigSchema)("@openmrs/esm-api",{redirectAuthFailure:{enabled:{_type:we.Type.Boolean,_default:!0,_description:"Whether to redirect logged-out users to `redirectAuthFailure.url`"},url:{_type:we.Type.String,_default:"${openmrsSpaBase}/login",_validators:[we.validators.isUrl]},errors:{_type:we.Type.Array,_default:[401],_elements:{_type:we.Type.Number,_validators:[we.validators.inRange(100,600)]},_description:"The HTTP error codes for which users will be redirected"},resolvePromise:{_type:we.Type.Boolean,_default:!1,_description:"Changes how requests that fail authentication are handled. Try messing with this if redirects to the login page aren't working correctly."}}}),S()},A=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},P=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},C=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,u,"next",e)}function u(e){P(i,r,o,a,u,"throw",e)}a(void 0)}))}},I=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},T=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},D=function(e,t){return Ne.apply(this,arguments)},$=function(e){return Me.apply(this,arguments)},R=function(e){return function(t){return 0===e?We:t.lift(new Ge(e))}},N=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Ye(e,t))}},M=function(e,t,n){var r=null!=n?n:Qe;return b("/ws/rest/v1/visit?patient=".concat(e,"&v=").concat(r),{signal:t.signal,method:"GET",headers:{"Content-type":"application/json"}}).pipe(R(1)).pipe(N((function(e){return e})))},L=function(e,t){return b("/ws/rest/v1/visit",{signal:t.signal,method:"POST",headers:{"Content-type":"application/json"},body:e})},U=function(e,t,n){return b("/ws/rest/v1/visit/".concat(e),{signal:n.signal,method:"POST",headers:{"Content-type":"application/json"},body:t})},B=function(e){return{uuid:e.uuid,display:e.display,name:e.name}},z=function(){return b("/ws/rest/v1/visittype").pipe(N((function(e){return e.data.results.map(B)}))).pipe(R(1))},F=function(e){return{uuid:e.uuid,display:e.display}},K=function(){return b("/ws/rest/v1/location").pipe(N((function(e){return e.data.results.map(F)}))).pipe(R(1))};s.r(c),s.d(c,{OpenmrsFetchError:function(){return Ae},VisitMode:function(){return Le},VisitStatus:function(){return Ue},backendDependencies:function(){return et},clearCurrentUser:function(){return O},defaultVisitCustomRepresentation:function(){return Qe},fetchCurrentPatient:function(){return D},fhirBaseUrl:function(){return je},getCurrentUser:function(){return g},getLocations:function(){return K},getLoggedInUser:function(){return E},getSessionLocation:function(){return _},getSessionStore:function(){return w},getStartedVisit:function(){return Je},getVisitTypes:function(){return z},getVisitsForPatient:function(){return M},makeUrl:function(){return y},openmrsFetch:function(){return v},openmrsObservableFetch:function(){return b},refetchCurrentUser:function(){return S},restBaseUrl:function(){return _e},saveVisit:function(){return L},sessionEndpoint:function(){return ke},setSessionLocation:function(){return j},setupApiModule:function(){return k},toLocationObject:function(){return F},toVisitTypeObject:function(){return B},updateVisit:function(){return U},userHasAccess:function(){return x}});var V,q,H=function(e,t){return H=Object.setPrototypeOf||r({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},H(e,t)},W=!1,G={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,W=e},get useDeprecatedSynchronousErrorHandling(){return W}},Z={closed:!0,next:function(e){},error:function(e){if(G.useDeprecatedSynchronousErrorHandling)throw e;i(e)},complete:function(){}},Y=Array.isArray||function(e){return e&&"number"==typeof e.length},X=function(){var e=function(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this};return e.prototype=Object.create(Error.prototype),e}(),Q=function(){var e=function(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)};return e.prototype.unsubscribe=function(){var n;if(!this.closed){var o,i=this,u=i._parentOrParents,s=i._ctorUnsubscribe,c=i._unsubscribe,l=i._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r(u,e))u.remove(this);else if(null!==u)for(var f=0;f<u.length;++f)u[f].remove(this);if(t(c)){s&&(this._unsubscribe=void 0);try{c.call(this)}catch(e){n=r(e,X)?a(e.errors):[e]}}if(Y(l)){f=-1;for(var p=l.length;++f<p;){var d=l[f];if(null!==(o=d)&&"object"==typeof o)try{d.unsubscribe()}catch(e){n=n||[],r(e,X)?n=n.concat(a(e.errors)):n.push(e)}}}if(n)throw new X(n)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(void 0===t?"undefined":o(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!r(n,e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var a=n._parentOrParents;if(null===a)n._parentOrParents=this;else if(r(a,e)){if(a===this)return n;n._parentOrParents=[a,this]}else{if(-1!==a.indexOf(this))return n;a.push(this)}var u=this._subscriptions;return null===u?this._subscriptions=[n]:u.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),J="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),ee=function(t){function n(e,o,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=Z;break;case 1:if(!e){a.destination=Z;break}if("object"==typeof e){r(e,n)?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(a)):(a.syncErrorThrowable=!0,a.destination=new te(a,e));break}default:a.syncErrorThrowable=!0,a.destination=new te(a,e,o,i)}return a}return e(n,t),n.prototype[J]=function(){return this},n.create=function(e,t,r){var o=new n(e,t,r);return o.syncErrorThrowable=!1,o},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},n}(Q),te=function(n){var r=function(e,r,o,i){var a,u=n.call(this)||this;u._parentSubscriber=e;var s=u;return t(r)?a=r:r&&(a=r.next,o=r.error,i=r.complete,r!==Z&&(t((s=Object.create(r)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=a,u._error=o,u._complete=i,u};return e(r,n),r.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;G.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},r.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=G.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):i(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;i(e)}}},r.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};G.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),G.useDeprecatedSynchronousErrorHandling)throw e;i(e)}},r.prototype.__tryOrSetError=function(e,t,n){if(!G.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return G.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(i(t),!0)}return!1},r.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},r}(ee),ne="function"==typeof Symbol&&Symbol.observable||"@@observable",re=function(){var e=function(e){this._isScalar=!1,e&&(this._subscribe=e)};return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o=this.operator,i=function(e,t,n){if(e){if(r(e,ee))return e;if(e[J])return e[J]()}return e||t||n?new ee(e,t,n):new ee(Z)}(e,t,n);if(o?i.add(o.call(i,this.source)):i.add(this.source||G.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),G.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){G.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&r(o,ee)?o:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=l(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[ne]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0===(n=e).length?u:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=l(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}(),oe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ie="object"==typeof self&&self&&self.Object===Object&&self,ae=(oe||ie||Function("return this")()).Symbol,ue=Object.prototype,se=ue.hasOwnProperty,ce=ue.toString,le=ae?ae.toStringTag:void 0,fe=Object.prototype.toString,pe=ae?ae.toStringTag:void 0,de=(V=Object.getPrototypeOf,q=Object,function(e){return V(q(e))}),he=Function.prototype,ye=Object.prototype,ve=he.toString,be=ye.hasOwnProperty,me=ve.call(Object),ge=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pe&&pe in Object(e)?function(e){var t=se.call(e,le),n=e[le];try{e[le]=void 0;var r=!0}catch(e){}var o=ce.call(e);return r&&(t?e[le]=n:delete e[le]),o}(e):function(e){return fe.call(e)}(e)}(e))return!1;var t=de(e);if(null===t)return!0;var n=be.call(t,"constructor")&&t.constructor;return"function"==typeof n&&r(n,n)&&ve.call(n)==me},we=s(824);function Se(e,t,n){return Se=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&xe(o,n.prototype),o},Se.apply(null,arguments)}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function xe(e,t){return xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xe(e,t)}function Ee(e){var t="function"==typeof Map?new Map:void 0;return Ee=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Se(e,arguments,Oe(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),xe(r,e)},Ee(e)}var _e="/ws/rest/v1/",je="/ws/fhir2/R4",ke="".concat(_e,"session"),Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(a,e);var t,n,i=(t=a,n=h(),function(){var e,r=Oe(t);if(n){var i=Oe(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":o(n))&&"function"!=typeof t?f(e):t;var n}(this,e)});function a(e,t,n,o){var u;return function(e,t){if(!r(e,t))throw new TypeError("Cannot call a class as a function")}(this,a),d(f(u=i.call(this)),"response",void 0),d(f(u),"responseBody",void 0),u.message="Server responded with ".concat(t.status," (").concat(t.statusText,") for url ").concat(e,". Check err.responseBody or network tab in dev tools for more info"),o.message=u.message,u.responseBody=n,u.response=t,u.stack="Stacktrace for outgoing request:\n".concat(o.stack,"\nStacktrace for incoming response:\n").concat(u.stack),u}return a}(Ee(Error)),Pe=s(254),Ce=s(385),Ie=function(e){return void 0===e},Te=(0,Ce.createGlobalStore)("session",{loaded:!1,session:null}),De=0;function $e(){var e;return e=function(e,t){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return[4,v(ke,{method:"POST",body:{sessionLocation:e},headers:{"Content-Type":"application/json"},signal:t.signal})];case 1:return n.sent(),[4,S()];case 2:return n.sent(),[2]}}))},$e=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,u,"next",e)}function u(e){m(i,r,o,a,u,"throw",e)}a(void 0)}))},$e.apply(this,arguments)}var Re=s(738);function Ne(){return Ne=C((function(e,t){var n,r,o,i,a,u=arguments;return T(this,(function(s){switch(s.label){case 0:return n=!(u.length>2&&void 0!==u[2])||u[2],e?(r=null,[4,Promise.all([v("".concat(je,"/Patient/").concat(e),t).catch((function(e){return r=e})),n?$(e):Promise.resolve(null)])]):[3,2];case 1:if(o=I.apply(void 0,[s.sent(),2]),i=o[0],a=o[1],i.ok)return[2,i.data];if(a)return[2,a];if(r)throw r;s.label=2;case 2:return[2,null]}}))})),Ne.apply(this,arguments)}function Me(){return(Me=C((function(e){var t,n,r;return T(this,(function(o){switch(o.label){case 0:return[4,(0,Re.getSynchronizationItems)("patient-registration")];case 1:return t=o.sent(),n=t.find((function(t){return t.fhirPatient.id===e})),[2,null!==(r=null==n?void 0:n.fhirPatient)&&void 0!==r?r:null]}}))}))).apply(this,arguments)}var Le,Ue,Be=function(){var e=function(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this};return e.prototype=Object.create(Error.prototype),e}(),ze=function(t){var n=function(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r};return e(n,t),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},n}(Q),Fe=function(t){var n=function(e){var n=t.call(this,e)||this;return n.destination=e,n};return e(n,t),n}(ee),Ke=function(t){var n=function(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e};return e(n,t),n.prototype[J]=function(){return new Fe(this)},n.prototype.lift=function(e){var t=new Ve(this,this);return t.operator=e,t},n.prototype.next=function(e){if(this.closed)throw new Be;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},n.prototype.error=function(e){if(this.closed)throw new Be;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new Be;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(e){if(this.closed)throw new Be;return t.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(e){if(this.closed)throw new Be;return this.hasError?(e.error(this.thrownError),Q.EMPTY):this.isStopped?(e.complete(),Q.EMPTY):(this.observers.push(e),new ze(this,e))},n.prototype.asObservable=function(){var e=new re;return e.source=this,e},n.create=function(e,t){return new Ve(e,t)},n}(re),Ve=function(t){var n=function(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r};return e(n,t),n.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},n.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},n.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},n.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):Q.EMPTY},n}(Ke),qe=function(t){var n=function(e){var n=t.call(this)||this;return n._value=e,n};return e(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Be;return this._value},n.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},n}(Ke),He=function(){var e=function(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this};return e.prototype=Object.create(Error.prototype),e}(),We=new re((function(e){return e.complete()})),Ge=function(){var e=function(e){if(this.total=e,this.total<0)throw new He};return e.prototype.call=function(e,t){return t.subscribe(new Ze(e,this.total))},e}(),Ze=function(t){var n=function(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r};return e(n,t),n.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},n}(ee),Ye=function(){var e=function(e,t){this.project=e,this.thisArg=t};return e.prototype.call=function(e,t){return t.subscribe(new Xe(e,this.project,this.thisArg))},e}(),Xe=function(t){var n=function(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o};return e(n,t),n.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},n}(ee),Qe="custom:(uuid,encounters:(uuid,encounterDatetime,form:(uuid,name),location:ref,encounterType:ref,encounterProviders:(uuid,display,provider:(uuid,display))),patient:(uuid,uuid),visitType:(uuid,name,display),attributes:(uuid,display,attributeType:(name,datatypeClassname,uuid),value),location:(uuid,name,display),startDatetime,stopDatetime)",Je=new qe(null);!function(e){e.NEWVISIT="startVisit",e.EDITVISIT="editVisit",e.LOADING="loadingVisit"}(Le||(Le={})),function(e){e.NOTSTARTED="notStarted",e.ONGOING="ongoing"}(Ue||(Ue={}));var et={"webservices.rest":"2.24.0",fhir2:"1.0.0-SNAPSHOT"}}(),c}())}}}))},7398:(e,t,n)=>{"use strict";n.d(t,{nF:()=>A,u4:()=>pe,Rx:()=>de,Wf:()=>ge,Ze:()=>L,I$:()=>se,Vy:()=>Y,DN:()=>x,ts:()=>R,JC:()=>me,r:()=>B,WK:()=>z,KJ:()=>N,$X:()=>he,P9:()=>ve,nx:()=>ce,bf:()=>_,vb:()=>j,uj:()=>k,VJ:()=>M,YC:()=>O,bX:()=>le,z$:()=>E,jK:()=>F,Lq:()=>be,VF:()=>ye,ym:()=>fe,y9:()=>U});var r=n(4666),o=n(963);const i=(0,n(6899).Z)(Object.getPrototypeOf,Object);var a=n(4897),u=Function.prototype,s=Object.prototype,c=u.toString,l=s.hasOwnProperty,f=c.call(Object);const p=function(e){if(!(0,a.Z)(e)||"[object Object]"!=(0,o.Z)(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f};var d=n(9714);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function v(e,t,n){return v=S()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&g(o,n.prototype),o},v.apply(null,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){var t="function"==typeof Map?new Map:void 0;return w=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return v(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},w(e)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var O="/ws/rest/v1/",x="/ws/fhir2/R4",E="".concat(O,"session");function _(e){return e&&e.startsWith("http")?e:("/"!==e[0]&&(e="/"+e),window.openmrsBase+e)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw Error("The first argument to @openmrs/api's openmrsFetch function must be a url string");if("object"!=typeof t)throw Error("The second argument to @openmrs/api's openmrsFetch function must be a plain object.");if(!window.openmrsBase)throw Error("@openmrs/api is running in a browser that doesn't have window.openmrsBase, which is provided by openmrs-module-spa's HTML file.");var n=_(e);if(t.headers||(t.headers={}),p(t.body)&&(t.body=JSON.stringify(t.body)),void 0===t.headers.Accept&&(t.headers.Accept="application/json"),null===t.headers.Accept&&delete t.headers.Accept,e.startsWith(O)&&void 0===t.headers["Disable-WWW-Authenticate"]&&(t.headers["Disable-WWW-Authenticate"]="true"),e.startsWith(x)){var r=new URL(n,window.location.toString());r.searchParams.has("_summary")||(r.searchParams.set("_summary","data"),n=r.toString())}var o,i,a=Error();return window.fetch(n,t).then((o=function(e){var t,r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return(t=e).ok?204===t.status?(t.data=null,[2,t]):[2,t.clone().text().then((function(e){try{e&&(t.data=JSON.parse(e))}catch(e){}return t}))]:[3,1];case 1:return[4,(0,d.getConfig)("@openmrs/esm-api")];case 2:return r=o.sent().redirectAuthFailure,n===_(E)&&403===t.status||r.enabled&&r.errors.includes(t.status)?((0,d.navigate)({to:r.url}),[2,r.resolvePromise?Promise.resolve():new Promise((function(){}))]):[2,t.clone().text().then((function(e){var r=e;try{r=JSON.parse(e)}catch(e){}throw new A(n,t,r,a)}),(function(e){throw new A(n,t,null,a)}))];case 3:return[2]}}))},i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){y(i,n,r,a,u,"next",e)}function u(e){y(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)}))}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)throw Error("The second argument to openmrsObservableFetch must be either omitted or an object");var n=new AbortController;return t.signal=n.signal,new r.Observable((function(r){var o=!1;return j(e,t).then((function(e){o=!0,r.next(e),r.complete()}),(function(e){o=!0,r.error(e)})),function(){o||n.abort()}}))}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,n,r=(t=o,n=S(),function(){var e,r=m(t);if(n){var o=m(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?h(e):t;var n}(this,e)});function o(e,t,n,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),b(h(a=r.call(this)),"response",void 0),b(h(a),"responseBody",void 0),a.message="Server responded with ".concat(t.status," (").concat(t.statusText,") for url ").concat(e,". Check err.responseBody or network tab in dev tools for more info"),i.message=a.message,a.responseBody=n,a.response=t,a.stack="Stacktrace for outgoing request:\n".concat(i.stack,"\nStacktrace for incoming response:\n").concat(a.stack),a}return o}(w(Error)),P=n(674),C=n(5385),I=n(9789);function T(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var D=(0,C.createGlobalStore)("session",{loaded:!1,session:null}),$=0;function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeAuthStatus:!0};return($<Date.now()-6e4||!D.getState().loaded)&&M(),new r.Observable((function(t){var n=function(n){var r;n.loaded&&(e.includeAuthStatus?t.next(n.session):t.next(null===(r=n.session)||void 0===r?void 0:r.user))};return n(D.getState()),D.subscribe(n)}))}function N(){return($<Date.now()-6e4||!D.getState().loaded)&&M(),D}function M(){return new Promise((function(e,t){$=Date.now(),j(E).then((function(n){if("object"!=typeof(null==n?void 0:n.data))return t(),Promise.reject();var r,o,i,a,u;(u=null!==(a=null==(r=n.data)||null===(o=r.user)||void 0===o||null===(i=o.userProperties)||void 0===i?void 0:i.defaultLocale)&&void 0!==a?a:r.locale)!==document.documentElement.getAttribute("lang")&&document.documentElement.setAttribute("lang",u),e(n.data),D.setState({loaded:!0,session:n.data})})).catch((function(e){return(0,P.reportError)("Failed to fetch new session information: ".concat(e)),t(e),{sessionId:"",authenticated:!1}}))}))}function L(){D.setState({loaded:!0,session:{authenticated:!1,sessionId:""}})}function U(e,t){return void 0===t?Boolean(e):!Boolean(e)||function(e,t){return"string"==typeof e?!(0,I.Z)(t.privileges.find((function(t){return e===t.display}))):Array.isArray(e)?e.every((function(e){return!(0,I.Z)(t.privileges.find((function(t){return e===t.display})))})):((0,I.Z)(e)||console.error('Could not understand privileges "'.concat(e,'"')),!0)}(e,t)||function(e){return!(0,I.Z)(e.roles.find((function(e){return"System Developer"===e.display})))}(t)}function B(){var e,t;return new Promise((function(n,r){var o=function(r){r.loaded&&r.session.user&&(e=r.session.user,n(r.session.user),t&&t())};o(D.getState()),e||(t=D.subscribe(o))}))}function z(){return new Promise((function(e,t){R().subscribe((function(t){e(t.sessionLocation)}),t).unsubscribe()}))}function F(e,t){return K.apply(this,arguments)}function K(){var e;return e=function(e,t){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return[4,j(E,{method:"POST",body:{sessionLocation:e},headers:{"Content-Type":"application/json"},signal:t.signal})];case 1:return n.sent(),[4,M()];case 2:return n.sent(),[2]}}))},K=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,u,"next",e)}function u(e){T(i,r,o,a,u,"throw",e)}a(void 0)}))},K.apply(this,arguments)}var V=n(1593);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,u,"next",e)}function u(e){H(i,r,o,a,u,"throw",e)}a(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Y(e,t){return X.apply(this,arguments)}function X(){return X=W((function(e,t){var n,r,o,i,a,u=arguments;return Z(this,(function(s){switch(s.label){case 0:return n=!(u.length>2&&void 0!==u[2])||u[2],e?(r=null,[4,Promise.all([j("".concat(x,"/Patient/").concat(e),t).catch((function(e){return r=e})),n?Q(e):Promise.resolve(null)])]):[3,2];case 1:if(o=G.apply(void 0,[s.sent(),2]),i=o[0],a=o[1],i.ok)return[2,i.data];if(a)return[2,a];if(r)throw r;s.label=2;case 2:return[2,null]}}))})),X.apply(this,arguments)}function Q(e){return J.apply(this,arguments)}function J(){return(J=W((function(e){var t,n,r;return Z(this,(function(o){switch(o.label){case 0:return[4,(0,V.getSynchronizationItems)("patient-registration")];case 1:return t=o.sent(),n=t.find((function(t){return t.fhirPatient.id===e})),[2,null!==(r=null==n?void 0:n.fhirPatient)&&void 0!==r?r:null]}}))}))).apply(this,arguments)}var ee=n(7080),te=n(7811),ne=n(1760),re=n(70);function oe(e){return function(t){return 0===e?(0,re.c)():t.lift(new ie(e))}}var ie=function(){function e(e){if(this.total=e,this.total<0)throw new ne.W}return e.prototype.call=function(e,t){return t.subscribe(new ae(e,this.total))},e}(),ae=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return ee.ZT(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(te.L),ue=n(5725),se="custom:(uuid,encounters:(uuid,encounterDatetime,form:(uuid,name),location:ref,encounterType:ref,encounterProviders:(uuid,display,provider:(uuid,display))),patient:(uuid,uuid),visitType:(uuid,name,display),attributes:(uuid,display,attributeType:(name,datatypeClassname,uuid),value),location:(uuid,name,display),startDatetime,stopDatetime)";function ce(e,t,n){var r=null!=n?n:se;return k("/ws/rest/v1/visit?patient=".concat(e,"&v=").concat(r),{signal:t.signal,method:"GET",headers:{"Content-type":"application/json"}}).pipe(oe(1)).pipe((0,ue.U)((function(e){return e})))}function le(e,t){return k("/ws/rest/v1/visit",{signal:t.signal,method:"POST",headers:{"Content-type":"application/json"},body:e})}function fe(e,t,n){return k("/ws/rest/v1/visit/".concat(e),{signal:n.signal,method:"POST",headers:{"Content-type":"application/json"},body:t})}var pe,de,he=new r.BehaviorSubject(null);function ye(e){return{uuid:e.uuid,display:e.display,name:e.name}}function ve(){return k("/ws/rest/v1/visittype").pipe((0,ue.U)((function(e){return e.data.results.map(ye)}))).pipe(oe(1))}function be(e){return{uuid:e.uuid,display:e.display}}function me(){return k("/ws/rest/v1/location").pipe((0,ue.U)((function(e){return e.data.results.map(be)}))).pipe(oe(1))}!function(e){e.NEWVISIT="startVisit",e.EDITVISIT="editVisit",e.LOADING="loadingVisit"}(pe||(pe={})),function(e){e.NOTSTARTED="notStarted",e.ONGOING="ongoing"}(de||(de={}));var ge={"webservices.rest":"2.24.0",fhir2:"1.0.0-SNAPSHOT"}},6066:()=>{function e(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}System.register(["@openmrs/esm-state"],(function(t,n){var r={};return{setters:[function(e){r.createGlobalStore=e.createGlobalStore}],execute:function(){t(function(){"use strict";var t={685:function(e){e.exports=r}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){var t=function(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")},n=function(e){return e&&e.sensitive?"":"i"},r=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},a=function(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},u=function(t){return n=t.matcher,(null!=(r=RegExp)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):e(n,r))?t.matcher:"string"==typeof t.matcher?h(t.matcher):h(t.path);var n,r},s=function(e){return c([e])},c=function(e){var t=l(),n=e.map((function(e){return{matcher:u(e),settings:e}})),r=a(t).concat(a(n));y.setState(r,!0)},l=function(){return y.getState()},f=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},p=function(e,t){if(e.length>0){var n=v(e,t);if(n){for(var r=[n],o=v(e,n.settings.parent);void 0!==o;)r.push(o),o=v(e,o.settings.parent);return r.reverse()}}return[]},d=function(e){return p(l(),e)};function h(r,o,i){return e(r,RegExp)?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:"",suffix:"",modifier:"",pattern:""});return e}(r,o):Array.isArray(r)?function(e,t,r){var o=e.map((function(e){return h(e,t,r).source}));return new RegExp("(?:"+o.join("|")+")",n(r))}(r,o,i):function(e,r,o){return function(e,r,o){void 0===o&&(o={});for(var i=o.strict,a=void 0!==i&&i,u=o.start,s=void 0===u||u,c=o.end,l=void 0===c||c,f=o.encode,p=void 0===f?function(e){return e}:f,d="["+t(o.endsWith||"")+"]|$",h="["+t(o.delimiter||"/#?")+"]",y=s?"^":"",v=0,b=e;v<b.length;v++){var m=b[v];if("string"==typeof m)y+=t(p(m));else{var g=t(p(m.prefix)),w=t(p(m.suffix));if(m.pattern)if(r&&r.push(m),g||w)if("+"===m.modifier||"*"===m.modifier){var S="*"===m.modifier?"?":"";y+="(?:"+g+"((?:"+m.pattern+")(?:"+w+g+"(?:"+m.pattern+"))*)"+w+")"+S}else y+="(?:"+g+"("+m.pattern+")"+w+")"+m.modifier;else y+="("+m.pattern+")"+m.modifier;else y+="(?:"+g+w+")"+m.modifier}}if(l)a||(y+=h+"?"),y+=o.endsWith?"(?="+d+")":"$";else{var O=e[e.length-1],x="string"==typeof O?h.indexOf(O[O.length-1])>-1:void 0===O;a||(y+="(?:"+h+"(?="+d+"))?"),x||(y+="(?="+h+"|"+d+")")}return new RegExp(y,n(o))}(function(e,n){void 0===n&&(n={});for(var r=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var o=1,i="";if("?"===e[u=n+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0==--o){u++;break}}else if("("===e[u]&&(o++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);i+=e[u++]}else i+=e[u++]+e[u++];if(o)throw new TypeError("Unbalanced pattern at "+n);if(!i)throw new TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:i}),n=u}else{for(var a="",u=n+1;u<e.length;){var s=e.charCodeAt(u);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;a+=e[u++]}if(!a)throw new TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:a}),n=u}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),o=n.prefixes,i=void 0===o?"./":o,a="[^"+t(n.delimiter||"/#?")+"]+?",u=[],s=0,c=0,l="",f=function(e){if(c<r.length&&r[c].type===e)return r[c++].value},p=function(e){var t=f(e);if(void 0!==t)return t;var n=r[c],o=n.type,i=n.index;throw new TypeError("Unexpected "+o+" at "+i+", expected "+e)},d=function(){for(var e,t="";e=f("CHAR")||f("ESCAPED_CHAR");)t+=e;return t};c<r.length;){var h=f("CHAR"),y=f("NAME"),v=f("PATTERN");if(y||v){var b=h||"";-1===i.indexOf(b)&&(l+=b,b=""),l&&(u.push(l),l=""),u.push({name:y||s++,prefix:b,suffix:"",pattern:v||a,modifier:f("MODIFIER")||""})}else{var m=h||f("ESCAPED_CHAR");if(m)l+=m;else if(l&&(u.push(l),l=""),f("OPEN")){b=d();var g=f("NAME")||"",w=f("PATTERN")||"",S=d();p("CLOSE"),u.push({name:g||(w?s++:""),pattern:g&&!w?a:w,prefix:b,suffix:S,modifier:f("MODIFIER")||""})}else p("END")}}return u}(e,o),r,o)}(r,o,i)}o.r(i),o.d(i,{filterBreadcrumbs:function(){return p},getBreadcrumbs:function(){return l},getBreadcrumbsFor:function(){return d},registerBreadcrumb:function(){return s},registerBreadcrumbs:function(){return c}});var y=(0,o(685).createGlobalStore)("breadcrumbs",[]);function v(e,t){if(t)return function(e,t){return(n=e.filter((function(e){return e.matcher.test(t)})),function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),1!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n)||function(e,t){if(e){if("string"==typeof e)return f(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,1):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var n}(e,t)||function(e,t){for(var n=t.split("/");n.length>1;){n.pop();var r=v(e,n.join("/"));if(r)return r}}(e,t)}}(),i}())}}}))},9714:()=>{function e(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}System.register(["@openmrs/esm-state","single-spa"],(function(t,n){var r={},o={};return{setters:[function(e){r.createGlobalStore=e.createGlobalStore,r.getGlobalStore=e.getGlobalStore},function(e){o.navigateToUrl=e.navigateToUrl}],execute:function(){t(function(){"use strict";var t={685:function(e){e.exports=r},645:function(e){e.exports=o}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){var t=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]},n=function(e){return function n(r){return 0===arguments.length||t(r)?n:e.apply(this,arguments)}},r=function(e){return function r(o,i){switch(arguments.length){case 0:return r;case 1:return t(o)?r:n((function(t){return e(o,t)}));default:return t(o)&&t(i)?r:t(o)?n((function(t){return e(t,i)})):t(i)?n((function(t){return e(o,t)})):e(o,i)}}},o=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},u=function(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1},s=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},c=function(e,t,n,r){var i=o(e);function a(e,t){return le(e,t,n.slice(),r.slice())}return!u((function(e,t){return!u(a,t,e)}),o(t),i)},l=function(e){return function o(i,a,u){switch(arguments.length){case 0:return o;case 1:return t(i)?o:r((function(t,n){return e(i,t,n)}));case 2:return t(i)&&t(a)?o:t(i)?r((function(t,n){return e(t,a,n)})):t(a)?r((function(t,n){return e(i,t,n)})):n((function(t){return e(i,a,t)}));default:return t(i)&&t(a)&&t(u)?o:t(i)&&t(a)?r((function(t,n){return e(t,n,u)})):t(i)&&t(u)?r((function(t,n){return e(t,a,n)})):t(a)&&t(u)?r((function(t,n){return e(i,t,n)})):t(i)?n((function(t){return e(t,a,u)})):t(a)?n((function(t){return e(i,t,u)})):t(u)?n((function(t){return e(i,a,t)})):e(i,a,u)}}},f=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)},d=function(e,t,n,r){return e["@@transducer/result"](n[r](xe(e["@@transducer/step"],e),t))},h=function(e,t){return function(n){if(!e(n))return"function"==typeof t?t(n):t}},y=function(e){return(0,Te.getGlobalStore)("config-module-".concat(e),{config:null,loaded:!1})},v=function(){return(0,Te.getGlobalStore)("config-extension-slots",{slots:{}})},b=function(e){return m(v().getState(),e)},m=function(e,t){var n=e.slots[t];return null!=n?n:{loaded:!1,config:{}}},g=function(){return(0,Te.getGlobalStore)("config-extensions",{configs:{}})},w=function(e,t){var n=Object.assign({},S(g().getState(),e,t));return n.config=ye(["Display conditions","Translation overrides"],n.config),n},S=function(e,t,n){var r,o=null===(r=e.configs[t])||void 0===r?void 0:r[n];return null!=o?o:{loaded:!1,config:null}},O=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e},_=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e},j=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},k=function(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},A=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}},P=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e.schemas)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=F(u,e,t);y(u).setState({loaded:!0,config:s})}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},C=function(e,t){var n,r,o=(n=V(z(e,t)),function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=j(o.value,2),u=a[0],s=a[1],c=!0,l=!1,f=void 0;try{for(var p,d=Object.entries(s)[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var h=j(p.value,2),y=h[0];B(h[1],u,y)}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}(r=Object.keys(n).reduce((function(e,t){var r,o;return(null===(r=n[t])||void 0===r?void 0:r.extensionSlots)&&(e[t]=null===(o=n[t])||void 0===o?void 0:o.extensionSlots),e}),{})),Object.keys(r).reduce((function(e,t){return E({},e,r[t])}),{})),i=Object.fromEntries(Object.entries(o).map((function(e){var t=j(e,2);return[t[0],{loaded:!0,config:t[1]}]}))),a=v(),u=a.getState(),s={slots:E({},u.slots,i)};fe(u,s)||a.setState(s)},I=function(e,t){var n=function(e,t){var n=Me(me(e.schemas)),r=k(e.providedConfigs.map((function(e){return[e.config,e.source]}))).concat([[t.config,"temporary config"]]),o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=j(u.value,2);n=V([n,Le(c[0],c[1])])}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t);Ne.setState({config:n})},T=function(e,t,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=t.mountedExtensions[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=U(c.slotModuleName,c.extensionModuleName,c.slotName,c.extensionId,e,n);r[c.slotName]=_(E({},r[c.slotName]),x({},c.extensionId,{config:l,loaded:!0}))}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}g().setState({configs:r})},D=function(e,t){Ue(e,t);var n=he(t,Ke),r=De.getState();De.setState({schemas:_(E({},r.schemas),x({},e,n))})},$=function(e,t){Ue(e,t);var n=he(t,Ke),r=De.getState();r.schemas[e]&&console.warn("Config schema for extension ".concat(e," already exists. If there are multiple extensions with this same name, one will probably crash.")),De.setState({schemas:_(E({},r.schemas),x({},e,n))})},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"provided",n=De.getState();De.setState({providedConfigs:k(n.providedConfigs).concat([{source:t,config:e}])})},N=function(e){return new Promise((function(t){var n=function(e){if(e.loaded&&e.config){var n=ye(["Display conditions","Translation overrides"],e.config);t(n),o&&o()}},r=y(e);n(r.getState());var o=r.subscribe(n)}))},M=function(e){return new Promise((function(t){var n=function(e){if(e.loaded&&e.config){var n=e.config;t(n),o&&o()}},r=y(e);n(r.getState());var o=r.subscribe(n)}))},L=function(e,t,n){q(e,t,n);var r=Fe(e,t);return ze(e,r,n),r},U=function(e,t,n,r,o,i){var a,u,s,c,l=function(e){return j(e.split("#"),1)[0]}(r),f=o.schemas[l],p=f?l:t,d=z(o,i),h=K(e,d),y=null!==(c=null==h||null===(a=h.extensionSlots)||void 0===a||null===(u=a[n])||void 0===u||null===(s=u.configure)||void 0===s?void 0:s[r])&&void 0!==c?c:{},v=V([K(p,d),y]),b=null!=f?f:o.schemas[t];q(b,v,p);var m=Fe(b,v);return ze(b,m,p),delete m.extensionSlots,m},B=function(e,t,n){var r="Extension slot config '".concat(t,".extensionSlots.").concat(n),o=Object.keys(e).filter((function(e){return!["add","remove","order","configure"].includes(e)}));o.length&&console.error(r+"' contains invalid keys '".concat(o.join("', '"),"'")),e.add&&(Array.isArray(e.add)&&e.add.every((function(e){return"string"==typeof e}))||console.error(r+".add' is invalid. Must be an array of strings (extension IDs)")),e.remove&&(Array.isArray(e.remove)&&e.remove.every((function(e){return"string"==typeof e}))||console.error(r+".remove' is invalid. Must be an array of strings (extension IDs)")),e.order&&(Array.isArray(e.order)&&e.order.every((function(e){return"string"==typeof e}))||console.error(r+".order' is invalid. Must be an array of strings (extension IDs)")),e.configure&&(Z(e.configure)||console.error(r+".configure' is invalid. Must be an object with extension IDs for keys"))},z=function(e,t){return k(e.providedConfigs.map((function(e){return e.config}))).concat([t.config])},F=function(e,t,n){if(!t.schemas.hasOwnProperty(e))throw Error("No config schema has been defined for "+e);var r=t.schemas[e],o=K(e,z(t,n));q(r,o,e);var i=Fe(r,o);return ze(r,i,e),delete i.extensionSlots,i},K=function(e,t){return V(t.map((function(t){return t[e]})).filter((function(e){return!!e})))},V=function(e){return _e(he)({},e)},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=t[s],l=n+"."+s,f=e[s];e.hasOwnProperty(s)?Be(f,c,l):"extensionSlots"===s&&""!==n||console.error("Unknown config key '".concat(l,"' provided. Ignoring."))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}},H=function(e,t,n){t&&W(e,[{Array:je,Boolean:ke,ConceptUuid:Ie,Number:Ae,Object:Ce,String:Pe,UUID:Ie,PersonAttributeTypeUuid:Ie,PatientIdentifierTypeUuid:Ie}[t]],n)},W=function(e,t,n){if(t)try{var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=(0,a.value)(n);"string"==typeof s&&("object"==typeof n?console.error("Invalid configuration for ".concat(e,": ").concat(s)):console.error("Invalid configuration value ".concat(n," for ").concat(e,": ").concat(s)))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}catch(t){console.error('Skipping invalid validator at "'.concat(e,'". Encountered error\n\t').concat(t))}},G=function(e){return!!e&&Object.keys(e).filter((function(e){return!["_default","_validators"].includes(e)})).length>0},Z=function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e},Y=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},X=function(e,t){var n=window.getOpenmrsSpaBase().replace(/\/$/,"");return Q(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}({openmrsBase:window.openmrsBase,openmrsSpaBase:n},t)).replace(/^\/\//,"/")},Q=function(e,t){return Object.keys(t).reduce((function(e,n){return e.split("${"+n+"}").join(t[n])}),e)},J=function(e){var t=e.to,n=e.templateParams,r=window.getOpenmrsSpaBase().replace(/\/$/,""),o=X(t,n);o.startsWith(r)?(0,Ve.navigateToUrl)(o):window.location.assign(o)};i.r(a),i.d(a,{Type:function(){return be},configExtensionStore:function(){return Re},configInternalStore:function(){return De},defineConfigSchema:function(){return D},defineExtensionConfigSchema:function(){return $},getConfig:function(){return N},getConfigInternal:function(){return M},getConfigStore:function(){return y},getExtensionConfig:function(){return w},getExtensionConfigFromStore:function(){return S},getExtensionSlotConfig:function(){return b},getExtensionSlotConfigFromStore:function(){return m},getExtensionSlotsConfigStore:function(){return v},getExtensionsConfigStore:function(){return g},implementerToolsConfigStore:function(){return Ne},inRange:function(){return qe},interpolateString:function(){return Q},interpolateUrl:function(){return X},isUrl:function(){return We},isUrlWithTemplateParameters:function(){return He},navigate:function(){return J},oneOf:function(){return Ge},processConfig:function(){return L},provide:function(){return R},temporaryConfigStore:function(){return $e},validator:function(){return h},validators:function(){return Ze}});var ee="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},te=Object.prototype.toString,ne=function(){return"[object Arguments]"===te.call(arguments)?function(e){return"[object Arguments]"===te.call(e)}:function(e){return s("callee",e)}}(),re=ne,oe=!{toString:null}.propertyIsEnumerable("toString"),ie=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ae=function(){return arguments.propertyIsEnumerable("length")}(),ue=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},se="function"!=typeof Object.keys||ae?n((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=ae&&re(e);for(t in e)!s(t,e)||o&&"length"===t||(r[r.length]=t);if(oe)for(n=ie.length-1;n>=0;)s(t=ie[n],e)&&!ue(r,t)&&(r[r.length]=t),n-=1;return r})):n((function(e){return Object(e)!==e?[]:Object.keys(e)})),ce=n((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function le(t,n,r,o){if(ee(t,n))return!0;var i,a,u=ce(t);if(u!==ce(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(i=t.constructor,null==(a=String(i).match(/^function (\w*)/))?"":a[1]))return t===n;break;case"Boolean":case"Number":case"String":if((void 0===t?"undefined":e(t))!=(void 0===n?"undefined":e(n))||!ee(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!ee(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var l=r.length-1;l>=0;){if(r[l]===t)return o[l]===n;l-=1}switch(u){case"Map":return t.size===n.size&&c(t.entries(),n.entries(),r.concat([t]),o.concat([n]));case"Set":return t.size===n.size&&c(t.values(),n.values(),r.concat([t]),o.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var f=se(t);if(f.length!==se(n).length)return!1;var p=r.concat([t]),d=o.concat([n]);for(l=f.length-1;l>=0;){var h=f[l];if(!s(h,n)||!le(n[h],t[h],p,d))return!1;l-=1}return!0}var fe=r((function(e,t){return le(e,t,[],[])})),pe=l((function(e,t,n){var r,o={};for(r in t)s(r,t)&&(o[r]=s(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)s(r,n)&&!s(r,o)&&(o[r]=n[r]);return o})),de=l((function e(t,n,r){return pe((function(n,r,o){return f(r)&&f(o)?e(t,r,o):t(n,r,o)}),n,r)})),he=r((function(e,t){return de((function(e,t,n){return n}),e,t)})),ye=r((function(e,t){for(var n={},r={},o=0,i=e.length;o<i;)r[e[o]]=1,o+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}));function ve(e,t,n,r){var o,i=function(o){for(var i=t.length,a=0;a<i;){if(e===t[a])return n[a];a+=1}for(var u in t[a+1]=e,n[a+1]=o,e)o[u]=r?ve(e[u],t,n,!0):e[u];return o};switch(ce(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return o=e,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return e}}var be,me=n((function(e){return null!=e&&"function"==typeof e.clone?e.clone():ve(e,[],[],!0)})),ge=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},we=n((function(e){return!!ge(e)||!!e&&"object"==typeof e&&!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))})),Se=function(){var e=function(e){this.f=e};return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}(),Oe=r((function(e,t){return function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,a){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,a,u){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,a,u,s){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,a,u,s,c){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,a,u,s,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(e.length,(function(){return e.apply(t,arguments)}))})),xe=Oe,Ee="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",_e=l((function(e,t,n){if("function"==typeof e&&(e=function(e){return new Se(e)}(e)),we(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return d(e,t,n,"fantasy-land/reduce");if(null!=n[Ee])return p(e,t,n[Ee]());if("function"==typeof n.next)return p(e,t,n);if("function"==typeof n.reduce)return d(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}));!function(e){e.Array="Array",e.Boolean="Boolean",e.ConceptUuid="ConceptUuid",e.Number="Number",e.Object="Object",e.String="String",e.UUID="UUID",e.PersonAttributeTypeUuid="PersonAttributeTypeUuid",e.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid"}(be||(be={}));var je=h((function(e){return Array.isArray(e)}),"must be an array"),ke=h((function(e){return"boolean"==typeof e}),"must be a boolean"),Ae=h((function(e){return"number"==typeof e}),"must be a number"),Pe=h((function(e){return"string"==typeof e}),"must be a string"),Ce=h((function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}),"must be an object (not an array or null)"),Ie=h((function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)||/^[0-9a-f]{36}$/i.test(e)}),"must be a valid UUID or a 36-character hexadecimal string"),Te=i(685),De=(0,Te.createGlobalStore)("config-internal",{providedConfigs:[],schemas:{}}),$e=(0,Te.createGlobalStore)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(e){return{}}}()});$e.subscribe((function(e){var t;t=e.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(t))}));var Re=(0,Te.createGlobalStore)("config-store-of-extension-state",{mountedExtensions:[]}),Ne=(0,Te.createGlobalStore)("config-implementer-tools",{config:{}});function Me(e){return e.hasOwnProperty("_default")?_(E({},e),{_value:e._default,_source:"default"}):Z(e)?Object.keys(e).reduce((function(t,n){return t[n]=Me(e[n]),t}),{}):{}}function Le(e,t){return Z(e)?Object.keys(e).reduce((function(n,r){return n[r]=Le(e[r],t),n}),{}):{_value:e,_source:t}}function Ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="Please verify that you are running the latest version and, if so, alert the maintainer.",o=!0,i=!1,a=void 0;try{for(var u,s=function(){var o=u.value,i=n+(n&&".")+o,a=t[o];if("Display conditions"===i&&console.error("".concat(e,' declares a configuration option called "Display conditions"; the "Display conditions" option is a reserved name. ').concat(r)),"Translation overrides"===i&&console.error("".concat(e,' declares a configuration option called "Translation overrides"; the "Translation overrides" option is a reserved name. ').concat(r)),!Z(a))return console.error("".concat(e," has bad config schema definition for key '").concat(i,"'. ").concat(r)),"continue";a.hasOwnProperty("_default")||Ue(e,a,i);var s=a._elements;if(G(s)&&Ue(e,s,i+"._elements"),a._validators){var c=!0,l=!1,f=void 0;try{for(var p,d=a._validators[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var h=p.value;"function"!=typeof h&&console.error("".concat(e," has invalid validator for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: validators must be functions that return either "+"undefined or an error string. Received ".concat(h,"."))}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}var y=a._type;y&&!Object.values(be).includes(y)&&console.error("".concat(e," has invalid type for key '").concat(i,"' ").concat(r,".")+"\n\nIf you're the maintainer: the allowed types are ".concat(Object.values(be).join(", "),". ")+"Received '".concat(y,"'")),Object.keys(a).every((function(e){return["_description","_validators","_elements","_type"].includes(e)}))&&!n.includes("._elements")&&console.error("".concat(e," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: all config elements must have a default. "+"Received ".concat(JSON.stringify(a))),s&&y&&![be.Array,be.Object].includes(y)&&console.error("".concat(e," has bad config schema definition for key '").concat(i,"'. ").concat(r,".")+"\n\nIf you're the maintainer: the 'elements' key only works with '_type' equal to 'Array' or 'Object'. "+"Received ".concat(JSON.stringify(y)))},c=Object.keys(t).filter((function(e){return!e.startsWith("_")}))[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)s()}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}function Be(e,t,n){H(n,e._type,t),Z(t)?e._type===be.Object?function(e,t,n){if(e._elements){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=t[s];q(e._elements,c,"".concat(n,".").concat(s))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}}(e,t,n):e.hasOwnProperty("_default")||q(e,t,n):e._type===be.Array&&function(e,t,n){if(G(e._elements))for(var r=0;r<t.length;r++)Be(e._elements,t[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<t.length;o++){var i;H("".concat(n,"[").concat(o,"]"),null===(i=e._elements)||void 0===i?void 0:i._type,t[o])}}(e,t,n)}function ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e)if(t!==e._default&&W(n,e._validators,t),Z(t)){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=t[s],l=n+"."+s,f=e[s];e._type===be.Object&&e._elements?ze(e._elements,c,l):ze(f,c,l)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}else if(Array.isArray(t)&&e._elements)for(var p=0;p<t.length;p++)ze(e._elements,t[p],"".concat(n,"[").concat(p,"]"))}P(De.getState(),$e.getState()),De.subscribe((function(e){return P(e,$e.getState())})),$e.subscribe((function(e){return P(De.getState(),e)})),I(De.getState(),$e.getState()),De.subscribe((function(e){return I(e,$e.getState())})),$e.subscribe((function(e){return I(De.getState(),e)})),C(De.getState(),$e.getState()),De.subscribe((function(e){return C(e,$e.getState())})),$e.subscribe((function(e){return C(De.getState(),e)})),T(De.getState(),Re.getState(),$e.getState()),De.subscribe((function(e){T(e,Re.getState(),$e.getState())})),Re.subscribe((function(e){T(De.getState(),e,$e.getState())})),$e.subscribe((function(e){T(De.getState(),Re.getState(),e)}));var Fe=function(e,t){var n=me(t);if(!e)return n;var r=!0,o=!1,i=void 0;try{for(var a,u=function(){var t=a.value,r=n[t],o=e[t];if(o&&o.hasOwnProperty("_default")){n.hasOwnProperty(t)||(n[t]=o._default);var i=o._elements;if(r&&G(i))if(o._type===be.Array&&Array.isArray(r)){var u=r.map((function(e){return Fe(i,e)}));n[t]=u}else if(o._type===be.Object){var s=!0,c=!1,l=void 0;try{for(var f,p=Object.keys(r)[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;r[d]=Fe(i,r[d])}}catch(e){c=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}else if(Z(o)){var h=n.hasOwnProperty(t)?r:{};Z(h)&&(n[t]=Fe(o,h))}},s=Object.keys(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)u()}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},Ke={"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:be.Array,_default:[]}},"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:be.Object,_default:{}}},Ve=i(645),qe=function(e,t){return h((function(n){return e<=n&&n<=t}),"must be between ".concat(e," and ").concat(t))},He=function(e){var t=e.concat(["openmrsBase","openmrsSpaBase"]);return h((function(e){if(!e||"string"!=typeof e)return!1;for(var n=/\${(.*?)}/g,r=n.exec(e);r;){if(!t.includes(r[1]))return!1;r=n.exec(e)}return!0}),"Should be a URL or path. The allowed template parameters are "+t.map((function(e){return"${"+e+"}"})).join(", "))},We=He([]),Ge=function(e){return h((function(t){return e.includes(t)}),"Must be one of the following: '".concat(e.join("', '"),"'."))},Ze={inRange:qe,isUrl:We,isUrlWithTemplateParameters:He,oneOf:Ge}}(),a}())}}}))},7150:(e,t,n)=>{"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=window.getOpenmrsSpaBase().replace(/\/$/,"");return a(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({openmrsBase:window.openmrsBase,openmrsSpaBase:n},t)).replace(/^\/\//,"/")}function a(e,t){return Object.keys(t).reduce((function(e,n){return e.split("${"+n+"}").join(t[n])}),e)}n.d(t,{Dy:()=>r,SH:()=>Se,Tj:()=>Oe,iE:()=>Ee,pR:()=>se,Z2:()=>l,IT:()=>a,ll:()=>i,CB:()=>p,gZ:()=>f,c4:()=>s,kw:()=>d,JJ:()=>xe,sC:()=>c,z2:()=>h}),function(e){e.Array="Array",e.Boolean="Boolean",e.ConceptUuid="ConceptUuid",e.Number="Number",e.Object="Object",e.String="String",e.UUID="UUID",e.PersonAttributeTypeUuid="PersonAttributeTypeUuid",e.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid"}(r||(r={}));var u=n(5875);function s(e){var t=e.to,n=e.templateParams,r=window.getOpenmrsSpaBase().replace(/\/$/,""),o=i(t,n);o.startsWith(r)?(0,u.navigateToUrl)(o):window.location.assign(o)}function c(e,t){return function(n){if(!e(n))return"function"==typeof t?t(n):t}}var l=function(e,t){return c((function(n){return e<=n&&n<=t}),"must be between ".concat(e," and ").concat(t))},f=function(e){var t=e.concat(["openmrsBase","openmrsSpaBase"]);return c((function(e){if(!e||"string"!=typeof e)return!1;for(var n=/\${(.*?)}/g,r=n.exec(e);r;){if(!t.includes(r[1]))return!1;r=n.exec(e)}return!0}),"Should be a URL or path. The allowed template parameters are "+t.map((function(e){return"${"+e+"}"})).join(", "))},p=f([]),d=function(e){return c((function(t){return e.includes(t)}),"Must be one of the following: '".concat(e.join("', '"),"'."))},h={inRange:l,isUrl:p,isUrlWithTemplateParameters:f,oneOf:d};function y(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function v(e){return function t(n){return 0===arguments.length||y(n)?t:e.apply(this,arguments)}}function b(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return y(n)?t:v((function(t){return e(n,t)}));default:return y(n)&&y(r)?t:y(n)?v((function(t){return e(t,r)})):y(r)?v((function(t){return e(n,t)})):e(n,r)}}}function m(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function g(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}function w(e,t){return Object.prototype.hasOwnProperty.call(t,e)}const S="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var O=Object.prototype.toString,x=function(){return"[object Arguments]"===O.call(arguments)?function(e){return"[object Arguments]"===O.call(e)}:function(e){return w("callee",e)}}();const E=x;var _=!{toString:null}.propertyIsEnumerable("toString"),j=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],k=function(){return arguments.propertyIsEnumerable("length")}(),A=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const P="function"!=typeof Object.keys||k?v((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=k&&E(e);for(t in e)!w(t,e)||o&&"length"===t||(r[r.length]=t);if(_)for(n=j.length-1;n>=0;)w(t=j[n],e)&&!A(r,t)&&(r[r.length]=t),n-=1;return r})):v((function(e){return Object(e)!==e?[]:Object.keys(e)})),C=v((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function I(e,t,n,r){var o=m(e);function i(e,t){return T(e,t,n.slice(),r.slice())}return!g((function(e,t){return!g(i,t,e)}),m(t),o)}function T(e,t,n,r){if(S(e,t))return!0;var o,i,a=C(e);if(a!==C(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(i=String(o).match(/^function (\w*)/))?"":i[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!S(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!S(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var u=n.length-1;u>=0;){if(n[u]===e)return r[u]===t;u-=1}switch(a){case"Map":return e.size===t.size&&I(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&I(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=P(e);if(s.length!==P(t).length)return!1;var c=n.concat([e]),l=r.concat([t]);for(u=s.length-1;u>=0;){var f=s[u];if(!w(f,t)||!T(t[f],e[f],c,l))return!1;u-=1}return!0}const D=b((function(e,t){return T(e,t,[],[])}));function $(e){return function t(n,r,o){switch(arguments.length){case 0:return t;case 1:return y(n)?t:b((function(t,r){return e(n,t,r)}));case 2:return y(n)&&y(r)?t:y(n)?b((function(t,n){return e(t,r,n)})):y(r)?b((function(t,r){return e(n,t,r)})):v((function(t){return e(n,r,t)}));default:return y(n)&&y(r)&&y(o)?t:y(n)&&y(r)?b((function(t,n){return e(t,n,o)})):y(n)&&y(o)?b((function(t,n){return e(t,r,n)})):y(r)&&y(o)?b((function(t,r){return e(n,t,r)})):y(n)?v((function(t){return e(t,r,o)})):y(r)?v((function(t){return e(n,t,o)})):y(o)?v((function(t){return e(n,r,t)})):e(n,r,o)}}}function R(e){return"[object Object]"===Object.prototype.toString.call(e)}const N=$((function(e,t,n){var r,o={};for(r in t)w(r,t)&&(o[r]=w(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)w(r,n)&&!w(r,o)&&(o[r]=n[r]);return o})),M=$((function e(t,n,r){return N((function(n,r,o){return R(r)&&R(o)?e(t,r,o):t(n,r,o)}),n,r)})),L=b((function(e,t){return M((function(e,t,n){return n}),e,t)})),U=b((function(e,t){for(var n={},r={},o=0,i=e.length;o<i;)r[e[o]]=1,o+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}));function B(e,t,n,r){var o,i=function(o){for(var i=t.length,a=0;a<i;){if(e===t[a])return n[a];a+=1}for(var u in t[a+1]=e,n[a+1]=o,e)o[u]=r?B(e[u],t,n,!0):e[u];return o};switch(C(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return o=e,new RegExp(o.source,(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":""));default:return e}}const z=v((function(e){return null!=e&&"function"==typeof e.clone?e.clone():B(e,[],[],!0)})),F=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},K=v((function(e){return!!F(e)||!!e&&"object"==typeof e&&!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));var V=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}(),q=b((function(e,t){return function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,a){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,a,u){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,a,u,s){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,a,u,s,c){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,a,u,s,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(e.length,(function(){return e.apply(t,arguments)}))}));const H=q;function W(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function G(e,t,n,r){return e["@@transducer/result"](n[r](H(e["@@transducer/step"],e),t))}var Z="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Y(e,t,n){if("function"==typeof e&&(e=function(e){return new V(e)}(e)),K(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return G(e,t,n,"fantasy-land/reduce");if(null!=n[Z])return W(e,t,n[Z]());if("function"==typeof n.next)return W(e,t,n);if("function"==typeof n.reduce)return G(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}const X=$(Y);var Q=c((function(e){return Array.isArray(e)}),"must be an array"),J=c((function(e){return"boolean"==typeof e}),"must be a boolean"),ee=c((function(e){return"number"==typeof e}),"must be a number"),te=c((function(e){return"string"==typeof e}),"must be a string"),ne=c((function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}),"must be an object (not an array or null)"),re=c((function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)||/^[0-9a-f]{36}$/i.test(e)}),"must be a valid UUID or a 36-character hexadecimal string"),oe=n(5385),ie=(0,oe.createGlobalStore)("config-internal",{providedConfigs:[],schemas:{}}),ae=(0,oe.createGlobalStore)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(e){return{}}}()});ae.subscribe((function(e){var t;t=e.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(t))}));var ue=(0,oe.createGlobalStore)("config-store-of-extension-state",{mountedExtensions:[]});function se(e){return(0,oe.getGlobalStore)("config-module-".concat(e),{config:null,loaded:!1})}var ce=(0,oe.createGlobalStore)("config-implementer-tools",{config:{}});function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fe(e,t,n[t])}))}return e}function de(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){if(e){if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function be(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e.schemas)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=Ie(u,e,t);se(u).setState({loaded:!0,config:s})}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}function me(e,t){var n,r,o=(n=De(Pe(e,t)),function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=he(o.value,2),u=a[0],s=a[1],c=!0,l=!1,f=void 0;try{for(var p,d=Object.entries(s)[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var h=he(p.value,2),y=h[0];Ae(h[1],u,y)}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}(r=Object.keys(n).reduce((function(e,t){var r,o;return(null===(r=n[t])||void 0===r?void 0:r.extensionSlots)&&(e[t]=null===(o=n[t])||void 0===o?void 0:o.extensionSlots),e}),{})),Object.keys(r).reduce((function(e,t){return pe({},e,r[t])}),{})),i=Object.fromEntries(Object.entries(o).map((function(e){var t=he(e,2);return[t[0],{loaded:!0,config:t[1]}]}))),a=(0,oe.getGlobalStore)("config-extension-slots",{slots:{}}),u=a.getState(),s={slots:pe({},u.slots,i)};D(u,s)||a.setState(s)}function ge(e,t){var n=function(e,t){var n=je(z(e.schemas)),r=ye(e.providedConfigs.map((function(e){return[e.config,e.source]}))).concat([[t.config,"temporary config"]]),o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=he(u.value,2);n=De([n,ke(c[0],c[1])])}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t);ce.setState({config:n})}function we(e,t,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=t.mountedExtensions[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=_e(c.slotModuleName,c.extensionModuleName,c.slotName,c.extensionId,e,n);r[c.slotName]=de(pe({},r[c.slotName]),fe({},c.extensionId,{config:l,loaded:!0}))}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}(0,oe.getGlobalStore)("config-extensions",{configs:{}}).setState({configs:r})}function Se(e,t){Ce(e,t);var n=L(t,Fe),r=ie.getState();ie.setState({schemas:de(pe({},r.schemas),fe({},e,n))})}function Oe(e,t){Ce(e,t);var n=L(t,Fe),r=ie.getState();r.schemas[e]&&console.warn("Config schema for extension ".concat(e," already exists. If there are multiple extensions with this same name, one will probably crash.")),ie.setState({schemas:de(pe({},r.schemas),fe({},e,n))})}function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"provided",n=ie.getState();ie.setState({providedConfigs:ye(n.providedConfigs).concat([{source:t,config:e}])})}function Ee(e){return new Promise((function(t){var n=function(e){if(e.loaded&&e.config){var n=U(["Display conditions","Translation overrides"],e.config);t(n),o&&o()}},r=se(e);n(r.getState());var o=r.subscribe(n)}))}function _e(e,t,n,r,o,i){var a,u,s,c,l=function(e){return he(e.split("#"),1)[0]}(r),f=o.schemas[l],p=f?l:t,d=Pe(o,i),h=Te(e,d),y=null!==(c=null==h||null===(a=h.extensionSlots)||void 0===a||null===(u=a[n])||void 0===u||null===(s=u.configure)||void 0===s?void 0:s[r])&&void 0!==c?c:{},v=De([Te(p,d),y]),b=null!=f?f:o.schemas[t];$e(b,v,p);var m=Ue(b,v);return Ne(b,m,p),delete m.extensionSlots,m}function je(e){return e.hasOwnProperty("_default")?de(pe({},e),{_value:e._default,_source:"default"}):ze(e)?Object.keys(e).reduce((function(t,n){return t[n]=je(e[n]),t}),{}):{}}function ke(e,t){return ze(e)?Object.keys(e).reduce((function(n,r){return n[r]=ke(e[r],t),n}),{}):{_value:e,_source:t}}function Ae(e,t,n){var r="Extension slot config '".concat(t,".extensionSlots.").concat(n),o=Object.keys(e).filter((function(e){return!["add","remove","order","configure"].includes(e)}));o.length&&console.error(r+"' contains invalid keys '".concat(o.join("', '"),"'")),e.add&&(Array.isArray(e.add)&&e.add.every((function(e){return"string"==typeof e}))||console.error(r+".add' is invalid. Must be an array of strings (extension IDs)")),e.remove&&(Array.isArray(e.remove)&&e.remove.every((function(e){return"string"==typeof e}))||console.error(r+".remove' is invalid. Must be an array of strings (extension IDs)")),e.order&&(Array.isArray(e.order)&&e.order.every((function(e){return"string"==typeof e}))||console.error(r+".order' is invalid. Must be an array of strings (extension IDs)")),e.configure&&(ze(e.configure)||console.error(r+".configure' is invalid. Must be an object with extension IDs for keys"))}function Pe(e,t){return ye(e.providedConfigs.map((function(e){return e.config}))).concat([t.config])}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="Please verify that you are running the latest version and, if so, alert the maintainer.",i=!0,a=!1,u=void 0;try{for(var s,c=function(){var i=s.value,a=n+(n&&".")+i,u=t[i];if("Display conditions"===a&&console.error("".concat(e,' declares a configuration option called "Display conditions"; the "Display conditions" option is a reserved name. ').concat(o)),"Translation overrides"===a&&console.error("".concat(e,' declares a configuration option called "Translation overrides"; the "Translation overrides" option is a reserved name. ').concat(o)),!ze(u))return console.error("".concat(e," has bad config schema definition for key '").concat(a,"'. ").concat(o)),"continue";u.hasOwnProperty("_default")||Ce(e,u,a);var c=u._elements;if(Be(c)&&Ce(e,c,a+"._elements"),u._validators){var l=!0,f=!1,p=void 0;try{for(var d,h=u._validators[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value;"function"!=typeof y&&console.error("".concat(e," has invalid validator for key '").concat(a,"' ").concat(o,".")+"\n\nIf you're the maintainer: validators must be functions that return either "+"undefined or an error string. Received ".concat(y,"."))}}catch(e){f=!0,p=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw p}}}var v=u._type;v&&!Object.values(r).includes(v)&&console.error("".concat(e," has invalid type for key '").concat(a,"' ").concat(o,".")+"\n\nIf you're the maintainer: the allowed types are ".concat(Object.values(r).join(", "),". ")+"Received '".concat(v,"'")),Object.keys(u).every((function(e){return["_description","_validators","_elements","_type"].includes(e)}))&&!n.includes("._elements")&&console.error("".concat(e," has bad config schema definition for key '").concat(a,"'. ").concat(o,".")+"\n\nIf you're the maintainer: all config elements must have a default. "+"Received ".concat(JSON.stringify(u))),c&&v&&![r.Array,r.Object].includes(v)&&console.error("".concat(e," has bad config schema definition for key '").concat(a,"'. ").concat(o,".")+"\n\nIf you're the maintainer: the 'elements' key only works with '_type' equal to 'Array' or 'Object'. "+"Received ".concat(JSON.stringify(v)))},l=Object.keys(t).filter((function(e){return!e.startsWith("_")}))[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)c()}catch(e){a=!0,u=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}}function Ie(e,t,n){if(!t.schemas.hasOwnProperty(e))throw Error("No config schema has been defined for "+e);var r=t.schemas[e],o=Te(e,Pe(t,n));$e(r,o,e);var i=Ue(r,o);return Ne(r,i,e),delete i.extensionSlots,i}function Te(e,t){return De(t.map((function(t){return t[e]})).filter((function(e){return!!e})))}function De(e){return X(L)({},e)}function $e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=t[s],l=n+"."+s,f=e[s];e.hasOwnProperty(s)?Re(f,c,l):"extensionSlots"===s&&""!==n||console.error("Unknown config key '".concat(l,"' provided. Ignoring."))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}function Re(e,t,n){Me(n,e._type,t),ze(t)?e._type===r.Object?function(e,t,n){if(e._elements){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=t[s];$e(e._elements,c,"".concat(n,".").concat(s))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}}(e,t,n):e.hasOwnProperty("_default")||$e(e,t,n):e._type===r.Array&&function(e,t,n){if(Be(e._elements))for(var r=0;r<t.length;r++)Re(e._elements,t[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<t.length;o++){var i;Me("".concat(n,"[").concat(o,"]"),null===(i=e._elements)||void 0===i?void 0:i._type,t[o])}}(e,t,n)}function Ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e)if(t!==e._default&&Le(n,e._validators,t),ze(t)){var o=!0,i=!1,a=void 0;try{for(var u,s=Object.keys(t)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=t[c],f=n+"."+c,p=e[c];e._type===r.Object&&e._elements?Ne(e._elements,l,f):Ne(p,l,f)}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}}else if(Array.isArray(t)&&e._elements)for(var d=0;d<t.length;d++)Ne(e._elements,t[d],"".concat(n,"[").concat(d,"]"))}function Me(e,t,n){t&&Le(e,[{Array:Q,Boolean:J,ConceptUuid:re,Number:ee,Object:ne,String:te,UUID:re,PersonAttributeTypeUuid:re,PatientIdentifierTypeUuid:re}[t]],n)}function Le(e,t,n){if(t)try{var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=(0,a.value)(n);"string"==typeof s&&("object"==typeof n?console.error("Invalid configuration for ".concat(e,": ").concat(s)):console.error("Invalid configuration value ".concat(n," for ").concat(e,": ").concat(s)))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}catch(t){console.error('Skipping invalid validator at "'.concat(e,'". Encountered error\n\t').concat(t))}}be(ie.getState(),ae.getState()),ie.subscribe((function(e){return be(e,ae.getState())})),ae.subscribe((function(e){return be(ie.getState(),e)})),ge(ie.getState(),ae.getState()),ie.subscribe((function(e){return ge(e,ae.getState())})),ae.subscribe((function(e){return ge(ie.getState(),e)})),me(ie.getState(),ae.getState()),ie.subscribe((function(e){return me(e,ae.getState())})),ae.subscribe((function(e){return me(ie.getState(),e)})),we(ie.getState(),ue.getState(),ae.getState()),ie.subscribe((function(e){we(e,ue.getState(),ae.getState())})),ue.subscribe((function(e){we(ie.getState(),e,ae.getState())})),ae.subscribe((function(e){we(ie.getState(),ue.getState(),e)}));var Ue=function(e,t){var n=z(t);if(!e)return n;var o=!0,i=!1,a=void 0;try{for(var u,s=function(){var t=u.value,o=n[t],i=e[t];if(i&&i.hasOwnProperty("_default")){n.hasOwnProperty(t)||(n[t]=i._default);var a=i._elements;if(o&&Be(a))if(i._type===r.Array&&Array.isArray(o)){var s=o.map((function(e){return Ue(a,e)}));n[t]=s}else if(i._type===r.Object){var c=!0,l=!1,f=void 0;try{for(var p,d=Object.keys(o)[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var h=p.value;o[h]=Ue(a,o[h])}}catch(e){l=!0,f=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}}}else if(ze(i)){var y=n.hasOwnProperty(t)?o:{};ze(y)&&(n[t]=Ue(i,y))}},c=Object.keys(e)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)s()}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n};function Be(e){return!!e&&Object.keys(e).filter((function(e){return!["_default","_validators"].includes(e)})).length>0}function ze(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}var Fe={"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:r.Array,_default:[]}},"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:r.Object,_default:{}}}},9010:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)}))}}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function a(e){return e.replace(/[\/\-@]/g,"_")}function u(e){return s.apply(this,arguments)}function s(){return s=o((function(e){var t,r,o,u,s,l,f,p,d=arguments;return i(this,(function(i){switch(i.label){case 0:return t=d.length>1&&void 0!==d[1]?d[1]:"./start",[4,c(e,null==(r=d.length>2?d[2]:void 0)?void 0:r.importMap)];case 1:if(i.sent(),o=a(e),"object"!=typeof(h=u=window[o])||null===h||!("init"in h)||"function"!=typeof h.init||!("get"in h)||"function"!=typeof h.get)throw s="The global variable ".concat(o," does not refer to a federated module"),console.error(s),new Error(s);return u.init(n.S.default),[4,u.get(t)];case 2:if(l=i.sent(),"object"!=typeof(f=l())||null===f)throw p="Container for ".concat(e," did not return an ESM module as expected"),console.error(p),new Error(p);return[2,f]}var h}))})),s.apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=o((function(e,t){var n,r,o,u,s,c;return i(this,(function(i){switch(i.label){case 0:if("string"!=typeof e||0===e.trim().length)throw n="Attempted to call importDynamic() without supplying a package to load",console.error(n),new Error(n);return r=a(e),window[r]?[3,5]:null==t?[3,1]:(u=t,[3,3]);case 1:return[4,f()];case 2:u=i.sent(),i.label=3;case 3:if(!(o=u).imports.hasOwnProperty(e))throw s="Could not find the package ".concat(e," defined in the current importmap"),console.error(s),new Error(s);return(c=o.imports[e]).startsWith("./")&&(c=window.spaBase+c.substring(1)),[4,new Promise((function(e,t){!function(e,t,n){var r=document.head.querySelector('script[src="'.concat(e,'"]')),o=window[d];if(o||(o=window[d]=new Set([])),r)if(o.has(e)){var i=function(){null==r||r.removeEventListener("load",i),t(null)};r.addEventListener("load",i);var a=function(t){console.error("Failed to load script from ".concat(e),t),null==r||r.removeEventListener("error",a),n(t.message)};r.addEventListener("error",a)}else console.warn("Script already loaded. Not loading it again.",e),t(null);else{o.add(e);var u=document.createElement("script");u.src=e,u.type="text/javascript",u.async=!0;var s=function(){o.delete(e),u.removeEventListener("load",s),t(null)};u.addEventListener("load",s);var c=function(t){o.delete(e),console.error("Failed to load script from ".concat(e),t),u.removeEventListener("error",c),n(t.message)};u.addEventListener("error",c),document.head.appendChild(u)}}(c,e,t)}))];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))).apply(this,arguments)}function f(){return p.apply(this,arguments)}function p(){return(p=o((function(){return i(this,(function(e){return[2,window.importMapOverrides.getCurrentPageMap()]}))}))).apply(this,arguments)}n.d(t,{c:()=>u});var d=Symbol("__openmrs_script_loading")},674:()=>{System.register(["@openmrs/esm-globals"],(function(e,t){var n={};return{setters:[function(e){n.dispatchNotificationShown=e.dispatchNotificationShown}],execute:function(){e(function(){"use strict";var e={728:function(e){e.exports=n}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){var e=function(e){var t=n(e);setTimeout((function(){throw t}))},t=function(){var t=Error();return function(r){n(r).stack+="\nAsync stacktrace:\n".concat(t.stack),e(r)}},n=function(e){var t,n,r,o,i;if(n=e,null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):(o=n,null!=(i=r)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](o):o instanceof i))return e;if(null===e)return Error("'null' was thrown as an error");if("object"==typeof e){try{t="Object thrown as error: ".concat(JSON.stringify(e))}catch(n){t="Object thrown as error with the following properties: ".concat(Object.keys(e))}return Error(t)}return void 0===e?Error("'undefined' was thrown as an error"):Error(e.toString())};r.r(o),r.d(o,{createErrorHandler:function(){return t},reportError:function(){return e}});var i=r(728);window.onerror=function(e){return console.error("Unexpected error: ",e),(0,i.dispatchNotificationShown)({description:null!=e?e:"Oops! An unexpected error occurred.",kind:"error",title:"Error"}),!1},window.onunhandledrejection=function(e){var t;console.error("Unhandled rejection: ",e.reason),(0,i.dispatchNotificationShown)({description:null!==(t=e.reason)&&void 0!==t?t:"Oops! An unhandled promise rejection occurred.",kind:"error",title:"Error"})}}(),o}())}}}))},225:(e,t,n)=>{function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}e=n.nmd(e),System.register(["@openmrs/esm-config","@openmrs/esm-state","@openmrs/esm-api","single-spa"],(function(i,a){var u={},s={},c={},l={};return{setters:[function(e){u.configExtensionStore=e.configExtensionStore,u.getExtensionConfigFromStore=e.getExtensionConfigFromStore,u.getExtensionSlotConfig=e.getExtensionSlotConfig,u.getExtensionSlotConfigFromStore=e.getExtensionSlotConfigFromStore,u.getExtensionSlotsConfigStore=e.getExtensionSlotsConfigStore,u.getExtensionsConfigStore=e.getExtensionsConfigStore},function(e){s.createGlobalStore=e.createGlobalStore,s.getGlobalStore=e.getGlobalStore},function(e){c.getSessionStore=e.getSessionStore,c.userHasAccess=e.userHasAccess},function(e){l.mountRootParcel=e.mountRootParcel}],execute:function(){i(function(){"use strict";var i={766:function(e){e.exports=c},824:function(e){e.exports=u},685:function(e){e.exports=s},645:function(e){e.exports=l}},a={};function f(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e](n,n.exports,f),n.exports}f.d=function(e,t){for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return function(){var i=function(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}},a=function(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}},u=function(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}},s=function(e){var t=this.__data__=new q(e);this.size=t.size},c=function(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Oe;++t<n;)this.add(e[t])},l=function(e){var t=Rt.getState(),n=e(t);n!==t&&Rt.setState(n)},d=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(e.extensions)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,c=!1,l=void 0;try{for(var f,p=u.instances[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;t.push({slotModuleName:d.slotModuleName,extensionModuleName:u.moduleName,slotName:d.slotName,extensionId:d.id})}}catch(e){c=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Tt(Dt.configExtensionStore.getState().mountedExtensions,t)||Dt.configExtensionStore.setState({mountedExtensions:t})},h=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},y=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e},b=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e},m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},g=function(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},w=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}},S=function(e,t,n){var r={},o=!0,i=!1,a=void 0;try{for(var u,s=Object.entries(e.slots)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=m(u.value,2),l=c[0],f=c[1],p=I(l,e,(0,Dt.getExtensionSlotConfigFromStore)(t,f.name).config,n);r[l]={moduleName:f.moduleName,assignedExtensions:p}}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}Tt(zt.getState().slots,r)||zt.setState({slots:r})},O=function(e,t){return{moduleName:t,name:e,attachedIds:[],config:null}},x=function(e){return m(e.split("#"),1)[0]},E=function(e,t){var n=x(t);return e.extensions[n]},_=function(e){return E(Bt.getState(),e)},j=function(e,t){l((function(n){var r=n.slots[e];return b(v({},n),r?{slots:b(v({},n.slots),y({},e,b(v({},r),{attachedIds:g(r.attachedIds).concat([t])})))}:{slots:b(v({},n.slots),y({},e,b(v({},O(e)),{attachedIds:[t]})))})}))},k=function(e,t){l((function(n){var r=n.slots[e];return r&&r.attachedIds.includes(t)?b(v({},n),{slots:b(v({},n.slots),y({},e,b(v({},r),{attachedIds:r.attachedIds.filter((function(e){return e!==t}))})))}):n}))},A=function(e){l((function(t){var n=t.slots[e];return n?b(v({},t),{slots:b(v({},t.slots),y({},e,b(v({},n),{attachedIds:[]})))}):t}))},P=function(e,t,n,r){var o=t.indexOf(e);if(-1!==o)return o;if(void 0!==n)return 1e3+n;var i=r.indexOf(e);return-1!==i?2e3+i:-1},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null!=t?t:navigator.onLine;return e.filter((function(e){return $(n,e.online,e.offline)}))},I=function(e,t,n,r){var o=function(e,t){var n=e.add||[],r=e.remove||[],o=e.order||[],i=Bt.getState().extensions;return g(t).concat(g(n)).filter((function(e){return!r.includes(e)})).sort((function(e,n){var r,a,u=P(e,o,null===(r=i[x(e)])||void 0===r?void 0:r.order,t),s=P(n,o,null===(a=i[x(n)])||void 0===a?void 0:a.order,t);return-1===s?-1:-1===u?1:u-s}))}(n,t.slots[e].attachedIds),i=[],a=void 0,u=!0,s=!1,c=void 0;try{for(var l,f=o[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var p=l.value,d=(0,Dt.getExtensionConfigFromStore)(r,e,p).config,h=x(p),y=t.extensions[h];if(y){var v,b,m,w=null!==(m=null!==(b=null==d||null===(v=d["Display conditions"])||void 0===v?void 0:v.privileges)&&void 0!==b?b:y.privileges)&&void 0!==m?m:[];if(w&&("string"==typeof w||Array.isArray(w)&&w.length>0)){var S;if(Ut(a)&&(a=null===(S=(0,Lt.getSessionStore)().getState().session)||void 0===S?void 0:S.user),!a)continue;if(!(0,Lt.userHasAccess)(w,a))continue}i.push({id:p,name:h,moduleName:y.moduleName,config:d,meta:y.meta})}}}catch(e){s=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}return i},T=function(e){return I(e,Bt.getState(),(0,Dt.getExtensionSlotConfig)(e).config,Kt.getState())},D=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return $(navigator.onLine,e,t)},$=function(e){return Boolean(e?!(arguments.length>1&&void 0!==arguments[1])||arguments[1]:arguments.length>2&&void 0!==arguments[2]&&arguments[2])},R=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},N=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},M=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},L=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e},U=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e},B=function(e,t,n,r){return Gt.apply(this,arguments)};f.r(p),f.d(p,{attach:function(){return j},checkStatus:function(){return D},checkStatusFor:function(){return $},detach:function(){return k},detachAll:function(){return A},extensionStore:function(){return Zt},getAssignedExtensions:function(){return T},getConnectedExtensions:function(){return C},getExtensionInternalStore:function(){return Nt},getExtensionNameFromId:function(){return x},getExtensionRegistration:function(){return _},getExtensionRegistrationFrom:function(){return E},getExtensionStore:function(){return Mt},registerExtension:function(){return Vt},registerExtensionSlot:function(){return qt},renderExtension:function(){return B},reset:function(){return Ht},updateInternalExtensionStore:function(){return l}});var z=function(e,t){return e===t||e!=e&&t!=t},F=function(e,t){for(var n=e.length;n--;)if(z(e[n][0],t))return n;return-1},K=Array.prototype.splice;i.prototype.clear=function(){this.__data__=[],this.size=0},i.prototype.delete=function(e){var t=this.__data__,n=F(t,e);return!(n<0||(n==t.length-1?t.pop():K.call(t,n,1),--this.size,0))},i.prototype.get=function(e){var t=this.__data__,n=F(t,e);return n<0?void 0:t[n][1]},i.prototype.has=function(e){return F(this.__data__,e)>-1},i.prototype.set=function(e,t){var n=this.__data__,r=F(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var V,q=i,H="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,W="object"==typeof self&&self&&self.Object===Object&&self,G=H||W||Function("return this")(),Z=G.Symbol,Y=Object.prototype,X=Y.hasOwnProperty,Q=Y.toString,J=Z?Z.toStringTag:void 0,ee=Object.prototype.toString,te=Z?Z.toStringTag:void 0,ne=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":te&&te in Object(e)?function(e){var t=X.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(e){}var o=Q.call(e);return r&&(t?e[J]=n:delete e[J]),o}(e):function(e){return ee.call(e)}(e)},re=function(e){var t=void 0===e?"undefined":o(e);return null!=e&&("object"==t||"function"==t)},oe=function(e){if(!re(e))return!1;var t=ne(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ie=G["__core-js_shared__"],ae=(V=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",ue=Function.prototype.toString,se=function(e){if(null!=e){try{return ue.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ce=/^\[object .+?Constructor\]$/,le=Function.prototype,fe=Object.prototype,pe=le.toString,de=fe.hasOwnProperty,he=RegExp("^"+pe.call(de).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!re(e)||(t=e,ae&&ae in t))&&(oe(e)?he:ce).test(se(e));var t}(n)?n:void 0},ve=ye(G,"Map"),be=ye(Object,"create"),me=Object.prototype.hasOwnProperty,ge=Object.prototype.hasOwnProperty;a.prototype.clear=function(){this.__data__=be?be(null):{},this.size=0},a.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return me.call(t,e)?t[e]:void 0},a.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ge.call(t,e)},a.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=be&&void 0===t?"__lodash_hash_undefined__":t,this};var we=a,Se=function(e,t){var n,r,i=e.__data__;return("string"==(r=o(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};u.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(ve||q),string:new we}},u.prototype.delete=function(e){var t=Se(this,e).delete(e);return this.size-=t?1:0,t},u.prototype.get=function(e){return Se(this,e).get(e)},u.prototype.has=function(e){return Se(this,e).has(e)},u.prototype.set=function(e,t){var n=Se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Oe=u;s.prototype.clear=function(){this.__data__=new q,this.size=0},s.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},s.prototype.get=function(e){return this.__data__.get(e)},s.prototype.has=function(e){return this.__data__.has(e)},s.prototype.set=function(e,t){var n=this.__data__;if(r(n,q)){var o=n.__data__;if(!ve||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(o)}return n.set(e,t),this.size=n.size,this};var xe=s;c.prototype.add=c.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},c.prototype.has=function(e){return this.__data__.has(e)};var Ee=c,_e=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},je=function(e,t,n,r,o,i){var a=1&n,u=e.length,s=t.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,p=!0,d=2&n?new Ee:void 0;for(i.set(e,t),i.set(t,e);++f<u;){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!_e(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||o(h,e,n,r,i)))return d.push(t);var a}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p},ke=G.Uint8Array,Ae=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Pe=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ce=Z?Z.prototype:void 0,Ie=Ce?Ce.valueOf:void 0,Te=Array.isArray,De=Object.prototype.propertyIsEnumerable,$e=Object.getOwnPropertySymbols,Re=$e?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a)&&(i[o++]=a)}return i}($e(e),(function(t){return De.call(e,t)})))}:function(){return[]},Ne=function(e){return null!=e&&"object"==typeof e},Me=function(e){return Ne(e)&&"[object Arguments]"==ne(e)},Le=Object.prototype,Ue=Le.hasOwnProperty,Be=Le.propertyIsEnumerable,ze=Me(function(){return arguments}())?Me:function(e){return Ne(e)&&Ue.call(e,"callee")&&!Be.call(e,"callee")},Fe=ze,Ke=t&&!t.nodeType&&t,Ve=Ke&&e&&!e.nodeType&&e,qe=Ve&&Ve.exports===Ke?G.Buffer:void 0,He=(qe?qe.isBuffer:void 0)||function(){return!1},We=/^(?:0|[1-9]\d*)$/,Ge=function(e,t){var n=void 0===e?"undefined":o(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&We.test(e))&&e>-1&&e%1==0&&e<t},Ze=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;var Xe,Qe=t&&!t.nodeType&&t,Je=Qe&&e&&!e.nodeType&&e,et=Je&&Je.exports===Qe&&H.process,tt=function(){try{return Je&&Je.require&&Je.require("util").types||et&&et.binding&&et.binding("util")}catch(e){}}(),nt=tt&&tt.isTypedArray,rt=nt?(Xe=nt,function(e){return Xe(e)}):function(e){return Ne(e)&&Ze(e.length)&&!!Ye[ne(e)]},ot=Object.prototype.hasOwnProperty,it=Object.prototype,at=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ut=Object.prototype.hasOwnProperty,st=function(e){return null!=(t=e)&&Ze(t.length)&&!oe(t)?function(e,t){var n=Te(e),r=!n&&Fe(e),o=!n&&!r&&He(e),i=!n&&!r&&!o&&rt(e),a=n||r||o||i,u=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var c in e)!ot.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ge(c,s))||u.push(c);return u}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||it))return at(e);var t,n,r=[];for(var o in Object(e))ut.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t},ct=function(e){return function(e,t,n){var r=t(e);return Te(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,st,Re)},lt=Object.prototype.hasOwnProperty,ft=ye(G,"DataView"),pt=ye(G,"Promise"),dt=ye(G,"Set"),ht=ye(G,"WeakMap"),yt="[object Map]",vt="[object Promise]",bt="[object Set]",mt="[object WeakMap]",gt="[object DataView]",wt=se(ft),St=se(ve),Ot=se(pt),xt=se(dt),Et=se(ht),_t=ne;(ft&&_t(new ft(new ArrayBuffer(1)))!=gt||ve&&_t(new ve)!=yt||pt&&_t(pt.resolve())!=vt||dt&&_t(new dt)!=bt||ht&&_t(new ht)!=mt)&&(_t=function(e){var t=ne(e),n="[object Object]"==t?e.constructor:void 0,r=n?se(n):"";if(r)switch(r){case wt:return gt;case St:return yt;case Ot:return vt;case xt:return bt;case Et:return mt}return t});var jt=_t,kt="[object Arguments]",At="[object Array]",Pt="[object Object]",Ct=Object.prototype.hasOwnProperty,It=function e(t,n,o,i,a){return t===n||(null==t||null==n||!Ne(t)&&!Ne(n)?t!=t&&n!=n:function(e,t,n,o,i,a){var u=Te(e),s=Te(t),c=u?At:jt(e),l=s?At:jt(t),f=(c=c==kt?Pt:c)==Pt,p=(l=l==kt?Pt:l)==Pt,d=c==l;if(d&&He(e)){if(!He(t))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new xe),u||rt(e)?je(e,t,n,o,i,a):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ke(e),new ke(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return z(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Ae;case"[object Set]":var s=1&r;if(u||(u=Pe),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=je(u(e),u(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(Ie)return Ie.call(e)==Ie.call(t)}return!1}(e,t,c,n,o,i,a);if(!(1&n)){var h=f&&Ct.call(e,"__wrapped__"),y=p&&Ct.call(t,"__wrapped__");if(h||y){var v=h?e.value():e,b=y?t.value():t;return a||(a=new xe),i(v,b,n,o,a)}}return!!d&&(a||(a=new xe),function(e,t,n,o,i,a){var u=1&n,s=ct(e),c=s.length;if(c!=ct(t).length&&!u)return!1;for(var l=c;l--;){var f=s[l];if(!(u?f in t:lt.call(t,f)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var h=!0;a.set(e,t),a.set(t,e);for(var y=u;++l<c;){var v=e[f=s[l]],b=t[f];if(o)var m=u?o(b,v,f,t,e,a):o(v,b,f,e,t,a);if(!(void 0===m?v===b||i(v,b,n,o,a):m)){h=!1;break}y||(y="constructor"==f)}if(h&&!y){var g=e.constructor,w=t.constructor;g==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&r(g,g)&&"function"==typeof w&&r(w,w)||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,o,i,a))}(t,n,o,i,e,a))},Tt=function(e,t){return It(e,t)},Dt=f(824),$t=f(685),Rt=(0,$t.createGlobalStore)("extensionsInternal",{slots:{},extensions:{}}),Nt=function(){return(0,$t.getGlobalStore)("extensionsInternal",{slots:{},extensions:{}})},Mt=function(){return(0,$t.getGlobalStore)("extensions",{slots:{}})};d(Rt.getState()),Rt.subscribe(d);var Lt=f(766),Ut=function(e){return void 0===e},Bt=Nt(),zt=Mt(),Ft=(0,Dt.getExtensionSlotsConfigStore)(),Kt=(0,Dt.getExtensionsConfigStore)();Bt.subscribe((function(e){S(e,Ft.getState(),Kt.getState())})),Ft.subscribe((function(e){S(Bt.getState(),e,Kt.getState())})),Kt.subscribe((function(e){S(Bt.getState(),Ft.getState(),e)}));var Vt=function(e){return Bt.setState((function(t){return t.extensions[e.name]=b(v({},e),{instances:[]}),t}))},qt=function(e,t){return Bt.setState((function(n){var r,o=null===(r=n.slots[t])||void 0===r?void 0:r.moduleName;if(o&&o!=e)return console.warn("An extension slot with the name '".concat(t,'\' already exists. Refusing to register the same slot name twice (in "registerExtensionSlot"). The existing one is from module ').concat(o,".")),n;if(o&&o==e)return n;if(n.slots[t])return b(v({},n),{slots:b(v({},n.slots),y({},t,b(v({},n.slots[t]),{moduleName:e})))});var i=O(t,e);return b(v({},n),{slots:b(v({},n.slots),y({},t,i))})}))},Ht=function(){return zt.setState((function(){return{slots:{},extensions:{}}}))},Wt=f(645);function Gt(){var e;return e=function(e,t,n,r){var o,i,a,u,s,c,f,p,d,h,y,v,b,m=arguments;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(g){switch(g.label){case 0:if(o=m.length>4&&void 0!==m[4]?m[4]:function(e){return e},i=m.length>5&&void 0!==m[5]?m[5]:{},a=x(r),u=_(r),s=null,!e)return[3,3];if(!u)throw Error("Couldn't find extension '".concat(a,"' to attach to '").concat(t,"'"));return c=u.load,f=u.meta,p=u.moduleName,d=u.online,h=u.offline,D(d,h)?(l((function(o){var i,u={domElement:e,id:r,slotName:t,slotModuleName:n};return U(L({},o),{extensions:U(L({},o.extensions),M({},a,U(L({},o.extensions[a]),{instances:(i=o.extensions[a].instances,function(e){if(Array.isArray(e))return R(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([u])})))})})),[4,c()]):[3,2];case 1:y=g.sent(),v=y.default,b=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(y,["default"]),s=(0,Wt.mountRootParcel)(o(U(L({},null!=v?v:b),{name:"".concat(a," in ").concat(t)})),U(L({},i),{_meta:f,_extensionContext:{extensionId:r,extensionSlotName:t,extensionSlotModuleName:n,extensionModuleName:p},domElement:e})),g.label=2;case 2:return[3,4];case 3:console.warn("Tried to render ".concat(r," into ").concat(t," but no DOM element was available.")),g.label=4;case 4:return[2,s]}}))},Gt=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){N(i,r,o,a,u,"next",e)}function u(e){N(i,r,o,a,u,"throw",e)}a(void 0)}))},Gt.apply(this,arguments)}var Zt=Nt()}(),p}())}}}))},6856:(e,t,n)=>{"use strict";n.d(t,{ub:()=>M,og:()=>L,lW:()=>U,h6:()=>K,Kq:()=>z,EB:()=>R,yw:()=>f,ix:()=>N,Qq:()=>V,H8:()=>w});var r=n(7641),o=n(9714),i=n(3202),a=n(9789),u=n(5385),s=(0,u.createGlobalStore)("extensionsInternal",{slots:{},extensions:{}}),c=function(){return(0,u.getGlobalStore)("extensionsInternal",{slots:{},extensions:{}})};function l(e){var t=s.getState(),n=e(t);n!==t&&s.setState(n)}var f=function(){return(0,u.getGlobalStore)("extensions",{slots:{}})};function p(e){var t=[],n=!0,r=!1,a=void 0;try{for(var u,s=Object.values(e.extensions)[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var c=u.value,l=!0,f=!1,p=void 0;try{for(var d,h=c.instances[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value;t.push({slotModuleName:y.slotModuleName,extensionModuleName:c.moduleName,slotName:y.slotName,extensionId:y.id})}}catch(e){f=!0,p=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw p}}}}catch(e){r=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}(0,i.Z)(o.configExtensionStore.getState().mountedExtensions,t)||o.configExtensionStore.setState({mountedExtensions:t})}function d(e){return Boolean(e?!(arguments.length>1&&void 0!==arguments[1])||arguments[1]:arguments.length>2&&void 0!==arguments[2]&&arguments[2])}p(s.getState()),s.subscribe(p);var h=n(5875);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function w(e,t,n,r){return S.apply(this,arguments)}function S(){var e;return e=function(e,t,n,r){var o,i,a,u,s,c,f,p,v,w,S,O,x,E=arguments;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(_){switch(_.label){case 0:if(o=E.length>4&&void 0!==E[4]?E[4]:function(e){return e},i=E.length>5&&void 0!==E[5]?E[5]:{},a=R(r),u=function(e){return function(e,t){var n=R(t);return e.extensions[n]}(P.getState(),e)}(r),s=null,!e)return[3,3];if(!u)throw Error("Couldn't find extension '".concat(a,"' to attach to '").concat(t,"'"));return c=u.load,f=u.meta,p=u.moduleName,v=u.online,w=u.offline,function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d(navigator.onLine,e,t)}(v,w)?(l((function(o){var i,u={domElement:e,id:r,slotName:t,slotModuleName:n};return g(m({},o),{extensions:g(m({},o.extensions),b({},a,g(m({},o.extensions[a]),{instances:(i=o.extensions[a].instances,function(e){if(Array.isArray(e))return y(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([u])})))})})),[4,c()]):[3,2];case 1:S=_.sent(),O=S.default,x=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(S,["default"]),s=(0,h.mountRootParcel)(o(g(m({},null!=O?O:x),{name:"".concat(a," in ").concat(t)})),g(m({},i),{_meta:f,_extensionContext:{extensionId:r,extensionSlotName:t,extensionSlotModuleName:n,extensionModuleName:p},domElement:e})),_.label=2;case 2:return[3,4];case 3:console.warn("Tried to render ".concat(r," into ").concat(t," but no DOM element was available.")),_.label=4;case 4:return[2,s]}}))},S=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,u,"next",e)}function u(e){v(i,r,o,a,u,"throw",e)}a(void 0)}))},S.apply(this,arguments)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}c();var P=c(),C=f(),I=(0,o.getExtensionSlotsConfigStore)(),T=(0,o.getExtensionsConfigStore)();function D(e,t,n){var r={},a=!0,u=!1,s=void 0;try{for(var c,l=Object.entries(e.slots)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=j(c.value,2),p=f[0],d=f[1],h=F(p,e,(0,o.getExtensionSlotConfigFromStore)(t,d.name).config,n);r[p]={moduleName:d.moduleName,assignedExtensions:h}}}catch(e){u=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(u)throw s}}(0,i.Z)(C.getState().slots,r)||C.setState({slots:r})}function $(e,t){return{moduleName:t,name:e,attachedIds:[],config:null}}function R(e){return j(e.split("#"),1)[0]}P.subscribe((function(e){D(e,I.getState(),T.getState())})),I.subscribe((function(e){D(P.getState(),e,T.getState())})),T.subscribe((function(e){D(P.getState(),I.getState(),e)}));var N=function(e){return P.setState((function(t){return t.extensions[e.name]=_(E({},e),{instances:[]}),t}))};function M(e,t){l((function(n){var r=n.slots[e];return _(E({},n),r?{slots:_(E({},n.slots),x({},e,_(E({},r),{attachedIds:k(r.attachedIds).concat([t])})))}:{slots:_(E({},n.slots),x({},e,_(E({},$(e)),{attachedIds:[t]})))})}))}function L(e,t){l((function(n){var r=n.slots[e];return r&&r.attachedIds.includes(t)?_(E({},n),{slots:_(E({},n.slots),x({},e,_(E({},r),{attachedIds:r.attachedIds.filter((function(e){return e!==t}))})))}):n}))}function U(e){l((function(t){var n=t.slots[e];return n?_(E({},t),{slots:_(E({},t.slots),x({},e,_(E({},n),{attachedIds:[]})))}):t}))}function B(e,t,n,r){var o=t.indexOf(e);if(-1!==o)return o;if(void 0!==n)return 1e3+n;var i=r.indexOf(e);return-1!==i?2e3+i:-1}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null!=t?t:navigator.onLine;return e.filter((function(e){return d(n,e.online,e.offline)}))}function F(e,t,n,i){var u=function(e,t){var n=e.add||[],r=e.remove||[],o=e.order||[],i=P.getState().extensions;return k(t).concat(k(n)).filter((function(e){return!r.includes(e)})).sort((function(e,n){var r,a,u=B(e,o,null===(r=i[R(e)])||void 0===r?void 0:r.order,t),s=B(n,o,null===(a=i[R(n)])||void 0===a?void 0:a.order,t);return-1===s?-1:-1===u?1:u-s}))}(n,t.slots[e].attachedIds),s=[],c=void 0,l=!0,f=!1,p=void 0;try{for(var d,h=u[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value,v=(0,o.getExtensionConfigFromStore)(i,e,y).config,b=R(y),m=t.extensions[b];if(m){var g,w,S,O=null!==(S=null!==(w=null==v||null===(g=v["Display conditions"])||void 0===g?void 0:g.privileges)&&void 0!==w?w:m.privileges)&&void 0!==S?S:[];if(O&&("string"==typeof O||Array.isArray(O)&&O.length>0)){var x;if((0,a.Z)(c)&&(c=null===(x=(0,r.getSessionStore)().getState().session)||void 0===x?void 0:x.user),!c)continue;if(!(0,r.userHasAccess)(O,c))continue}s.push({id:y,name:b,moduleName:m.moduleName,config:v,meta:m.meta})}}}catch(e){f=!0,p=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw p}}return s}function K(e){return F(e,P.getState(),(0,o.getExtensionSlotConfig)(e).config,T.getState())}var V=function(e,t){return P.setState((function(n){var r,o=null===(r=n.slots[t])||void 0===r?void 0:r.moduleName;if(o&&o!=e)return console.warn("An extension slot with the name '".concat(t,'\' already exists. Refusing to register the same slot name twice (in "registerExtensionSlot"). The existing one is from module ').concat(o,".")),n;if(o&&o==e)return n;if(n.slots[t])return _(E({},n),{slots:_(E({},n.slots),x({},t,_(E({},n.slots[t]),{moduleName:e})))});var i=$(t,e);return _(E({},n),{slots:_(E({},n.slots),x({},t,i))})}))}},8988:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfigurableLink:()=>p.w,ErrorState:()=>h.Te,Extension:()=>p.hj,ExtensionSlot:()=>p.dT,LeftNavMenu:()=>h.cW,OpenmrsFetchError:()=>r.nF,Type:()=>a.Dy,UserHasAccess:()=>p.Vz,VisitMode:()=>r.u4,VisitStatus:()=>r.Rx,attach:()=>c.ub,backendDependencies:()=>r.Wf,beginEditSynchronizationItem:()=>f.jp,canBeginEditSynchronizationItemsOfType:()=>f.Qd,clearCurrentUser:()=>r.Ze,createGlobalStore:()=>d.jk,createUseStore:()=>p.NV,defaultVisitCustomRepresentation:()=>r.I$,defineConfigSchema:()=>a.SH,defineExtensionConfigSchema:()=>a.Tj,deleteSynchronizationItem:()=>f.Gy,detach:()=>c.og,detachAll:()=>c.lW,fetchCurrentPatient:()=>r.Vy,fhirBaseUrl:()=>r.DN,generateOfflineUuid:()=>f.sF,getAppState:()=>d.W5,getAssignedExtensions:()=>c.h6,getAsyncExtensionLifecycle:()=>p.D$,getAsyncLifecycle:()=>p.Ae,getConfig:()=>a.iE,getConfigStore:()=>a.pR,getConnectedExtensions:()=>c.Kq,getCurrentOfflineMode:()=>f.vm,getCurrentUser:()=>r.ts,getDynamicOfflineDataEntries:()=>f.xA,getDynamicOfflineDataEntriesFor:()=>f.H_,getDynamicOfflineDataHandlers:()=>f.Ui,getExtensionNameFromId:()=>c.EB,getExtensionStore:()=>c.yw,getFullSynchronizationItems:()=>f.D2,getFullSynchronizationItemsFor:()=>f.WB,getGlobalStore:()=>d.zJ,getLifecycle:()=>p.tl,getLocations:()=>r.JC,getLoggedInUser:()=>r.r,getOfflineDb:()=>f.aA,getOfflinePatientDataStore:()=>f.k1,getSessionLocation:()=>r.WK,getSessionStore:()=>r.KJ,getStartedVisit:()=>r.$X,getSyncLifecycle:()=>p.a$,getSynchronizationItem:()=>f.TI,getSynchronizationItems:()=>f.Q2,getVisitTypes:()=>r.P9,getVisitsForPatient:()=>r.nx,importDynamic:()=>u.c,inRange:()=>a.Z2,interpolateString:()=>a.IT,interpolateUrl:()=>a.ll,isDesktop:()=>p.nI,isOfflineUuid:()=>f.z7,isUrl:()=>a.CB,isUrlWithTemplateParameters:()=>a.gZ,makeUrl:()=>r.bf,messageOmrsServiceWorker:()=>f.gp,navigate:()=>a.c4,offlineUuidPrefix:()=>f.a7,omrsOfflineCachingStrategyHttpHeaderName:()=>f.Rz,omrsOfflineResponseBodyHttpHeaderName:()=>f.QI,omrsOfflineResponseStatusHttpHeaderName:()=>f.$9,oneOf:()=>a.kw,openmrsFetch:()=>r.vb,openmrsObservableFetch:()=>r.uj,provide:()=>a.JJ,putDynamicOfflineData:()=>f.cV,putDynamicOfflineDataFor:()=>f.fR,queueSynchronizationItem:()=>f.X2,refetchCurrentUser:()=>r.VJ,registerExtension:()=>c.ix,registerExtensionSlot:()=>c.Qq,registerOfflinePatientHandler:()=>f.dt,removeDynamicOfflineData:()=>f.pO,removeDynamicOfflineDataFor:()=>f.ME,renderExtension:()=>c.H8,restBaseUrl:()=>r.YC,saveVisit:()=>r.bX,sessionEndpoint:()=>r.z$,setLeftNav:()=>h.VM,setSessionLocation:()=>r.jK,setupDynamicOfflineDataHandler:()=>f.Xc,setupOfflineSync:()=>f.Kb,showActionableNotification:()=>h.fu,showModal:()=>h.K4,showNotification:()=>h.c0,showToast:()=>h.CF,subscribeActionableNotificationShown:()=>l.V9,subscribeConnectivity:()=>l.BW,subscribeConnectivityChanged:()=>l.XS,subscribeNotificationShown:()=>l.NQ,subscribePrecacheStaticDependencies:()=>l.dY,subscribeTo:()=>d.se,subscribeToastShown:()=>l.id,syncAllDynamicOfflineData:()=>f.ps,syncDynamicOfflineData:()=>f.mF,syncOfflinePatientData:()=>f.MO,toLocationObject:()=>r.Lq,toVisitTypeObject:()=>r.VF,unsetLeftNav:()=>h.$d,updateVisit:()=>r.ym,useAssignedExtensionIds:()=>p.YV,useAssignedExtensions:()=>p.P3,useBodyScrollLock:()=>p.yn,useConfig:()=>p.ZR,useConnectedExtensions:()=>p.BL,useConnectivity:()=>p.Y9,useExtensionSlotMeta:()=>p.qd,useExtensionStore:()=>p.jf,useLayoutType:()=>p.mr,useLocations:()=>p.Z_,useOnClickOutside:()=>p.t$,usePagination:()=>p.h0,usePatient:()=>p.lm,useSession:()=>p.kP,useStore:()=>p.oR,useStoreWithActions:()=>p.xQ,useVisit:()=>p.JF,useVisitTypes:()=>p.NN,userHasAccess:()=>r.y9,validator:()=>a.sC,validators:()=>a.z2});var r=n(7398),o=n(6066),i={};for(const e in o)["default","OpenmrsFetchError","VisitMode","VisitStatus","backendDependencies","clearCurrentUser","defaultVisitCustomRepresentation","fetchCurrentPatient","fhirBaseUrl","getCurrentUser","getLocations","getLoggedInUser","getSessionLocation","getSessionStore","getStartedVisit","getVisitTypes","getVisitsForPatient","makeUrl","openmrsFetch","openmrsObservableFetch","refetchCurrentUser","restBaseUrl","saveVisit","sessionEndpoint","setSessionLocation","toLocationObject","toVisitTypeObject","updateVisit","userHasAccess"].indexOf(e)<0&&(i[e]=()=>o[e]);n.d(t,i);var a=n(7150),u=n(9010),s=n(674);i={};for(const e in s)["default","OpenmrsFetchError","VisitMode","VisitStatus","backendDependencies","clearCurrentUser","defaultVisitCustomRepresentation","fetchCurrentPatient","fhirBaseUrl","getCurrentUser","getLocations","getLoggedInUser","getSessionLocation","getSessionStore","getStartedVisit","getVisitTypes","getVisitsForPatient","makeUrl","openmrsFetch","openmrsObservableFetch","refetchCurrentUser","restBaseUrl","saveVisit","sessionEndpoint","setSessionLocation","toLocationObject","toVisitTypeObject","updateVisit","userHasAccess","Type","defineConfigSchema","defineExtensionConfigSchema","getConfig","getConfigStore","inRange","interpolateString","interpolateUrl","isUrl","isUrlWithTemplateParameters","navigate","oneOf","provide","validator","validators","importDynamic"].indexOf(e)<0&&(i[e]=()=>s[e]);n.d(t,i);var c=n(6856),l=n(2034),f=n(4011),p=n(9741),d=n(9388),h=n(2383),y=n(7925);i={};for(const e in y)["default","OpenmrsFetchError","VisitMode","VisitStatus","backendDependencies","clearCurrentUser","defaultVisitCustomRepresentation","fetchCurrentPatient","fhirBaseUrl","getCurrentUser","getLocations","getLoggedInUser","getSessionLocation","getSessionStore","getStartedVisit","getVisitTypes","getVisitsForPatient","makeUrl","openmrsFetch","openmrsObservableFetch","refetchCurrentUser","restBaseUrl","saveVisit","sessionEndpoint","setSessionLocation","toLocationObject","toVisitTypeObject","updateVisit","userHasAccess","Type","defineConfigSchema","defineExtensionConfigSchema","getConfig","getConfigStore","inRange","interpolateString","interpolateUrl","isUrl","isUrlWithTemplateParameters","navigate","oneOf","provide","validator","validators","importDynamic","attach","detach","detachAll","getAssignedExtensions","getConnectedExtensions","getExtensionNameFromId","getExtensionStore","registerExtension","registerExtensionSlot","renderExtension","subscribeActionableNotificationShown","subscribeConnectivity","subscribeConnectivityChanged","subscribeNotificationShown","subscribePrecacheStaticDependencies","subscribeToastShown","beginEditSynchronizationItem","canBeginEditSynchronizationItemsOfType","deleteSynchronizationItem","generateOfflineUuid","getCurrentOfflineMode","getDynamicOfflineDataEntries","getDynamicOfflineDataEntriesFor","getDynamicOfflineDataHandlers","getFullSynchronizationItems","getFullSynchronizationItemsFor","getOfflineDb","getOfflinePatientDataStore","getSynchronizationItem","getSynchronizationItems","isOfflineUuid","messageOmrsServiceWorker","offlineUuidPrefix","omrsOfflineCachingStrategyHttpHeaderName","omrsOfflineResponseBodyHttpHeaderName","omrsOfflineResponseStatusHttpHeaderName","putDynamicOfflineData","putDynamicOfflineDataFor","queueSynchronizationItem","registerOfflinePatientHandler","removeDynamicOfflineData","removeDynamicOfflineDataFor","setupDynamicOfflineDataHandler","setupOfflineSync","syncAllDynamicOfflineData","syncDynamicOfflineData","syncOfflinePatientData","ConfigurableLink","Extension","ExtensionSlot","UserHasAccess","createUseStore","getAsyncExtensionLifecycle","getAsyncLifecycle","getLifecycle","getSyncLifecycle","isDesktop","useAssignedExtensionIds","useAssignedExtensions","useBodyScrollLock","useConfig","useConnectedExtensions","useConnectivity","useExtensionSlotMeta","useExtensionStore","useLayoutType","useLocations","useOnClickOutside","usePagination","usePatient","useSession","useStore","useStoreWithActions","useVisit","useVisitTypes","createGlobalStore","getAppState","getGlobalStore","subscribeTo","ErrorState","LeftNavMenu","setLeftNav","showActionableNotification","showModal","showNotification","showToast","unsetLeftNav"].indexOf(e)<0&&(i[e]=()=>y[e]);n.d(t,i)},3103:()=>{System.register([],(function(e,t){return{execute:function(){e(function(){"use strict";var e=function(e){window.dispatchEvent(new CustomEvent(p,{detail:{online:e}}))},t=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(p,t),function(){return window.removeEventListener(p,t)}},n=function(e){return e({online:navigator.onLine}),t(e)},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(d,{detail:e}))},o=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(d,t),function(){return window.removeEventListener(d,t)}},i=function(e){window.dispatchEvent(new CustomEvent(h,{detail:e}))},a=function(e){window.dispatchEvent(new CustomEvent(y,{detail:e}))},u=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(h,t),function(){return window.removeEventListener(h,t)}},s=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(y,t),function(){return window.removeEventListener(y,t)}},c=function(e){var t=function(t){return e(t.detail)};return window.addEventListener(v,t),function(){return window.removeEventListener(v,t)}},l={d:function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},f={};l.r(f),l.d(f,{dispatchActionableNotificationShown:function(){return a},dispatchConnectivityChanged:function(){return e},dispatchNotificationShown:function(){return i},dispatchPrecacheStaticDependencies:function(){return r},subscribeActionableNotificationShown:function(){return s},subscribeConnectivity:function(){return n},subscribeConnectivityChanged:function(){return t},subscribeNotificationShown:function(){return u},subscribePrecacheStaticDependencies:function(){return o},subscribeToastShown:function(){return c}});var p="openmrs:connectivity-changed",d="openmrs:precache-static-dependencies",h="openmrs:notification-shown",y="openmrs:actionable-notification-shown",v="openmrs:toast-shown";return f}())}}}))},2034:(e,t,n)=>{"use strict";n.d(t,{V9:()=>p,BW:()=>i,XS:()=>o,NQ:()=>f,dY:()=>u,id:()=>d});var r="openmrs:connectivity-changed";function o(e){var t=function(t){return e(t.detail)};return window.addEventListener(r,t),function(){return window.removeEventListener(r,t)}}function i(e){return e({online:navigator.onLine}),o(e)}var a="openmrs:precache-static-dependencies";function u(e){var t=function(t){return e(t.detail)};return window.addEventListener(a,t),function(){return window.removeEventListener(a,t)}}var s="openmrs:notification-shown",c="openmrs:actionable-notification-shown",l="openmrs:toast-shown";function f(e){var t=function(t){return e(t.detail)};return window.addEventListener(s,t),function(){return window.removeEventListener(s,t)}}function p(e){var t=function(t){return e(t.detail)};return window.addEventListener(c,t),function(){return window.removeEventListener(c,t)}}function d(e){var t=function(t){return e(t.detail)};return window.addEventListener(l,t),function(){return window.removeEventListener(l,t)}}},1593:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function h(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}System.register(["@openmrs/esm-api","@openmrs/esm-state"],(function(e,t){var r={},i={};return{setters:[function(e){r.getLoggedInUser=e.getLoggedInUser},function(e){i.createGlobalStore=e.createGlobalStore}],execute:function(){e(function(){"use strict";var e={766:function(e){e.exports=r},685:function(e){e.exports=i}},t={};function h(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,h),o.exports}h.d=function(e,t){for(var n in t)h.o(t,n)&&!h.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var y={};return function(){var e=function(e,t){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[r.port2])}))},t=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},r=function(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)},i=function(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href},v=function(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)},b=function(){},m=function(e,t){if(!t)return e&&e.then?e.then(b):Promise.resolve()},g=function(e,t){if(void 0!==Dn)return console.warn("The application's Service Worker has already been registered. The new service worker at ".concat(e," will not be registered.")),Dn;if(!("serviceWorker"in navigator))throw new Error("Registering the Service Worker is not possible due to missing browser capabilities.");var n=new Tn(e,t);return Dn=n.register().then((function(){return n.controlling.then((function(){return n}))}))},w=function(){return null!=Dn?Dn:Promise.resolve(void 0)},S=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},O=function(e){return Mn.apply(this,arguments)},x=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},E=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,u,"next",e)}function u(e){x(i,r,o,a,u,"throw",e)}a(void 0)}))}},j=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},k=function(){return Ln.apply(this,arguments)},A=function(){return Un.apply(this,arguments)},P=function(){return Bn.apply(this,arguments)},C=function(){return zn.apply(this,arguments)},I=function(){return{current:Kn,notAvailable:"unavailable"===Kn,active:"on"===Kn}},T=function(e){"unavailable"!==Kn&&"unavailable"!==e&&(localStorage.setItem(Fn,"on"===e?"active":"disabled"),Kn=e)},D=function(){return Vn.apply(this,arguments)},$=function(e,t){return"object"!=typeof t||Hn(t).forEach((function(n){e[n]=t[n]})),e},R=function(e,t){return Zn.call(e,t)},N=function(e,t){"function"==typeof t&&(t=t(Gn(e))),("undefined"==typeof Reflect?Hn:Reflect.ownKeys)(t).forEach((function(n){M(e,n,t[n])}))},M=function(e,t,n,r){Yn(e,t,$(n&&R(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))},L=function(e){return{from:function(t){return e.prototype=Object.create(t.prototype),M(e.prototype,"constructor",e),{extend:N.bind(null,e.prototype)}}}},U=function(e,t,n){return Jn.call(e,t,n)},B=function(e,t){return t(e)},z=function(e){if(!e)throw new Error("Assertion Failed")},F=function(e){qn.setImmediate?setImmediate(e):setTimeout(e,0)},K=function(e,t){return e.reduce((function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})},V=function(e){var t={};for(var n in e)R(e,n)&&(t[n]=e[n]);return t},q=function(e){return nr.apply([],e)},H=function(e){ir="undefined"!=typeof WeakMap&&new WeakMap;var t=ar(e);return ir=null,t},W=function(e){return ur.call(e).slice(8,-1)},G=function(e){var t,n,r,o;if(1===arguments.length){if(Wn(e))return e.slice();if(this===lr&&"string"==typeof e)return[e];if(o=cr(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n},Z=function(e,t){pr=e,dr=t},Y=function(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(dr).map((function(e){return"\n"+e})).join("")):""},X=function(e,t){this._e=yr(),this.name=e,this.message=t},Q=function(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")},J=function(e,t,n,r){this._e=yr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Q(e,t)},ee=function(e,t){this._e=yr(),this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=Q(e,t)},te=function(){},ne=function(e){return e},re=function(e,t){return null==e||e===ne?t:function(n){return t(e(n))}},oe=function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}},ie=function(e,t){return e===te?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?oe(r,this.onsuccess):r),o&&(this.onerror=this.onerror?oe(o,this.onerror):o),void 0!==i?i:n}},ae=function(e,t){return e===te?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?oe(n,this.onsuccess):n),r&&(this.onerror=this.onerror?oe(r,this.onerror):r)}},ue=function(e,t){return e===te?t:function(n){var r=e.apply(this,arguments);$(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?oe(o,this.onsuccess):o),i&&(this.onerror=this.onerror?oe(i,this.onerror):i),void 0===r?void 0===a?void 0:a:$(r,a)}},se=function(e,t){return e===te?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}},ce=function(e,t){return e===te?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}},le=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=te,this._lib=!1;var t=this._PSD=Fr;if(pr&&(this._stackHolder=yr(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Er)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&pe(this,this._value))}this._state=null,this._value=null,++t.ref,Wr(this,e)},fe=function(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o},pe=function(e,t){if(Lr.push(t),null===e._state){var n=e._lib&&me();t=Br(t),e._state=!1,e._value=t,pr&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((function(){var n=Qn(t,"stack");t._promise=e,M(t,"stack",{get:function(){return Tr?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Mr.some((function(t){return t._value===e._value}))||Mr.push(e)}(e),de(e),n&&ge()}},de=function(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)he(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Vr&&(++Vr,$r((function(){0==--Vr&&we()}),[]))},he=function(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Vr,$r(ye,[n,e,t])}else e._listeners.push(t)},ye=function(e,t,n){try{Ur=t;var r,o=t._value;t._state?r=e(o):(Lr.length&&(Lr=[]),r=e(o),-1===Lr.indexOf(o)&&function(e){for(var t=Mr.length;t;)if(Mr[--t]._value===e._value)return void Mr.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Ur=null,0==--Vr&&we(),--n.psd.ref||n.psd.finalize()}},ve=function(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)},be=function(){me()&&ge()},me=function(){var e=Rr;return Rr=!1,Nr=!1,e},ge=function(){var e,t,n;do{for(;Kr.length>0;)for(e=Kr,Kr=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Kr.length>0);Rr=!0,Nr=!0},we=function(){var e=Mr;Mr=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=qr.slice(0),n=t.length;n;)t[--n]()},Se=function(e){return new le(Er,!1,e)},Oe=function(e,t){var n=Fr;return function(){var r=me(),o=Fr;try{return Pe(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Pe(o,!1),r&&ge()}}},xe=function(e,t,n,r){var o=Fr,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++eo;var a=zr.env;i.env=Ir?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject,nthen:$e(a.nthen,i),gthen:$e(a.gthen,i)}:{},t&&$(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ie(i,e,n,r);return 0===i.ref&&i.finalize(),u},Ee=function(){return Zr.id||(Zr.id=++Yr),++Zr.awaits,Zr.echoes+=100,Zr.id},_e=function(){return!!Zr.awaits&&(0==--Zr.awaits&&(Zr.id=0),Zr.echoes=100*Zr.awaits,!0)},je=function(e){return Zr.echoes&&e&&e.constructor===Cr?(Ee(),e.then((function(e){return _e(),e}),(function(e){return _e(),to(e)}))):e},ke=function(e){++Jr,Zr.echoes&&0!=--Zr.echoes||(Zr.echoes=Zr.id=0),Xr.push(Fr),Pe(e,!0)},Ae=function(){var e=Xr[Xr.length-1];Xr.pop(),Pe(e,!1)},Pe=function(e,t){var n=Fr;if((t?!Zr.echoes||Qr++&&e===Fr:!Qr||--Qr&&e===Fr)||Te(t?ke.bind(null,e):Ae),e!==Fr&&(Fr=e,n===zr&&(zr.env=Ce()),Ir)){var r=zr.env.Promise,o=e.env;kr.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(qn,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}},Ce=function(){var e=qn.Promise;return Ir?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(qn,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:kr.then,gthen:e.prototype.then}:{}},Ie=function(e,t,n,r,o){var i=Fr;try{return Pe(e,!0),t(n,r,o)}finally{Pe(i,!1)}},Te=function(e){Pr.call(jr,e)},De=function(e,t,n,r){return"function"!=typeof e?e:function(){var o=Fr;n&&Ee(),Pe(t,!0);try{return e.apply(this,arguments)}finally{Pe(o,!1),r&&Te(_e)}}},$e=function(e,t){return function(n,r){return e.call(this,De(n,t),De(r,t))}},Re=function(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(qn.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),$(r,o)):qn.CustomEvent&&$(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&qn.dispatchEvent&&(dispatchEvent(r),!qn.PromiseRejectionEvent&&qn.onunhandledrejection))try{qn.onunhandledrejection(r)}catch(e){}pr&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: ".concat(e.stack||e))}catch(e){}},Ne=function(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t},Me=function(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=H(t))[e],t}},Le=function(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return function(e){Hn(e).forEach((function(t){var n=e[t];if(Wn(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Sr.InvalidArgument("Invalid event config");var r=i(t,ne,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){F((function(){e.apply(null,t)}))}))}))}}))}(e);r||(r=se),o||(o=te);var a={subscribers:[],fire:o,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,o)}};return t[e]=n[e]=a,a}},Ue=function(e,t){return L(t).from({prototype:e}),t},Be=function(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)},ze=function(e,t){e.filter=Ne(e.filter,t)},Fe=function(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Ne(r(),t())}:t,e.justLimit=n&&!r},Ke=function(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new Sr.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n},Ve=function(e,t,n){var r=Ke(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})},qe=function(e,t,n,r){var o=e.replayFilter?Ne(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(e,n,r){if(!o||o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),R(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),He(Ve(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return He(Ve(e,r,n),Ne(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)},He=function(e,t,n,r){var o=Oe(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=te}),(function(t){e.fail(t),n=te}))||o(e.value,e,(function(e){return n=e})),n()}))}))},We=function(e){var t=void 0===e?"undefined":d(e);if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var n=W(e);return"ArrayBuffer"===n?"binary":n},Ge=function(e){return s(e,Uint8Array)?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)},Ze=function(e,t){return e<t?-1:e===t?0:1},Ye=function(e,t){return e>t?-1:e===t?0:1},Xe=function(e,t,n){var r=s(e,vo)?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r},Qe=function(e){return new e.Collection(e,(function(){return nt("")})).limit(0)},Je=function(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return o(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):o(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;o(e[s],c)<0&&(u=s)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)},et=function(e,t,n,r){var o,i,a,u,s,c,l,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return Xe(e,"String expected.");function p(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),i=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?Ze:Ye;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}p("next");var d=new e.Collection(e,(function(){return tt(u[0],s[f-1]+r)}));d._ondirectionchange=function(e){p(e)};var h=0;return d._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var p=i(o);if(t(p,s,h))return!0;for(var d=null,y=h;y<f;++y){var v=Je(o,p,u[y],s[y],a,c);null===v&&null===d?h=y+1:(null===d||a(d,v)>0)&&(d=v)}return n(null!==d?function(){e.continue(d+l)}:r),!1})),d},tt=function(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}},nt=function(e){return{type:1,lower:e,upper:e}},rt=function(e){return Oe((function(t){return ot(t),e(t.target.error),!1}))},ot=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},it=function(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+at(t)}},at=function(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""},ut=function(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:K(n,(function(e){return[e.name,e]}))}},st=function(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return er(t,e)}}(e):function(t){return er(t,e)}},ct=function(e){return[].slice.call(e)},lt=function(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")},ft=function(e,t){var n=e._novip,r=t.db,o=function(e,t,n,r){var o=n.IDBKeyRange,i=(n.indexedDB,function(e,t){return t.reduce((function(e,t){return c({},e,(0,t.create)(e))}),e)}(function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,o=e.lowerOpen,i=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!i)}var o=function(e,t){var n=ct(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=Wn(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:st(t)},indexes:ct(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,o=e.keyPath,a={name:t,compound:Wn(o),keyPath:o,unique:n,multiEntry:r,extractKey:st(o)};return i[lt(o)]=a,a})),getIndexByKeyPath:function(e){return i[lt(e)]}};return i[":id"]=a.primaryKey,null!=t&&(i[lt(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),i=o.schema,a=o.hasGetAll,u=i.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(e){var n=e.trans,o=e.type,i=e.keys,a=e.values,u=e.range;return new Promise((function(e,s){e=Oe(e);var c=n.objectStore(t),l=null==c.keyPath,p="put"===o||"add"===o;if(!p&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var d,h=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var y=[],v=[],b=0,m=function(e){++b,ot(e)};if("deleteRange"===o){if(4===u.type)return e({numFailures:b,failures:v,results:[],lastResult:void 0});3===u.type?y.push(d=c.clear()):y.push(d=c.delete(r(u)))}else{var g=f(p?l?[a,i]:[a,null]:[i,null],2),w=g[0],S=g[1];if(p)for(var O=0;O<h;++O)y.push(d=S&&void 0!==S[O]?c[o](w[O],S[O]):c[o](w[O])),d.onerror=m;else for(var x=0;x<h;++x)y.push(d=c[o](w[x])),d.onerror=m}var E=function(t){var n=t.target.result;y.forEach((function(e,t){return null!=e.error&&(v[t]=e.error)})),e({numFailures:b,failures:v,results:"delete"===o?i:y.map((function(e){return e.result})),lastResult:n})};d.onerror=function(e){m(e),E(e)},d.onsuccess=E}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,o){e=Oe(e);for(var i,a=n.objectStore(t),u=r.length,s=new Array(u),c=0,l=0,f=function(t){var n=t.target;s[n._pos]=n.result,++l===c&&e(s)},p=rt(o),d=0;d<u;++d)null!=r[d]&&((i=a.get(r[d]))._pos=d,i.onsuccess=f,i.onerror=p,++c);0===c&&e(s)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,o){e=Oe(e);var i=n.objectStore(t).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=rt(o)}))},query:function(e){return function(n){return new Promise((function(o,i){o=Oe(o);var a=n.trans,u=n.values,s=n.limit,c=n.query,l=s===1/0?void 0:s,f=c.index,p=c.range,d=a.objectStore(t),h=f.isPrimaryKey?d:d.index(f.name),y=r(p);if(0===s)return o({result:[]});if(e){var v=u?h.getAll(y,l):h.getAllKeys(y,l);v.onsuccess=function(e){return o({result:e.target.result})},v.onerror=rt(i)}else{var b=0,m=u||!("openKeyCursor"in h)?h.openCursor(y):h.openKeyCursor(y),g=[];m.onsuccess=function(e){var t=m.result;return t?(g.push(u?t.value:t.primaryKey),++b===s?o({result:g}):void t.continue()):o({result:g})},m.onerror=rt(i)}}))}}(a),openCursor:function(e){var n=e.trans,o=e.values,i=e.query,a=e.reverse,u=e.unique;return new Promise((function(e,s){e=Oe(e);var c=i.index,l=i.range,f=n.objectStore(t),p=c.isPrimaryKey?f:f.index(c.name),d=a?u?"prevunique":"prev":u?"nextunique":"next",h=o||!("openKeyCursor"in p)?p.openCursor(r(l),d):p.openKeyCursor(r(l),d);h.onerror=rt(s),h.onsuccess=Oe((function(t){var r=h.result;if(r){r.___id=++wo,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Oe(s),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=Oe(e),h.onerror=rt(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,e(t)}})),n=function(){if(h.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return h.onsuccess=Oe((function(e){h.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),t},e(r)}else e(null)}),s)}))},count:function(e){var n=e.query,o=e.trans,i=n.index,a=n.range;return new Promise((function(e,n){var u=o.objectStore(t),s=i.isPrimaryKey?u:u.index(i.name),c=r(a),l=c?s.count(c):s.count();l.onsuccess=Oe((function(t){return e(t.target.result)})),l.onerror=rt(n)}))}}}(e)})),s={};return u.forEach((function(e){return s[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!s[e])throw new Error("Table '".concat(e,"' not found"));return s[e]},MIN_KEY:-1/0,MAX_KEY:go(t),schema:i}}(t,o,r),e.dbcore));return{dbcore:i}}(n._middlewares,r,n._deps,t);n.core=o.dbcore,n.tables.forEach((function(e){var t=e.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(e.core=n.core.table(t),s(n[t],n.Table)&&(n[t].core=e.core))}))},pt=function(e,t,n,r){var o=e._novip;n.forEach((function(e){var n=r[e];t.forEach((function(t){var r=Qn(t,e);(!r||"value"in r&&void 0===r.value)&&(t===o.Transaction.prototype||s(t,o.Transaction)?M(t,e,{get:function(){return this.table(e)},set:function(t){Yn(this,e,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):t[e]=new o.Table(e,n))}))}))},dt=function(e,t){var n=e._novip;t.forEach((function(e){for(var t in e)s(e[t],n.Table)&&delete e[t]}))},ht=function(e,t){return e._cfg.version-t._cfg.version},yt=function(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!ao)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,s=i.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r},vt=function(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return bt(o,e)})),o},bt=function(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})},mt=function(e,t,n){var r={};return U(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=t.keyPath,i=it(at(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[],u=0;u<t.indexNames.length;++u){var s=t.index(t.indexNames[u]);o=s.keyPath;var c=it(s.name,o,!!s.unique,!!s.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(c)}r[e]=ut(e,i,a)})),r},gt=function(e,t,n){for(var r=e._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var a=o[i],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var c=0;c<u.indexNames.length;++c){var l=u.indexNames[c],f=u.index(l).keyPath,p="string"==typeof f?f:"["+U(f).join("+")+"]";if(t[a]){var d=t[a].idxByName[p];d&&(d.name=l,delete t[a].idxByName[p],t[a].idxByName[l]=d)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&qn.WorkerGlobalScope&&s(qn,qn.WorkerGlobalScope)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)},wt=function(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Io("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")},St=function(e){return e&&"function"==typeof e.databases},Ot=function(e){return xe((function(){return Fr.letThrough=!0,e()}))},xt=function(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()},Et=function(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):Wn(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()},_t=function(e,t,n){var r=arguments.length;if(r<2)throw new Sr.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,q(o),n]},jt=function(e,t,n){for(var r=Wn(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r},kt=function(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],o=0,i=0;o<t.keys.length&&i<e.length;++o)0===po(t.keys[o],e[i])&&(r.push(n?H(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}},At=function(e){return!("from"in e)},Pt=function(e,t){At(t)||function e(t,n){var r=n.from,o=n.to,i=n.l,a=n.r;Ao(t,r,o),i&&e(t,i),a&&e(t,a)}(e,t)},Ct=function(e){var t=At(e)?null:{s:0,n:e};return{next:function(e){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&po(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||po(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}},It=function(e){var t,n,r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){var i="r"===o?"l":"r",a=c({},e),u=e[o];e.from=u.from,e.to=u.to,e[o]=u[o],a[o]=u[i],e[i]=a,a.d=Tt(a)}e.d=Tt(e)},Tt=function(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1},Dt=function(e,t){return Hn(t).forEach((function(n){Pt(e[n]||(e[n]=new ko),t[n])})),e},$t=function(e){var t=Ro;try{Ro=!0,bo.storagemutated.fire(e)}finally{Ro=t}},Rt=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},Nt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Mt=function(){return new Fo},Lt=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Ut=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},Bt=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ut(i,r,o,a,u,"next",e)}function u(e){Ut(i,r,o,a,u,"throw",e)}a(void 0)}))}},zt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ft=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zt(e,t,n[t])}))}return e},Kt=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Vt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},qt=function(){return qo},Ht=function(){return Ho.apply(this,arguments)},Wt=function(){return Go.apply(this,arguments)},Gt=function(e,t,n,r){return Zo.apply(this,arguments)},Zt=function(e,t,n){return Yo.apply(this,arguments)},Yt=function(e,t){return Xo.apply(this,arguments)},Xt=function(e,t){return Qo.apply(this,arguments)},Qt=function(e){return Jo.apply(this,arguments)},Jt=function(e){return ei.apply(this,arguments)},en=function(e){return ti.apply(this,arguments)},tn=function(e){var t;return!!(null===(t=Vo[e])||void 0===t?void 0:t.options.onBeginEditSyncItem)},nn=function(e){return ni.apply(this,arguments)},rn=function(e){return ri.apply(this,arguments)},on=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Vo[e]={type:e,dependsOn:t,process:n,options:r}},an=function(){if(!oi&&!(oi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oi(ai)},un=function(){return li+ci()},sn=function(e){return e.startsWith(li)},cn=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},ln=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},fn=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ln(i,r,o,a,u,"next",e)}function u(e){ln(i,r,o,a,u,"throw",e)}a(void 0)}))}},pn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},dn=function(){return Object.values(fi)},hn=function(e){fi[e.id]&&console.warn('[setupDynamicOfflineDataHandler] Another second handler with the ID "'.concat(e.id,'" was registered. This handler will override the previous one. This could be unintended as the previous handler might run different flows than the newly registered one. If this is the case, ensure that you are setting up the handlers with different IDs.')),fi[e.id]=e},yn=function(e){return pi.apply(this,arguments)},vn=function(e,t){return di.apply(this,arguments)},bn=function(e,t){return hi.apply(this,arguments)},mn=function(e,t,n){return yi.apply(this,arguments)},gn=function(e,t){return vi.apply(this,arguments)},wn=function(e,t,n){return bi.apply(this,arguments)},Sn=function(e,t){return mi.apply(this,arguments)},On=function(e,t,n){return gi.apply(this,arguments)},xn=function(){return wi.apply(this,arguments)},En=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},_n=function(){return An(),Si},jn=function(e,t){An(),hn({type:"patient",displayName:t.displayName,id:e,isSynced:function(){return Promise.resolve(!0)},sync:function(e,n){return t.onOfflinePatientAdded({patientUuid:e,signal:null!=n?n:(new AbortController).signal})}})},kn=function(e){return Oi.apply(this,arguments)},An=function(){console.warn("The offline patient API has been deprecated and will be removed in a future release. To prevent future crashes, the functions remain available for the moment, but any invocations should be migrated ASAP.")};h.r(y),h.d(y,{activateOfflineCapability:function(){return D},beginEditSynchronizationItem:function(){return nn},canBeginEditSynchronizationItemsOfType:function(){return tn},deleteSynchronizationItem:function(){return rn},generateOfflineUuid:function(){return un},getCurrentOfflineMode:function(){return I},getDynamicOfflineDataEntries:function(){return yn},getDynamicOfflineDataEntriesFor:function(){return vn},getDynamicOfflineDataHandlers:function(){return dn},getFullSynchronizationItems:function(){return Jt},getFullSynchronizationItemsFor:function(){return Xt},getOfflineDb:function(){return Mt},getOfflinePatientDataStore:function(){return _n},getOfflineSynchronizationStore:function(){return qt},getOmrsServiceWorker:function(){return w},getSynchronizationItem:function(){return en},getSynchronizationItems:function(){return Qt},getSynchronizationItemsFor:function(){return Yt},isOfflineUuid:function(){return sn},messageOmrsServiceWorker:function(){return O},offlineUuidPrefix:function(){return li},omrsOfflineCachingStrategyHttpHeaderName:function(){return Nn},omrsOfflineResponseBodyHttpHeaderName:function(){return $n},omrsOfflineResponseStatusHttpHeaderName:function(){return Rn},putDynamicOfflineData:function(){return bn},putDynamicOfflineDataFor:function(){return mn},queueSynchronizationItem:function(){return Zt},queueSynchronizationItemFor:function(){return Gt},registerOfflinePatientHandler:function(){return jn},registerOmrsServiceWorker:function(){return g},removeDynamicOfflineData:function(){return gn},removeDynamicOfflineDataFor:function(){return wn},runSynchronization:function(){return Ht},setCurrentOfflineMode:function(){return T},setupDynamicOfflineDataHandler:function(){return hn},setupOfflineSync:function(){return on},syncAllDynamicOfflineData:function(){return Sn},syncDynamicOfflineData:function(){return On},syncOfflinePatientData:function(){return kn}});try{self["workbox:window:6.5.3"]&&_()}catch(e){}try{self["workbox:core:6.5.3"]&&_()}catch(e){}var Pn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Cn=function(e,t){this.type=e,Object.assign(this,t)},In={type:"SKIP_WAITING"},Tn=function(t){var n,r,o=function(e,n){var r,o;return void 0===n&&(n={}),(r=t.call(this)||this).nn={},r.tn=0,r.rn=new Pn,r.en=new Pn,r.on=new Pn,r.un=0,r.an=new Set,r.cn=function(){var e=r.fn,t=e.installing;r.tn>0||!i(t.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=t,e.removeEventListener("updatefound",r.cn)):(r.hn=t,r.an.add(t),r.rn.resolve(t)),++r.tn,t.addEventListener("statechange",r.ln)},r.ln=function(e){var t=r.fn,n=e.target,o=n.state,i=n===r.vn,a={sw:n,isExternal:i,originalEvent:e};!i&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new Cn(o,a)),"installed"===o?r.wn=self.setTimeout((function(){"installed"===o&&t.waiting===n&&r.dispatchEvent(new Cn("waiting",a))}),200):"activating"===o&&(clearTimeout(r.wn),i||r.en.resolve(n))},r.dn=function(e){var t=r.hn,n=t!==navigator.serviceWorker.controller;r.dispatchEvent(new Cn("controlling",{isExternal:n,originalEvent:e,sw:t,isUpdate:r.mn})),n||r.on.resolve(t)},r.gn=(o=function(e){var t=e.data,n=e.ports,o=e.source;return v(r.getSW(),(function(){r.an.has(o)&&r.dispatchEvent(new Cn("message",{data:t,originalEvent:e,ports:n,sw:o}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(o.apply(this,e))}catch(e){return Promise.reject(e)}}),r.sn=e,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r};r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a,u=o.prototype;return u.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var r=this;return function(e,t){var n=e();return n&&n.then?n.then(t):t()}((function(){if(!n&&"complete"!==document.readyState)return m(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),v(r.bn(),(function(e){r.fn=e,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var t=r.fn.waiting;return t&&i(t.scriptURL,r.sn.toString())&&(r.hn=t,Promise.resolve().then((function(){r.dispatchEvent(new Cn("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(e){return Promise.reject(e)}},u.update=function(){try{return this.fn?m(this.fn.update()):void 0}catch(e){return Promise.reject(e)}},u.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},u.messageSW=function(t){try{return v(this.getSW(),(function(n){return e(n,t)}))}catch(e){return Promise.reject(e)}},u.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&e(this.fn.waiting,In)},u.pn=function(){var e=navigator.serviceWorker.controller;return e&&i(e.scriptURL,this.sn.toString())?e:void 0},u.bn=function(){try{var e=this;return function(t,n){try{var r=v(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}catch(t){return n(t)}return r&&r.then?r.then(void 0,n):r}((function(){return v(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},(a=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,a),o}(function(){var e=function(){this.Pn=new Map},t=e.prototype;return t.addEventListener=function(e,t){this.Sn(e).add(t)},t.removeEventListener=function(e,t){this.Sn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,n=r(this.Sn(e.type));!(t=n()).done;)(0,t.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}()),Dn=void 0,$n="x-omrs-offline-response-body",Rn="x-omrs-offline-response-status",Nn="x-omrs-offline-caching-strategy";function Mn(){return Mn=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,u,"next",e)}function u(e){S(i,r,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,w()];case 1:return(t=r.sent())?[4,t.messageSW(e)]:[3,3];case 2:return n=r.sent(),[3,4];case 3:n={success:!1,result:void 0,error:"No service worker has been registered. This is typically the case when the application has been built without offline-related features."},r.label=4;case 4:return[2,n]}}))})),Mn.apply(this,arguments)}function Ln(){return Ln=E((function(){var e;return j(this,(function(t){e=window.sessionStorage;try{e.setItem("someKeyHere","test"),e.removeItem("someKeyHere")}catch(t){if(t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length)return[2,!0]}return[2,!1]}))})),Ln.apply(this,arguments)}function Un(){return(Un=E((function(){return j(this,(function(e){return[2,!window.indexedDB]}))}))).apply(this,arguments)}function Bn(){return Bn=E((function(){return j(this,(function(e){return[2,new Promise((function(e){var t=indexedDB.open("test");t.onerror=function(){return e(!0)},t.onsuccess=function(){return e(!1)}}))]}))})),Bn.apply(this,arguments)}function zn(){return(zn=E((function(){var e,t;return j(this,(function(n){switch(n.label){case 0:return[4,P()];case 1:return(t=n.sent())?[3,3]:[4,A()];case 2:t=n.sent(),n.label=3;case 3:return(e=t)?[3,5]:[4,k()];case 4:e=n.sent(),n.label=5;case 5:return[2,e]}}))}))).apply(this,arguments)}var Fn="openmrs3:offline-mode",Kn="unavailable";function Vn(){return(Vn=E((function(){return j(this,(function(e){switch(e.label){case 0:return[4,C()];case 1:return e.sent()||(Kn="active"===localStorage.getItem(Fn)?"on":"off"),navigator.onLine,[2]}}))}))).apply(this,arguments)}var qn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,Hn=Object.keys,Wn=Array.isArray;"undefined"==typeof Promise||qn.Promise||(qn.Promise=Promise);var Gn=Object.getPrototypeOf,Zn={}.hasOwnProperty,Yn=Object.defineProperty,Xn=Object.getOwnPropertyDescriptor;function Qn(e,t){var n;return Xn(e,t)||(n=Gn(e))&&Qn(n,t)}var Jn=[].slice;function er(e,t){if(R(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=er(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:er(u,t.substr(a+1))}}function tr(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){z("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)tr(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),u=t.substr(i+1);if(""===u)void 0===n?Wn(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];s&&R(e,a)||(s=e[a]={}),tr(s,u,n)}}else void 0===n?Wn(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}var nr=[].concat,rr="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(q([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return qn[e]})),or=rr.map((function(e){return qn[e]}));K(rr,(function(e){return[e,!0]}));var ir=null;function ar(e){if(!e||"object"!=typeof e)return e;var t=ir&&ir.get(e);if(t)return t;if(Wn(e)){t=[],ir&&ir.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(ar(e[n]))}else if(or.indexOf(e.constructor)>=0)t=e;else{var o=Gn(e);for(var i in t=o===Object.prototype?{}:Object.create(o),ir&&ir.set(e,t),e)R(e,i)&&(t[i]=ar(e[i]))}return t}var ur={}.toString,sr="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",cr="symbol"==(void 0===sr?"undefined":d(sr))?function(e){var t;return null!=e&&(t=e[sr])&&t.apply(e)}:function(){return null},lr={},fr="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},pr="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),dr=function(){return!0},hr=!new Error("").stack;function yr(){if(hr)try{throw yr.arguments,new Error}catch(e){return e}return new Error}var vr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],br=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(vr),mr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};L(X).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Y(this._e,2))}},toString:function(){return this.name+": "+this.message}}),L(J).from(X),L(ee).from(X);var gr=br.reduce((function(e,t){return e[t]=t+"Error",e}),{}),wr=X,Sr=br.reduce((function(e,t){var n=function(e,n){this._e=yr(),this.name=r,e?"string"==typeof e?(this.message="".concat(e).concat(n?"\n "+n:""),this.inner=n||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=mr[t]||r,this.inner=null)},r=t+"Error";return L(n).from(wr),e[t]=n,e}),{});Sr.Syntax=SyntaxError,Sr.Type=TypeError,Sr.Range=RangeError;var Or=vr.reduce((function(e,t){return e[t+"Error"]=Sr[t],e}),{}),xr=br.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Sr[t]),e}),{});xr.ModifyError=J,xr.DexieError=X,xr.BulkError=ee;var Er={},_r=f("undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Gn(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Gn(t),e]}(),3),jr=_r[0],kr=_r[1],Ar=_r[2],Pr=kr&&kr.then,Cr=jr&&jr.constructor,Ir=!!Ar,Tr=!1,Dr=Ar?function(){Ar.then(be)}:qn.setImmediate?setImmediate.bind(null,be):qn.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){be(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(be,0)},$r=function(e,t){Kr.push([e,t]),Nr&&(Dr(),Nr=!1)},Rr=!0,Nr=!0,Mr=[],Lr=[],Ur=null,Br=ne,zr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Re(e[0],e[1])}catch(e){}}))}},Fr=zr,Kr=[],Vr=0,qr=[],Hr={get:function(){var e=function(e,r){var o=this,i=!t.global&&(t!==Fr||n!==Jr),a=i&&!_e(),u=new le((function(n,u){he(o,new fe(De(e,t,i,a),De(r,t,i,a),n,u,t))}));return pr&&ve(u,this),u},t=Fr,n=Jr;return e.prototype=Er,e},set:function(e){M(this,"then",e&&e.prototype===Er?Hr:{get:function(){return e},set:Hr.set})}};function Wr(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&me();t&&"function"==typeof t.then?Wr(e,(function(e,n){s(t,le)?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,de(e)),n&&ge()}}),pe.bind(null,e))}catch(t){pe(e,t)}}function Gr(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,a=e._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Y(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return pr&&((r=Y(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Gr(e._prev,t,n)),t}N(le.prototype,{then:Hr,_then:function(e,t){he(this,new fe(null,null,e,t,Fr))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return s(e,t)?n(e):Se(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Se(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Se(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Tr=!0;var e=Gr(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Tr=!1}}},timeout:function(e,t){var n=this;return e<1/0?new le((function(r,o){var i=setTimeout((function(){return o(new Sr.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&M(le.prototype,Symbol.toStringTag,"Dexie.Promise"),zr.env=Ce(),N(le,{all:function(){var e=G.apply(null,arguments).map(je);return new le((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return le.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(s(e,le))return e;if(e&&"function"==typeof e.then)return new le((function(t,n){e.then(t,n)}));var t=new le(Er,!0,e);return ve(t,Ur),t},reject:Se,race:function(){var e=G.apply(null,arguments).map(je);return new le((function(t,n){e.map((function(e){return le.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Fr},set:function(e){return Fr=e}},totalEchoes:{get:function(){return Jr}},newPSD:xe,usePSD:Ie,scheduler:{get:function(){return $r},set:function(e){$r=e}},rejectionMapper:{get:function(){return Br},set:function(e){Br=e}},follow:function(e,t){return new le((function(n,r){return xe((function(t,n){var r=Fr;r.unhandleds=[],r.onunhandled=n,r.finalize=oe((function(){var e=this;!function(e){qr.push((function t(){e(),qr.splice(qr.indexOf(t),1)})),++Vr,$r((function(){0==--Vr&&we()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}}),Cr&&(Cr.allSettled&&M(le,"allSettled",(function(){var e=G.apply(null,arguments).map(je);return new le((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return le.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Cr.any&&"undefined"!=typeof AggregateError&&M(le,"any",(function(){var e=G.apply(null,arguments).map(je);return new le((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return le.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var Zr={awaits:0,echoes:0,id:0},Yr=0,Xr=[],Qr=0,Jr=0,eo=0;-1===(""+Pr).indexOf("[native code]")&&(Ee=_e=te);var to=le.reject;function no(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Fr.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===gr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return no(e,t,n,r)}))):to(o)}return o._promise(t,(function(e,t){return xe((function(){return Fr.trans=o,r(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(e._state.openComplete)return to(new Sr.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return to(new Sr.DatabaseClosed);e.open().catch(te)}return e._state.dbReadyPromise.then((function(){return no(e,t,n,r)}))}var ro=String.fromCharCode(65535),oo="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",io=[],ao="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),uo=ao,so=ao,co=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},lo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1},fo=function(){function e(){o(this,e)}return a(e,[{key:"_trans",value:function(e,t,n){var r=function(e,n,r){if(!r.schema[i])throw new Sr.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)},o=this._tx||Fr.trans,i=this.name,a=me();try{return o&&o.db===this.db?o===Fr.trans?o._promise(e,r,n):xe((function(){return o._promise(e,r,n)}),{trans:o,transless:Fr.transless||Fr}):no(this.db,e,[this.name],r)}finally{a&&ge()}}},{key:"get",value:function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)}},{key:"where",value:function(e){var t=function(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}};if("string"==typeof e)return new this.db.WhereClause(this,e);if(Wn(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var n=Hn(e);if(1===n.length)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&n.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return n.indexOf(e)>=0}))}))[0];if(r&&this.db._maxKey!==ro)return this.where(r.name).equals(r.keyPath.map((function(t){return e[t]})));!r&&pr&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit of a compound index [").concat(n.join("+"),"]"));var o=this.schema.idxByName,i=this.db._deps.indexedDB,a=f(n.reduce((function(n,r){var i=f(n,2),a=i[0],u=i[1],s=o[r],c=e[r];return[a||s,a||!s?Ne(u,s&&s.multi?function(e){var n=er(e,r);return Wn(n)&&n.some((function(e){return t(c,e)}))}:function(e){return t(c,er(e,r))}):u]}),[null,null]),2),u=a[0],s=a[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(s):r?this.filter(s):this.where(n).equals("")}},{key:"filter",value:function(e){return this.toCollection().and(e)}},{key:"count",value:function(e){return this.toCollection().count(e)}},{key:"offset",value:function(e){return this.toCollection().offset(e)}},{key:"limit",value:function(e){return this.toCollection().limit(e)}},{key:"each",value:function(e){return this.toCollection().each(e)}},{key:"toArray",value:function(e){return this.toCollection().toArray(e)}},{key:"toCollection",value:function(){return new this.db.Collection(new this.db.WhereClause(this))}},{key:"orderBy",value:function(e){return new this.db.Collection(new this.db.WhereClause(this,Wn(e)?"[".concat(e.join("+"),"]"):e))}},{key:"reverse",value:function(){return this.toCollection().reverse()}},{key:"mapToClass",value:function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(R(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}},{key:"defineClass",value:function(){return this.mapToClass((function(e){$(this,e)}))}},{key:"add",value:function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Me(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{tr(e,i,t)}catch(e){}return t}))}},{key:"update",value:function(e,t){if("object"!=typeof e||Wn(e))return this.where(":id").equals(e).modify(t);var n=er(e,this.schema.primKey.keyPath);if(void 0===n)return to(new Sr.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Hn(t).forEach((function(n){tr(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}},{key:"put",value:function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Me(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{tr(e,i,t)}catch(e){}return t}))}},{key:"delete",value:function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):void 0}))}},{key:"clear",value:function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:lo})})).then((function(e){return e.numFailures?le.reject(e.failures[0]):void 0}))}},{key:"bulkGet",value:function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))}},{key:"bulkAdd",value:function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Sr.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Sr.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&a?e.map(Me(u)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:c,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new ee("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkPut",value:function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new Sr.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Sr.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,c=u&&a?e.map(Me(u)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:c,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new ee("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(s," operations failed"),a)}))}))}},{key:"bulkDelete",value:function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult,i=e.failures;if(0===r)return o;throw new ee("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),i)}))}}]),e}();function po(e,t){try{var n=We(e),r=We(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return n===r?0:n<r?-1:1}(Ge(e),Ge(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,o=n<r?n:r,i=0;i<o;++i){var a=po(e[i],t[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}var ho=function(){function e(){o(this,e)}return a(e,[{key:"_read",value:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,to.bind(null,n.error)):n.table._trans("readonly",e).then(t)}},{key:"_write",value:function(e){var t=this._ctx;return t.error?t.table._trans(null,to.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}},{key:"_addAlgorithm",value:function(e){var t=this._ctx;t.algorithm=Ne(t.algorithm,e)}},{key:"_iterate",value:function(e,t){return qe(this._ctx,e,t,this._ctx.table.core)}},{key:"clone",value:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&$(n,e),t._ctx=n,t}},{key:"raw",value:function(){return this._ctx.valueMapper=null,this}},{key:"each",value:function(e){var t=this._ctx;return this._read((function(n){return qe(t,e,n,t.table.core)}))}},{key:"count",value:function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(Be(n,!0))return r.count({trans:e,query:{index:Ke(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return qe(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)}},{key:"sortBy",value:function(e,t){var n=function(e,t){var n=a(e,i),r=a(t,i);return n<r?-u:n>r?u:0},r=e.split(".").reverse(),o=r[0],i=r.length-1;function a(e,t){return t?a(e[r[t]],t-1):e[o]}var u="next"===this._ctx.dir?1:-1;return this.toArray((function(e){return e.sort(n)})).then(t)}},{key:"toArray",value:function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&Be(n,!0)&&n.limit>0){var r=n.valueMapper,o=Ke(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var i=[];return qe(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)}},{key:"offset",value:function(e){var t=this._ctx;return e<=0||(t.offset+=e,Be(t)?Fe(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Fe(t,(function(){var t=e;return function(){return--t<0}}))),this}},{key:"limit",value:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Fe(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}},{key:"until",value:function(e,t){return ze(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}},{key:"first",value:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}},{key:"last",value:function(e){return this.reverse().first(e)}},{key:"filter",value:function(e){var t,n;return ze(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Ne(t.isMatch,n),this}},{key:"and",value:function(e){return this.filter(e)}},{key:"or",value:function(e){return new this.db.WhereClause(this._ctx.table,e,this)}},{key:"reverse",value:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}},{key:"desc",value:function(){return this.reverse()}},{key:"eachKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}},{key:"eachUniqueKey",value:function(e){return this._ctx.unique="unique",this.eachKey(e)}},{key:"eachPrimaryKey",value:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}},{key:"keys",value:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}},{key:"primaryKeys",value:function(e){var t=this._ctx;if("next"===t.dir&&Be(t,!0)&&t.limit>0)return this._read((function(e){var n=Ke(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}},{key:"uniqueKeys",value:function(e){return this._ctx.unique="unique",this.keys(e)}},{key:"firstKey",value:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}},{key:"lastKey",value:function(e){return this.reverse().firstKey(e)}},{key:"distinct",value:function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return ze(this._ctx,(function(e){var t=e.primaryKey.toString(),r=R(n,t);return n[t]=!0,!r})),this}},{key:"modify",value:function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof e)o=e;else{var i=Hn(e),a=i.length;o=function(t){for(var n=!1,r=0;r<a;++r){var o=i[r],u=e[o];er(t,o)!==u&&(tr(t,o,u),n=!0)}return n}}var u=n.table.core,s=u.schema.primaryKey,c=s.outbound,l=s.extractKey,f=t.db._options.modifyChunkSize||200,p=[],d=0,h=[],y=function(e,t){var n=t.failures,r=t.numFailures;d+=e-r;var o=!0,i=!1,a=void 0;try{for(var u,s=Hn(n)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;p.push(n[c])}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}};return t.clone().primaryKeys().then((function(t){var i=function(a){var s=Math.min(f,t.length-a);return u.getMany({trans:r,keys:t.slice(a,a+s),cache:"immutable"}).then((function(p){for(var d=[],h=[],v=c?[]:null,b=[],m=0;m<s;++m){var g=p[m],w={value:H(g),primKey:t[a+m]};!1!==o.call(w,w.value,w)&&(null==w.value?b.push(t[a+m]):c||0===po(l(g),l(w.value))?(h.push(w.value),c&&v.push(t[a+m])):(b.push(t[a+m]),d.push(w.value)))}var S=Be(n)&&n.limit===1/0&&("function"!=typeof e||e===yo)&&{index:n.index,range:n.range};return Promise.resolve(d.length>0&&u.mutate({trans:r,type:"add",values:d}).then((function(e){for(var t in e.failures)b.splice(parseInt(t),1);y(d.length,e)}))).then((function(){return(h.length>0||S&&"object"==typeof e)&&u.mutate({trans:r,type:"put",keys:v,values:h,criteria:S,changeSpec:"function"!=typeof e&&e}).then((function(e){return y(h.length,e)}))})).then((function(){return(b.length>0||S&&e===yo)&&u.mutate({trans:r,type:"delete",keys:b,criteria:S}).then((function(e){return y(b.length,e)}))})).then((function(){return t.length>a+s&&i(a+f)}))}))};return i(0).then((function(){if(p.length>0)throw new J("Error modifying one or more objects",p,d,h);return t.length}))}))}))}},{key:"delete",value:function(){var e=this._ctx,t=e.range;return Be(e)&&(e.isPrimKey&&!so||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new J("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify(yo)}}]),e}(),yo=function(e,t){return t.value=null},vo=function(){function e(){o(this,e)}return a(e,[{key:"Collection",get:function(){return this._ctx.table.db.Collection}},{key:"between",value:function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Qe(this):new this.Collection(this,(function(){return tt(e,t,!n,!r)}))}catch(e){return Xe(this,oo)}}},{key:"equals",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return nt(e)}))}},{key:"above",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(e,void 0,!0)}))}},{key:"aboveOrEqual",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(e,void 0,!1)}))}},{key:"below",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(void 0,e,!1,!0)}))}},{key:"belowOrEqual",value:function(e){return null==e?Xe(this,oo):new this.Collection(this,(function(){return tt(void 0,e)}))}},{key:"startsWith",value:function(e){return"string"!=typeof e?Xe(this,"String expected."):this.between(e,e+ro,!0,!0)}},{key:"startsWithIgnoreCase",value:function(e){return""===e?this.startsWith(e):et(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ro)}},{key:"equalsIgnoreCase",value:function(e){return et(this,(function(e,t){return e===t[0]}),[e],"")}},{key:"anyOfIgnoreCase",value:function(){var e=G.apply(lr,arguments);return 0===e.length?Qe(this):et(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")}},{key:"startsWithAnyOfIgnoreCase",value:function(){var e=G.apply(lr,arguments);return 0===e.length?Qe(this):et(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ro)}},{key:"anyOf",value:function(){var e=this,t=G.apply(lr,arguments),n=this._cmp;try{t.sort(n)}catch(e){return Xe(this,oo)}if(0===t.length)return Qe(this);var r=new this.Collection(this,(function(){return tt(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var a=e.key;n(a,t[o])>0;)if(++o===t.length)return r(i),!1;return 0===n(a,t[o])||(r((function(){e.continue(t[o])})),!1)})),r}},{key:"notEqual",value:function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}},{key:"noneOf",value:function(){var e=G.apply(lr,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Xe(this,oo)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}},{key:"inAnyRange",value:function(e,t){var n=this,r=function(e,t){return p(e[0],t[0])},o=this._cmp,i=this._ascending,a=this._descending,u=this._min,s=this._max;if(0===e.length)return Qe(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return Xe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Sr.InvalidArgument);var c,l=!t||!1!==t.includeLowers,f=t&&!0===t.includeUppers,p=i;try{c=e.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(o(t[0],i[1])<0&&o(t[1],i[0])>0){i[0]=u(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return n===r&&e.push(t),e}),[]),c.sort(r)}catch(e){return Xe(this,oo)}var d=0,h=f?function(e){return i(e,c[d][1])>0}:function(e){return i(e,c[d][1])>=0},y=l?function(e){return a(e,c[d][0])>0}:function(e){return a(e,c[d][0])>=0},v=h,b=new this.Collection(this,(function(){return tt(c[0][0],c[c.length-1][1],!l,!f)}));return b._ondirectionchange=function(e){"next"===e?(v=h,p=i):(v=y,p=a),c.sort(r)},b._addAlgorithm((function(e,t,r){for(var o=e.key;v(o);)if(++d===c.length)return t(r),!1;return!!function(e){return!h(e)&&!y(e)}(o)||(0===n._cmp(o,c[d][1])||0===n._cmp(o,c[d][0])||t((function(){p===i?e.continue(c[d][0]):e.continue(c[d][1])})),!1)})),b}},{key:"startsWithAnyOf",value:function(){var e=G.apply(lr,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Qe(this):this.inAnyRange(e.map((function(e){return[e,e+ro]}))):Xe(this,"startsWithAnyOf() only works with strings")}}]),e}(),bo=Le(null,"storagemutated"),mo=function(){function e(){o(this,e)}return a(e,[{key:"_lock",value:function(){return z(!Fr.global),++this._reculock,1!==this._reculock||Fr.global||(Fr.lockOwnerFor=this),this}},{key:"_unlock",value:function(){if(z(!Fr.global),0==--this._reculock)for(Fr.global||(Fr.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ie(e[1],e[0])}catch(e){}}return this}},{key:"_locked",value:function(){return this._reculock&&Fr.lockOwnerFor!==this}},{key:"create",value:function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(z(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Sr.DatabaseClosed(r);case"MissingAPIError":throw new Sr.MissingAPI(r.message,r);default:throw new Sr.OpenFailed(r)}if(!this.active)throw new Sr.TransactionInactive;return z(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Oe((function(n){ot(n),t._reject(e.error)})),e.onabort=Oe((function(n){ot(n),t.active&&t._reject(new Sr.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Oe((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&bo.storagemutated.fire(e.mutatedParts)})),this}},{key:"_promise",value:function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return to(new Sr.ReadOnly("Transaction is readonly"));if(!this.active)return to(new Sr.TransactionInactive);if(this._locked())return new le((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},Fr])}));if(n)return xe((function(){var e=new le((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new le((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o}},{key:"_root",value:function(){return this.parent?this.parent._root():this}},{key:"waitFor",value:function(e){var t=this._root(),n=le.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new le((function(e,r){n.then((function(n){return t._waitingQueue.push(Oe(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(Oe(r.bind(null,e)))})).finally((function(){t._waitingFor===o&&(t._waitingFor=null)}))}))}},{key:"abort",value:function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Sr.Abort))}},{key:"table",value:function(e){var t=this._memoizedTables||(this._memoizedTables={});if(R(t,e))return t[e];var n=this.schema[e];if(!n)throw new Sr.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}]),e}(),go=function(e){try{return e.only([[]]),go=function(){return[[]]},[[]]}catch(e){return go=function(){return ro},ro}},wo=0,So=function(){function e(){o(this,e)}return a(e,[{key:"_parseStoresSpec",value:function(e,t){Hn(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return it(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Wn(r),0===t)})),o=r.shift();if(o.multi)throw new Sr.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new Sr.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Sr.Schema("Index must have a name and cannot be an empty string")})),t[n]=ut(n,o,r)}}))}},{key:"stores",value:function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?$(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){$(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,dt(t,[t._allTables,t,t.Transaction.prototype]),pt(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Hn(o),o),t._storeNames=Hn(o),this}},{key:"upgrade",value:function(e){return this._cfg.contentUpgrade=ce(this._cfg.contentUpgrade||te,e),this}}]),e}();function Oo(e,t,n,r,o){return le.resolve().then((function(){var i=Fr.transless||Fr,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===gr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((function(){return Oo(e,t,n,null,o)}))):to(r)}var s,c=fr(o);c&&Ee();var l=le.follow((function(){if(s=o.call(a,a))if(c){var e=_e.bind(null,null);s.then(e,e)}else"function"==typeof s.next&&"function"==typeof s.throw&&(s=Et(s))}),u);return(s&&"function"==typeof s.then?le.resolve(s).then((function(e){return a.active?e:to(new Sr.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return s}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),to(e)}))}))}var xo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return l(c({},e),{table:function(t){var n=function(t){var n,r,o=t.query.index;return o.isVirtual?l(c({},t),{query:{index:o,range:(n=t.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:jt(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:jt(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t},r=e.table(t),o=r.schema,i={},a=[];function u(e,t,n){var r=lt(e),o=i[r]=i[r]||[],s=null==e?0:"string"==typeof e?1:e.length,f=t>0,p=l(c({},n),{isVirtual:f,keyTail:t,keyLength:s,extractKey:st(e),unique:!f&&n.unique});return o.push(p),p.isPrimaryKey||a.push(p),s>1&&u(2===s?e[0]:e.slice(0,s-1),t+1,n),o.sort((function(e,t){return e.keyTail-t.keyTail})),p}var s=u(o.primaryKey.keyPath,0,o.primaryKey);i[":id"]=[s];var f=!0,p=!1,d=void 0;try{for(var h,y=o.indexes[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value;u(v.keyPath,0,v)}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}var b=l(c({},r),{schema:l(c({},o),{primaryKey:s,indexes:a,getIndexByKeyPath:function(e){var t=i[lt(e)];return t&&t[0]}}),count:function(e){return r.count(n(e))},query:function(e){return r.query(n(e))},openCursor:function(t){var o=t.query.index,i=o.keyTail,a=o.isVirtual,u=o.keyLength;return a?r.openCursor(n(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(jt(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,u).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(jt(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===u?e[0]:e.slice(0,u)}},value:{get:function(){return n.value}}});return r}(n)})):r.openCursor(t)}});return b}})}};function Eo(e,t,n,r){return n=n||{},r=r||"",Hn(e).forEach((function(o){if(R(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var u=W(i);u!==W(a)?n[r+o]=t[o]:"Object"===u?Eo(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),Hn(t).forEach((function(o){R(e,o)||(n[r+o]=t[o])})),n}var _o={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return l(c({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,o=l(c({},n),{mutate:function(e){var o=function(e){var t=Fr.trans,o=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?l(c({},e),{keys:o}):c({},e)).type&&(e.values=p(e.values)),e.keys&&(e.keys=p(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((function(i){var a=o.map((function(n,o){var a=i[o],c={onerror:null,onsuccess:null};if("delete"===e.type)u.fire.call(c,n,a,t);else if("add"===e.type||void 0===a){var l=s.fire.call(c,n,e.values[o],t);null==n&&null!=l&&(n=l,e.keys[o]=n,r.outbound||tr(e.values[o],r.keyPath,n))}else{var p=Eo(a,e.values[o]),d=f.fire.call(c,p,n,a,t);if(d){var h=e.values[o];Object.keys(d).forEach((function(e){R(h,e)?h[e]=d[e]:tr(h,e,d[e])}))}}return c}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,u=t.numFailures,s=t.lastResult,c=0;c<o.length;++c){var l=r?r[c]:o[c],f=a[c];null==l?f.onerror&&f.onerror(n[c]):f.onsuccess&&f.onsuccess("put"===e.type&&i[c]?e.values[c]:l)}return{failures:n,results:r,numFailures:u,lastResult:s}})).catch((function(e){return a.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))},i=Fr.trans,a=i.table(t).hook,u=a.deleting,s=a.creating,f=a.updating;switch(e.type){case"add":if(s.fire===te)break;return i._promise("readwrite",(function(){return o(e)}),!0);case"put":if(s.fire===te&&f.fire===te)break;return i._promise("readwrite",(function(){return o(e)}),!0);case"delete":if(u.fire===te)break;return i._promise("readwrite",(function(){return o(e)}),!0);case"deleteRange":if(u.fire===te)break;return i._promise("readwrite",(function(){return function(e){return d(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function d(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return o({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:d(e,l(c({},t),{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return o}})}},jo={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return l(c({},n),{getMany:function(e){if(!e.cache)return n.getMany(e);var t=kt(e.keys,e.trans._cache,"clone"===e.cache);return t?le.resolve(t):n.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?H(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),n.mutate(e)}})}}}},ko=function(e,t){if(!this){var n=new ko;return e&&"d"in e&&$(n,e),n}$(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Ao(e,t,n){var r=po(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(At(e))return $(e,{from:t,to:n,d:1});var o=e.l,i=e.r;if(po(n,e.from)<0)return o?Ao(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},It(e);if(po(t,e.to)>0)return i?Ao(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},It(e);po(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),po(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;o&&!e.l&&Pt(e,o),i&&a&&Pt(e,i)}}N(ko.prototype,u({add:function(e){return Pt(this,e),this},addKey:function(e){return Ao(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return Ao(t,e,e)})),this}},sr,(function(){return Ct(this)})));var Po,Co={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new ko(e.MIN_KEY,e.MAX_KEY);return l(c({},e),{table:function(r){var o=e.table(r),i=o.schema,a=i.primaryKey,u=a.extractKey,s=a.outbound,p=l(c({},o),{mutate:function(e){var a=e.trans,u=a.mutatedParts||(a.mutatedParts={}),s=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return u[n]||(u[n]=new ko)},c=s(""),l=s(":dels"),p=e.type,d=f("deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],2),h=d[0],y=d[1],v=e.trans._cache;return o.mutate(e).then((function(e){if(Wn(h)){"delete"!==p&&(h=e.results),c.addKeys(h);var t=kt(h,v);t||"add"===p||l.addKeys(h),(t||y)&&function(e,t,n,r){t.indexes.forEach((function(t){var o=function(e){return null!=e?t.extractKey(e):null},i=e(t.name||""),a=function(e){return t.multiEntry&&Wn(e)?e.forEach((function(e){return i.addKey(e)})):i.addKey(e)};(n||r).forEach((function(e,t){var i=n&&o(n[t]),u=r&&o(r[t]);0!==po(i,u)&&(null!=i&&a(i),null!=u&&a(u))}))}))}(s,i,t,y)}else if(h){var r={from:h.lower,to:h.upper};l.add(r),c.add(r)}else c.add(n),l.add(n),i.indexes.forEach((function(e){return s(e.name).add(n)}));return e}))}}),d=function(t){var n,r,o=t.query,i=o.index,a=o.range;return[i,new ko(null!==(n=a.lower)&&void 0!==n?n:e.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:e.MAX_KEY)]},h={get:function(e){return[a,new ko(e.key)]},getMany:function(e){return[a,(new ko).addKeys(e.keys)]},count:d,query:d,openCursor:d};return Hn(h).forEach((function(e){p[e]=function(i){var a=Fr.subscr;if(a){var p=function(e){var n="idb://".concat(t,"/").concat(r,"/").concat(e);return a[n]||(a[n]=new ko)},d=p(""),y=p(":dels"),v=f(h[e](i),2),b=v[0],m=v[1];if(p(b.name||"").add(m),!b.isPrimaryKey){if("count"!==e){var g="query"===e&&s&&i.values&&o.query(l(c({},i),{values:!1}));return o[e].apply(this,arguments).then((function(t){if("query"===e){if(s&&i.values)return g.then((function(e){var n=e.result;return d.addKeys(n),t}));var n=i.values?t.result.map(u):t.result;i.values?d.addKeys(n):y.addKeys(n)}else if("openCursor"===e){var r=t,o=i.values;return r&&Object.create(r,{key:{get:function(){return y.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return y.addKey(e),e}},value:{get:function(){return o&&d.addKey(r.primaryKey),r.value}}})}return t}))}y.add(n)}}return o[e].apply(this,arguments)}})),p}})}},Io=function(){function e(t,n){var r=this;o(this,e),this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=c({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:te,dbReadyPromise:null,cancelOpen:te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new le((function(e){s.dbReadyResolve=e})),s.openCanceller=new le((function(e,t){s.cancelOpen=t})),this._state=s,this.name=t,this.on=Le(this,"populate","blocked","versionchange","close",{ready:[ce,te]}),this.on.ready.subscribe=B(this.on.ready.subscribe,(function(t){return function(n,o){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||le.resolve().then(n),o&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),o&&t(n);else{t(n);var i=r;o||t((function e(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(u=this,Ue(ho.prototype,(function(e,t){this.db=u;var n=lo,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table,a=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:a!==ne?a:null}}))),this.Table=function(e){return Ue(fo.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Le(null,{creating:[ie,te],reading:[re,ne],updating:[ue,te],deleting:[ae,te]})}))}(this),this.Transaction=function(e){return Ue(mo.prototype,(function(t,n,r,o,i){var a=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Le(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le((function(e,t){a._resolve=e,a._reject=t})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(e){var t=a.active;return a.active=!1,a.on.error.fire(e),a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort(),to(e)}))}))}(this),this.Version=function(e){return Ue(So.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Ue(vo.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var o=e._deps.indexedDB;if(!o)throw new Sr.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(e,t){return o.cmp(t,e)},this._max=function(e,t){return o.cmp(e,t)>0?e:t},this._min=function(e,t){return o.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=go(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),io.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(xo),this.use(_o),this.use(Co),this.use(jo),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(e){return e(r)}))}return a(e,[{key:"version",value:function(e){if(isNaN(e)||e<.1)throw new Sr.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Sr.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(ht),n.stores({}),this._state.autoSchema=!1,n)}},{key:"_whenReady",value:function(e){var t=this;return this.idbdb&&(this._state.openComplete||Fr.letThrough||this._vip)?e():new le((function(e,n){if(t._state.openComplete)return n(new Sr.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new Sr.DatabaseClosed);t.open().catch(te)}t._state.dbReadyPromise.then(e,n)})).then(e)}},{key:"use",value:function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:null==r?10:r,name:o}),i.sort((function(e,t){return e.level-t.level})),this}},{key:"unuse",value:function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this}},{key:"open",value:function(){return function(e){var t=function(){if(n.openCanceller!==o)throw new Sr.DatabaseClosed("db.open() was cancelled")},n=e._state,r=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then((function(){return n.dbOpenError?to(n.dbOpenError):e}));pr&&(n.openCanceller._stackHolder=yr()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var o=n.openCanceller,i=n.dbReadyResolve,a=null,u=!1;return le.race([o,("undefined"==typeof navigator?le.resolve():xt()).then((function(){return new le((function(o,i){if(t(),!r)throw new Sr.MissingAPI;var s=e.name,c=n.autoSchema?r.open(s):r.open(s,Math.round(10*e.verno));if(!c)throw new Sr.MissingAPI;c.onerror=rt(i),c.onblocked=Oe(e._fireOnBlocked),c.onupgradeneeded=Oe((function(t){if(a=c.transaction,n.autoSchema&&!e._options.allowEmptyDB){c.onerror=ot,a.abort(),c.result.close();var o=r.deleteDatabase(s);o.onsuccess=o.onerror=Oe((function(){i(new Sr.NoSuchDatabase("Database ".concat(s," doesnt exist")))}))}else{a.onerror=rt(i);var l=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;u=l<1,e._novip.idbdb=c.result,function(e,t,n,r){var o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),u=Fr.transless||Fr;xe((function(){Fr.trans=i,Fr.transless=u,0===t?(Hn(o).forEach((function(e){vt(n,e,o[e].primKey,o[e].indexes)})),ft(e,n),le.follow((function(){return e.on.populate.fire(i)})).catch(a)):function(e,t,n,r){var o=e._novip,i=[],a=o._versions,u=o._dbSchema=mt(0,o.idbdb,r),s=!1;return a.filter((function(e){return e._cfg.version>=t})).forEach((function(e){i.push((function(){var i=u,a=e._cfg.dbschema;gt(o,i,r),gt(o,a,r),u=o._dbSchema=a;var c=yt(i,a);c.add.forEach((function(e){vt(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((function(e){if(e.recreate)throw new Sr.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return bt(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),bt(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=e._cfg.contentUpgrade;if(l&&e._cfg.version>t){ft(o,r),n._memoizedTables={},s=!0;var f=V(a);c.del.forEach((function(e){f[e]=i[e]})),dt(o,[o.Transaction.prototype]),pt(o,[o.Transaction.prototype],Hn(f),f),n.schema=f;var p,d=fr(l);d&&Ee();var h=le.follow((function(){if((p=l(n))&&d){var e=_e.bind(null,null);p.then(e,e)}}));return p&&"function"==typeof p.then?le.resolve(p):h.then((function(){return p}))}})),i.push((function(t){s&&uo||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(n){return null==e[n]&&t.db.deleteObjectStore(n)}))}(e._cfg.dbschema,t),dt(o,[o.Transaction.prototype]),pt(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),function e(){return i.length?le.resolve(i.shift()(n.idbtrans)).then(e):le.resolve()}().then((function(){var e,t;t=r,Hn(e=u).forEach((function(n){t.db.objectStoreNames.contains(n)||vt(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}(e,l/10,a,i)}}),i),c.onsuccess=Oe((function(){a=null;var t,r=e._novip.idbdb=c.result,i=U(r.objectStoreNames);if(i.length>0)try{var l=r.transaction(1===(t=i).length?t[0]:t,"readonly");n.autoSchema?function(e,t,n){var r=e._novip;r.verno=t.version/10;var o=r._dbSchema=mt(0,t,n);r._storeNames=U(t.objectStoreNames,0),pt(r,[r._allTables],Hn(o),o)}(e,r,l):(gt(e,e._dbSchema,l),function(e,t){var n=yt(mt(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ft(e,l)}catch(e){}io.push(e),r.onversionchange=Oe((function(t){n.vcFired=!0,e.on("versionchange").fire(t)})),r.onclose=Oe((function(t){e.on("close").fire(t)})),u&&function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!St(n)&&"__dbnames"!==t&&wt(n,r).put({name:t}).catch(te)}(e._deps,s),o()}),i)}))}))]).then((function(){return t(),n.onReadyBeingFired=[],le.resolve(Ot((function(){return e.on.ready.fire(e.vip)}))).then((function t(){if(n.onReadyBeingFired.length>0){var r=n.onReadyBeingFired.reduce(ce,te);return n.onReadyBeingFired=[],le.resolve(Ot((function(){return r(e.vip)}))).then(t)}}))})).finally((function(){n.onReadyBeingFired=null,n.isBeingOpened=!1})).then((function(){return e})).catch((function(t){n.dbOpenError=t;try{a&&a.abort()}catch(e){}return o===n.openCanceller&&e._close(),to(t)})).finally((function(){n.openComplete=!0,i()}))}(this)}},{key:"_close",value:function(){var e=this._state,t=io.indexOf(this);if(t>=0&&io.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new le((function(t){e.dbReadyResolve=t})),e.openCanceller=new le((function(t,n){e.cancelOpen=n}))}},{key:"close",value:function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Sr.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}},{key:"delete",value:function(){var e=this,t=arguments.length>0,n=this._state;return new le((function(r,o){var i=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Oe((function(){!function(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!St(n)&&"__dbnames"!==t&&wt(n,r).delete(t).catch(te)}(e._deps,e.name),r()})),t.onerror=rt(o),t.onblocked=e._fireOnBlocked};if(t)throw new Sr.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))}},{key:"backendDB",value:function(){return this.idbdb}},{key:"isOpen",value:function(){return null!==this.idbdb}},{key:"hasBeenClosed",value:function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}},{key:"hasFailed",value:function(){return null!==this._state.dbOpenError}},{key:"dynamicallyOpened",value:function(){return this._state.autoSchema}},{key:"tables",get:function(){var e=this;return Hn(this._allTables).map((function(t){return e._allTables[t]}))}},{key:"transaction",value:function(){var e=_t.apply(this,arguments);return this._transaction.apply(this,e)}},{key:"_transaction",value:function(e,t,n){var r=this,o=Fr.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,a,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=s(e,r.Table)?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Sr.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!u)throw new Sr.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!u)throw new Sr.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(e){return o?o._promise(null,(function(t,n){n(e)})):to(e)}var c=Oo.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):Fr.trans?Ie(Fr.transless,(function(){return r._whenReady(c)})):this._whenReady(c)}},{key:"table",value:function(e){if(!R(this._allTables,e))throw new Sr.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]}}]),e}(),To="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",Do=function(){function e(t){o(this,e),this._subscribe=t}return a(e,[{key:"subscribe",value:function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}},{key:To,value:function(){return this}}]),e}();try{Po={indexedDB:qn.indexedDB||qn.mozIndexedDB||qn.webkitIndexedDB||qn.msIndexedDB,IDBKeyRange:qn.IDBKeyRange||qn.webkitIDBKeyRange}}catch(r){Po={indexedDB:null,IDBKeyRange:null}}var $o=Io;N($o,l(c({},xr),{delete:function(e){return new $o(e,{addons:[]}).delete()},exists:function(e){return new $o(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function(e){var t=e.indexedDB,n=e.IDBKeyRange;return St(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):wt(t,n).toCollection().primaryKeys()}($o.dependencies).then(e)}catch(e){return to(new Sr.MissingAPI)}},defineClass:function(){return function(e){$(this,e)}},ignoreTransaction:function(e){return Fr.trans?Ie(Fr.transless,e):e()},vip:Ot,async:function(e){return function(){try{var t=Et(e.apply(this,arguments));return t&&"function"==typeof t.then?t:le.resolve(t)}catch(e){return to(e)}}},spawn:function(e,t,n){try{var r=Et(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:le.resolve(r)}catch(e){return to(e)}},currentTransaction:{get:function(){return Fr.trans||null}},waitFor:function(e,t){var n=le.resolve("function"==typeof e?$o.ignoreTransaction(e):e).timeout(t||6e4);return Fr.trans?Fr.trans.waitFor(n):n},Promise:le,debug:{get:function(){return pr},set:function(e){Z(e,"dexie"===e?function(){return!0}:co)}},derive:L,extend:$,props:N,override:B,Events:Le,on:bo,liveQuery:function(e){return new Do((function(t){var n=function(){return Hn(a).some((function(e){return i[e]&&function(e,t){var n=Ct(t),r=n.next();if(r.done)return!1;for(var o=r.value,i=Ct(e),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(po(u.from,o.to)<=0&&po(u.to,o.from)>=0)return!0;po(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}(i[e],a[e])}))},r=fr(e),o=!1,i={},a={},u={get closed(){return o},unsubscribe:function(){o=!0,bo.storagemutated.unsubscribe(l)}};t.start&&t.start(u);var s=!1,c=!1,l=function(e){Dt(i,e),n()&&f()},f=function(){if(!s&&!o){i={};var p={},d=function(t){r&&Ee();var n=function(){return xe(e,{subscr:t,trans:null})},o=Fr.trans?Ie(Fr.transless,n):n();return r&&o.then(_e,_e),o}(p);c||(bo("storagemutated",l),c=!0),s=!0,Promise.resolve(d).then((function(e){s=!1,o||(n()?f():(i={},a=p,t.next&&t.next(e)))}),(function(e){s=!1,t.error&&t.error(e),u.unsubscribe()}))}};return f(),u}))},extendObservabilitySet:Dt,getByKeyPath:er,setByKeyPath:tr,delByKeyPath:function(e,t){"string"==typeof t?tr(e,t,void 0):"length"in t&&[].map.call(t,(function(t){tr(e,t,void 0)}))},shallowClone:V,deepClone:H,getObjectDiff:Eo,cmp:po,asap:F,minKey:-1/0,addons:[],connections:io,errnames:gr,dependencies:Po,semVer:"3.2.3",version:"3.2.3".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),$o.maxKey=go($o.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(bo("storagemutated",(function(e){var t;Ro||(ao?(t=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,e):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ro=!0,dispatchEvent(t),Ro=!1)})),addEventListener("x-storagemutated-1",(function(e){var t=e.detail;Ro||$t(t)})));var Ro=!1;if("undefined"!=typeof BroadcastChannel){var No=new BroadcastChannel("x-storagemutated-1");"function"==typeof No.unref&&No.unref(),bo("storagemutated",(function(e){Ro||No.postMessage(e)})),No.onmessage=function(e){e.data&&$t(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){bo("storagemutated",(function(e){try{Ro||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&p(self.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){return t.postMessage({type:"x-storagemutated-1",changedParts:e})})))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(e){if("x-storagemutated-1"===e.key){var t=JSON.parse(e.newValue);t&&$t(t.changedParts)}}));var Mo=self.document&&navigator.serviceWorker;Mo&&Mo.addEventListener("message",(function(e){var t=e.data;t&&"x-storagemutated-1"===t.type&&$t(t.changedParts)}))}le.rejectionMapper=function(e,t){if(!e||s(e,X)||s(e,TypeError)||s(e,SyntaxError)||!e.name||!Or[e.name])return e;var n=new Or[e.name](t||e.message,e);return"stack"in e&&M(n,"stack",{get:function(){return this.inner.stack}}),n},Z(pr,co);var Lo=h(766),Uo=h(685);function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bo(e)}function zo(e,t){return zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zo(e,t)}var Fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zo(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bo(e);if(t){var o=Bo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":d(n))&&"function"!=typeof t?Rt(e):t;var n}(this,n)}}(n);function n(){var e;return function(e,t){if(!s(e,t))throw new TypeError("Cannot call a class as a function")}(this,n),Nt(Rt(e=t.call(this,"EsmOffline")),"syncQueue",void 0),Nt(Rt(e),"dynamicOfflineData",void 0),e.version(4).stores({syncQueue:"++id,userId,type,[userId+type]",dynamicOfflineData:"++id,type,identifier,*users,&[type+identifier]"}),e.syncQueue=e.table("syncQueue"),e.dynamicOfflineData=e.table("dynamicOfflineData"),e}return n}(Io),Ko=new Fo,Vo={},qo=(0,Uo.createGlobalStore)("offline-synchronization",{});function Ho(){return Ho=Bt((function(){var e,t,n,r,o,i,a,u,s,c,l,f,p;return Vt(this,(function(d){switch(d.label){case 0:return qo.getState().synchronization?[2]:[4,Ko.syncQueue.count()];case 1:e=d.sent(),t={},n=Object.entries(Vo),r=n.length,o={},i=new AbortController,a=function(){var e,t,n=qo.getState().synchronization;qo.setState({synchronization:(e=Ft({},n),t={pendingCount:n.pendingCount-1},t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e)})},d.label=2;case 2:d.trys.push([2,,10,11]),qo.setState({synchronization:{totalCount:e,pendingCount:e,abortController:i}}),u=0,d.label=3;case 3:if(!(u<r&&n.length>0))return[3,8];s=n.length,d.label=4;case 4:return s--?(c=Kt(n[s],2),l=c[0],f=c[1],(p=f.dependsOn.map((function(e){return t[e]}))).every(Boolean)?(o[l]={},[4,Promise.all(p)]):[3,6]):[3,7];case 5:d.sent(),t[l]=function(e,t,n,r){return Wo.apply(this,arguments)}(f,o,i,a),n.splice(s,1),d.label=6;case 6:return[3,4];case 7:return u++,[3,3];case 8:return[4,Promise.allSettled(Object.values(t))];case 9:return d.sent(),[3,11];case 10:return qo.setState({synchronization:void 0}),[7];case 11:return[2]}}))})),Ho.apply(this,arguments)}function Wo(){return Wo=Bt((function(e,t,n,r){var o,i,a,u,s,c,l,f,p,d,h,y,v,b,m,g,w;return Vt(this,(function(S){switch(S.label){case 0:return o=e.type,i=e.dependsOn,a=e.process,u=[],s=[],[4,Wt()];case 1:return c=S.sent(),[4,Ko.syncQueue.where({type:o,userId:c}).each((function(e,t){u.push([t.primaryKey,e.content,e.descriptor]),s.push(e.content)}))];case 2:S.sent(),l=0,S.label=3;case 3:if(!(l<u.length))return[3,11];f=Kt(u[l],3),p=f[0],d=f[1],h=f[2],y=h.id,v=h.dependencies,b=void 0===v?[]:v,S.label=4;case 4:return S.trys.push([4,7,9,10]),[4,a(d,{abort:n,index:l,items:s,userId:c,dependencies:b.map((function(e){var n=e.id,r=e.type;return i.includes(r)?t[r][n]:void 0}))})];case 5:return m=S.sent(),void 0!==y&&(t[o][y]=m),[4,Ko.syncQueue.delete(p)];case 6:return S.sent(),[3,10];case 7:return g=S.sent(),[4,Ko.syncQueue.update(p,{lastError:{name:null==g?void 0:g.name,message:null!==(w=null==g?void 0:g.message)&&void 0!==w?w:null==g?void 0:g.toString()}})];case 8:return S.sent(),[3,10];case 9:return r(),[7];case 10:return l++,[3,3];case 11:return[2]}}))})),Wo.apply(this,arguments)}function Go(){return(Go=Bt((function(){var e;return Vt(this,(function(t){switch(t.label){case 0:return[4,(0,Lo.getLoggedInUser)()];case 1:return[2,(null==(e=t.sent())?void 0:e.uuid)||"*"]}}))}))).apply(this,arguments)}function Zo(){return(Zo=Bt((function(e,t,n,r){var o;return Vt(this,(function(i){switch(i.label){case 0:return void 0===(o=r&&r.id)?[3,2]:[4,Ko.syncQueue.where({type:t,userId:e}).filter((function(e){return(null==e?void 0:e.descriptor.id)===o})).delete().catch(Io.errnames.DatabaseClosed)];case 1:i.sent(),i.label=2;case 2:return[4,Ko.syncQueue.add({type:t,content:n,userId:e,descriptor:r||{},createdOn:new Date}).catch(Io.errnames.DatabaseClosed,(function(){return-1}))];case 3:return[2,i.sent()]}}))}))).apply(this,arguments)}function Yo(){return(Yo=Bt((function(e,t,n){return Vt(this,(function(r){switch(r.label){case 0:return[4,Wt()];case 1:return[4,Gt(r.sent(),e,t,n)];case 2:return[2,r.sent()]}}))}))).apply(this,arguments)}function Xo(){return(Xo=Bt((function(e,t){return Vt(this,(function(n){switch(n.label){case 0:return[4,Xt(e,t)];case 1:return[2,n.sent().map((function(e){return e.content}))]}}))}))).apply(this,arguments)}function Qo(){return(Qo=Bt((function(e,t){var n;return Vt(this,(function(r){switch(r.label){case 0:return n=t?{type:t,userId:e}:{userId:e},[4,Ko.syncQueue.where(n).toArray().catch(Io.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function Jo(){return(Jo=Bt((function(e){return Vt(this,(function(t){switch(t.label){case 0:return[4,Wt()];case 1:return[4,Yt(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function ei(){return(ei=Bt((function(e){return Vt(this,(function(t){switch(t.label){case 0:return[4,Wt()];case 1:return[4,Xt(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function ti(){return(ti=Bt((function(e){return Vt(this,(function(t){switch(t.label){case 0:return[4,Ko.syncQueue.get(e).catch(Io.errnames.DatabaseClosed,(function(){}))];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function ni(){return(ni=Bt((function(e){var t,n,r;return Vt(this,(function(o){switch(o.label){case 0:return[4,en(e)];case 1:if(!(n=o.sent()))throw new Error("No sync item with the ID ".concat(e," exists."));if(!(r=null===(t=Vo[n.type])||void 0===t?void 0:t.options.onBeginEditSyncItem))throw new Error("A sync item with the ID ".concat(e,' exists, but the associated handler (if one exists) doesn\'t support editing the item. You can avoid this error by either verifying that sync items of this type can be edited via the "canEditSynchronizationItemsOfType(type: string)" function or alternatively ensure that the synchronizaton handler for sync items of type "').concat(n.type,'" supports editing items.'));return r(n),[2]}}))}))).apply(this,arguments)}function ri(){return(ri=Bt((function(e){return Vt(this,(function(t){switch(t.label){case 0:return[4,Ko.syncQueue.delete(e).catch(Io.errnames.DatabaseClosed)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}for(var oi,ii={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ai=new Uint8Array(16),ui=[],si=0;si<256;++si)ui.push((si+256).toString(16).slice(1));var ci=function(e,t,n){if(ii.randomUUID&&!t&&!e)return ii.randomUUID();var r=(e=e||{}).random||(e.rng||an)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ui[e[t+0]]+ui[e[t+1]]+ui[e[t+2]]+ui[e[t+3]]+"-"+ui[e[t+4]]+ui[e[t+5]]+"-"+ui[e[t+6]]+ui[e[t+7]]+"-"+ui[e[t+8]]+ui[e[t+9]]+"-"+ui[e[t+10]]+ui[e[t+11]]+ui[e[t+12]]+ui[e[t+13]]+ui[e[t+14]]+ui[e[t+15]]).toLowerCase()}(r)},li="OFFLINE+",fi={};function pi(){return(pi=fn((function(e){return pn(this,(function(t){switch(t.label){case 0:return[4,xn()];case 1:return[4,vn(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function di(){return(di=fn((function(e,t){var n;return pn(this,(function(r){switch(r.label){case 0:return n=t?{type:t,users:e}:{users:e},[4,(new Fo).dynamicOfflineData.where(n).toArray().catch(Io.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function hi(){return(hi=fn((function(e,t){return pn(this,(function(n){switch(n.label){case 0:return[4,xn()];case 1:return[4,mn(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function yi(){return yi=fn((function(e,t,n){var r,o;return pn(this,(function(i){switch(i.label){case 0:return[4,(r=new Fo).dynamicOfflineData.get({type:t,identifier:n}).catch(Io.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?[3,3]:[4,r.dynamicOfflineData.add({users:[e],type:t,identifier:n}).catch(Io.errnames.DatabaseClosed)];case 2:return i.sent(),[3,5];case 3:return o.users.includes(e)?[3,5]:[4,r.dynamicOfflineData.update(o.id,{users:(a=o.users,function(e){if(Array.isArray(e))return cn(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e])}).catch(Io.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}var a}))})),yi.apply(this,arguments)}function vi(){return(vi=fn((function(e,t){return pn(this,(function(n){switch(n.label){case 0:return[4,xn()];case 1:return[4,wn(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function bi(){return bi=fn((function(e,t,n){var r,o;return pn(this,(function(i){switch(i.label){case 0:return[4,(r=new Fo).dynamicOfflineData.get({type:t,identifier:n,users:e}).catch(Io.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?o.users.length>1?[4,r.dynamicOfflineData.update(o.id,{users:o.users.filter((function(t){return t!==e}))}).catch(Io.errnames.DatabaseClosed)]:[3,3]:[3,5];case 2:return i.sent(),[3,5];case 3:return[4,r.dynamicOfflineData.delete(o.id).catch(Io.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}}))})),bi.apply(this,arguments)}function mi(){return mi=fn((function(e,t){var n;return pn(this,(function(r){switch(r.label){case 0:return[4,yn(e)];case 1:return n=r.sent(),[4,Promise.all(n.map((o=fn((function(e){return pn(this,(function(n){return[2,On(e.type,e.identifier,t)]}))})),function(e){return o.apply(this,arguments)})))];case 2:return r.sent(),[2]}var o}))})),mi.apply(this,arguments)}function gi(){return gi=fn((function(e,t,n){var r,o,i,a,u,s,c,l,f;return pn(this,(function(p){switch(p.label){case 0:return[4,bn(e,t)];case 1:return p.sent(),r=new Fo,[4,xn()];case 2:return o=p.sent(),[4,r.dynamicOfflineData.get({type:e,identifier:t}).catch(Io.errnames.DatabaseClosed,(function(){}))];case 3:return i=p.sent(),a=dn().filter((function(t){return t.type===e})),i?[4,Promise.all(a.map((d=fn((function(e){var r,o,i;return pn(this,(function(a){try{return e.sync(t,n),[2,{id:e.id,error:void 0}]}catch(t){return i=null!==(o=null===(r=t.message)||void 0===r?void 0:r.toString())&&void 0!==o?o:t.toString(),[2,{id:e.id,error:i}]}return[2]}))})),function(e){return d.apply(this,arguments)})))]:[2];case 4:return u=p.sent(),s=u.filter((function(e){return!e.error})).map((function(e){return e.id})),c=u.filter((function(e){return e.error})).map((function(e){return e.id})),l=u.filter((function(e){return e.error})).map((function(e){return{handlerId:e.id,message:e.error}})),f={syncedOn:new Date,syncedBy:o,succeededHandlers:s,erroredHandlers:c,errors:l},i.id?[4,r.dynamicOfflineData.update(i.id,{syncState:f}).catch(Io.errnames.DatabaseClosed)]:[3,6];case 5:p.sent(),p.label=6;case 6:return[2]}var d}))})),gi.apply(this,arguments)}function wi(){return(wi=fn((function(){var e;return pn(this,(function(t){switch(t.label){case 0:return[4,(0,Lo.getLoggedInUser)()];case 1:if(!(e=t.sent().uuid))throw new Error("Using the dynamic offline data API requires a logged in user.");return[2,e]}}))}))).apply(this,arguments)}var Si=(0,Uo.createGlobalStore)("offline-patients",{offlinePatientDataSyncState:{},handlers:{}});function Oi(){return Oi=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){En(i,r,o,a,u,"next",e)}function u(e){En(i,r,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return An(),[4,On("patient",e)];case 1:return t.sent(),[2]}}))})),Oi.apply(this,arguments)}}(),y}())}}}))},4011:(e,t,n)=>{"use strict";n.d(t,{jp:()=>$o,Qd:()=>Do,Gy:()=>No,sF:()=>co,vm:()=>o,xA:()=>yr,H_:()=>br,Ui:()=>dr,D2:()=>Po,WB:()=>_o,aA:()=>ur,k1:()=>Rr,TI:()=>Io,Q2:()=>ko,z7:()=>lo,gp:()=>Xr,a7:()=>so,Rz:()=>to,QI:()=>Jr,$9:()=>eo,cV:()=>gr,fR:()=>Sr,X2:()=>So,dt:()=>Nr,pO:()=>xr,ME:()=>_r,Xc:()=>hr,Kb:()=>Lo,ps:()=>kr,mF:()=>Pr,MO:()=>Mr});var r="unavailable";function o(){return{current:r,notAvailable:"unavailable"===r,active:"on"===r}}var i=n(5385),a=n(7641);const u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,s=Object.keys,c=Array.isArray;function l(e,t){return"object"!=typeof t||s(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||u.Promise||(u.Promise=Promise);const f=Object.getPrototypeOf,p={}.hasOwnProperty;function d(e,t){return p.call(e,t)}function h(e,t){"function"==typeof t&&(t=t(f(e))),("undefined"==typeof Reflect?s:Reflect.ownKeys)(t).forEach((n=>{v(e,n,t[n])}))}const y=Object.defineProperty;function v(e,t,n,r){y(e,t,l(n&&d(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function b(e){return{from:function(t){return e.prototype=Object.create(t.prototype),v(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}const m=Object.getOwnPropertyDescriptor;function g(e,t){let n;return m(e,t)||(n=f(e))&&g(n,t)}const w=[].slice;function S(e,t,n){return w.call(e,t,n)}function O(e,t){return t(e)}function x(e){if(!e)throw new Error("Assertion Failed")}function E(e){u.setImmediate?setImmediate(e):setTimeout(e,0)}function j(e,t){return e.reduce(((e,n,r)=>{var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function k(e,t){if(d(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=k(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:k(u,t.substr(a+1))}}function A(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){x("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)A(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),u=t.substr(i+1);if(""===u)void 0===n?c(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];s&&d(e,a)||(s=e[a]={}),A(s,u,n)}}else void 0===n?c(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function P(e){var t={};for(var n in e)d(e,n)&&(t[n]=e[n]);return t}const C=[].concat;function I(e){return C.apply([],e)}const T="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(I([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>u[e])),D=T.map((e=>u[e]));j(T,(e=>[e,!0]));let $=null;function R(e){$="undefined"!=typeof WeakMap&&new WeakMap;const t=N(e);return $=null,t}function N(e){if(!e||"object"!=typeof e)return e;let t=$&&$.get(e);if(t)return t;if(c(e)){t=[],$&&$.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(N(e[n]))}else if(D.indexOf(e.constructor)>=0)t=e;else{const n=f(e);for(var o in t=n===Object.prototype?{}:Object.create(n),$&&$.set(e,t),e)d(e,o)&&(t[o]=N(e[o]))}return t}const{toString:M}={};function L(e){return M.call(e).slice(8,-1)}const U="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",B="symbol"==typeof U?function(e){var t;return null!=e&&(t=e[U])&&t.apply(e)}:function(){return null},z={};function F(e){var t,n,r,o;if(1===arguments.length){if(c(e))return e.slice();if(this===z&&"string"==typeof e)return[e];if(o=B(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const K="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var V="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function q(e,t){V=e,H=t}var H=()=>!0;const W=!new Error("").stack;function G(){if(W)try{throw G.arguments,new Error}catch(e){return e}return new Error}function Z(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(H).map((e=>"\n"+e)).join("")):""}var Y=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],X=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Y),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function J(e,t){this._e=G(),this.name=e,this.message=t}function ee(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function te(e,t,n,r){this._e=G(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=ee(e,t)}function ne(e,t){this._e=G(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=ee(e,t)}b(J).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Z(this._e,2))}},toString:function(){return this.name+": "+this.message}}),b(te).from(J),b(ne).from(J);var re=X.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const oe=J;var ie=X.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=G(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Q[t]||n,this.inner=null)}return b(r).from(oe),e[t]=r,e}),{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var ae=Y.reduce(((e,t)=>(e[t+"Error"]=ie[t],e)),{}),ue=X.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ie[t]),e)),{});function se(){}function ce(e){return e}function le(e,t){return null==e||e===ce?t:function(n){return t(e(n))}}function fe(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function pe(e,t){return e===se?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?fe(r,this.onsuccess):r),o&&(this.onerror=this.onerror?fe(o,this.onerror):o),void 0!==i?i:n}}function de(e,t){return e===se?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?fe(n,this.onsuccess):n),r&&(this.onerror=this.onerror?fe(r,this.onerror):r)}}function he(e,t){return e===se?t:function(n){var r=e.apply(this,arguments);l(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?fe(o,this.onsuccess):o),i&&(this.onerror=this.onerror?fe(i,this.onerror):i),void 0===r?void 0===a?void 0:a:l(r,a)}}function ye(e,t){return e===se?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ve(e,t){return e===se?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}ue.ModifyError=te,ue.DexieError=J,ue.BulkError=ne;var be={};const[me,ge,we]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,f(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,f(t),e]})(),Se=ge&&ge.then,Oe=me&&me.constructor,xe=!!we;var Ee=!1,_e=we?()=>{we.then(Ge)}:u.setImmediate?setImmediate.bind(null,Ge):u.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Ge(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ge,0)},je=function(e,t){Re.push([e,t]),Ae&&(_e(),Ae=!1)},ke=!0,Ae=!0,Pe=[],Ce=[],Ie=null,Te=ce,De={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:mt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{mt(e[0],e[1])}catch(e){}}))}},$e=De,Re=[],Ne=0,Me=[];function Le(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=se,this._lib=!1;var t=this._PSD=$e;if(V&&(this._stackHolder=G(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==be)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Fe(this,this._value))}this._state=null,this._value=null,++t.ref,ze(this,e)}const Ue={get:function(){var e=$e,t=ot;function n(n,r){var o=!e.global&&(e!==$e||t!==ot);const i=o&&!st();var a=new Le(((t,a)=>{Ve(this,new Be(vt(n,e,o,i),vt(r,e,o,i),t,a,e))}));return V&&We(a,this),a}return n.prototype=be,n},set:function(e){v(this,"then",e&&e.prototype===be?Ue:{get:function(){return e},set:Ue.set})}};function Be(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function ze(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ze();t&&"function"==typeof t.then?ze(e,((e,n)=>{t instanceof Le?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ke(e)),n&&Ye()}}),Fe.bind(null,e))}catch(t){Fe(e,t)}}function Fe(e,t){if(Ce.push(t),null===e._state){var n=e._lib&&Ze();t=Te(t),e._state=!1,e._value=t,V&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=g(t,"stack");t._promise=e,v(t,"stack",{get:()=>Ee?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){Pe.some((t=>t._value===e._value))||Pe.push(e)}(e),Ke(e),n&&Ye()}}function Ke(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ve(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Ne&&(++Ne,je((()=>{0==--Ne&&Xe()}),[]))}function Ve(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ne,je(qe,[n,e,t])}else e._listeners.push(t)}function qe(e,t,n){try{Ie=t;var r,o=t._value;t._state?r=e(o):(Ce.length&&(Ce=[]),r=e(o),-1===Ce.indexOf(o)&&function(e){for(var t=Pe.length;t;)if(Pe[--t]._value===e._value)return void Pe.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Ie=null,0==--Ne&&Xe(),--n.psd.ref||n.psd.finalize()}}function He(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,a=e._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Z(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return V&&((r=Z(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&He(e._prev,t,n)),t}function We(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ge(){Ze()&&Ye()}function Ze(){var e=ke;return ke=!1,Ae=!1,e}function Ye(){var e,t,n;do{for(;Re.length>0;)for(e=Re,Re=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Re.length>0);ke=!0,Ae=!0}function Xe(){var e=Pe;Pe=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Me.slice(0),n=t.length;n;)t[--n]()}function Qe(e){return new Le(be,!1,e)}function Je(e,t){var n=$e;return function(){var r=Ze(),o=$e;try{return pt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{pt(o,!1),r&&Ye()}}}h(Le.prototype,{then:Ue,_then:function(e,t){Ve(this,new Be(null,null,e,t,$e))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Qe(e))):this.then(null,(e=>e&&e.name===t?n(e):Qe(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Qe(t))))},stack:{get:function(){if(this._stack)return this._stack;try{Ee=!0;var e=He(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Ee=!1}}},timeout:function(e,t){return e<1/0?new Le(((n,r)=>{var o=setTimeout((()=>r(new ie.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&v(Le.prototype,Symbol.toStringTag,"Dexie.Promise"),De.env=dt(),h(Le,{all:function(){var e=F.apply(null,arguments).map(ct);return new Le((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((o,i)=>Le.resolve(o).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Le)return e;if(e&&"function"==typeof e.then)return new Le(((t,n)=>{e.then(t,n)}));var t=new Le(be,!0,e);return We(t,Ie),t},reject:Qe,race:function(){var e=F.apply(null,arguments).map(ct);return new Le(((t,n)=>{e.map((e=>Le.resolve(e).then(t,n)))}))},PSD:{get:()=>$e,set:e=>$e=e},totalEchoes:{get:()=>ot},newPSD:at,usePSD:ht,scheduler:{get:()=>je,set:e=>{je=e}},rejectionMapper:{get:()=>Te,set:e=>{Te=e}},follow:(e,t)=>new Le(((n,r)=>at(((t,n)=>{var r=$e;r.unhandleds=[],r.onunhandled=n,r.finalize=fe((function(){!function(e){Me.push((function t(){e(),Me.splice(Me.indexOf(t),1)})),++Ne,je((()=>{0==--Ne&&Xe()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),Oe&&(Oe.allSettled&&v(Le,"allSettled",(function(){const e=F.apply(null,arguments).map(ct);return new Le((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,o)=>Le.resolve(e).then((e=>r[o]={status:"fulfilled",value:e}),(e=>r[o]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),Oe.any&&"undefined"!=typeof AggregateError&&v(Le,"any",(function(){const e=F.apply(null,arguments).map(ct);return new Le(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const o=new Array(r);e.forEach(((e,i)=>Le.resolve(e).then((e=>t(e)),(e=>{o[i]=e,--r||n(new AggregateError(o))}))))}))})));const et={awaits:0,echoes:0,id:0};var tt=0,nt=[],rt=0,ot=0,it=0;function at(e,t,n,r){var o=$e,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++it;var a=De.env;i.env=xe?{Promise:Le,PromiseProp:{value:Le,configurable:!0,writable:!0},all:Le.all,race:Le.race,allSettled:Le.allSettled,any:Le.any,resolve:Le.resolve,reject:Le.reject,nthen:bt(a.nthen,i),gthen:bt(a.gthen,i)}:{},t&&l(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=ht(i,e,n,r);return 0===i.ref&&i.finalize(),u}function ut(){return et.id||(et.id=++tt),++et.awaits,et.echoes+=100,et.id}function st(){return!!et.awaits&&(0==--et.awaits&&(et.id=0),et.echoes=100*et.awaits,!0)}function ct(e){return et.echoes&&e&&e.constructor===Oe?(ut(),e.then((e=>(st(),e)),(e=>(st(),gt(e))))):e}function lt(e){++ot,et.echoes&&0!=--et.echoes||(et.echoes=et.id=0),nt.push($e),pt(e,!0)}function ft(){var e=nt[nt.length-1];nt.pop(),pt(e,!1)}function pt(e,t){var n=$e;if((t?!et.echoes||rt++&&e===$e:!rt||--rt&&e===$e)||yt(t?lt.bind(null,e):ft),e!==$e&&($e=e,n===De&&(De.env=dt()),xe)){var r=De.env.Promise,o=e.env;ge.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(u,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function dt(){var e=u.Promise;return xe?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ge.then,gthen:e.prototype.then}:{}}function ht(e,t,n,r,o){var i=$e;try{return pt(e,!0),t(n,r,o)}finally{pt(i,!1)}}function yt(e){Se.call(me,e)}function vt(e,t,n,r){return"function"!=typeof e?e:function(){var o=$e;n&&ut(),pt(t,!0);try{return e.apply(this,arguments)}finally{pt(o,!1),r&&yt(st)}}}function bt(e,t){return function(n,r){return e.call(this,vt(n,t),vt(r,t))}}function mt(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(u.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),l(r,o)):u.CustomEvent&&l(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&u.dispatchEvent&&(dispatchEvent(r),!u.PromiseRejectionEvent&&u.onunhandledrejection))try{u.onunhandledrejection(r)}catch(e){}V&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}-1===(""+Se).indexOf("[native code]")&&(ut=st=se);var gt=Le.reject;function wt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||$e.letThrough||e._vip)){var o=e._createTransaction(t,n,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===re.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>wt(e,t,n,r)))):gt(o)}return o._promise(t,((e,t)=>at((()=>($e.trans=o,r(e,t,o)))))).then((e=>o._completion.then((()=>e))))}if(e._state.openComplete)return gt(new ie.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return gt(new ie.DatabaseClosed);e.open().catch(se)}return e._state.dbReadyPromise.then((()=>wt(e,t,n,r)))}const St=String.fromCharCode(65535),Ot="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",xt=[],Et="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),_t=Et,jt=Et,kt=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function At(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Pt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=R(t))[e],t)}class It{_trans(e,t,n){const r=this._tx||$e.trans,o=this.name;function i(e,n,r){if(!r.schema[o])throw new ie.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}const a=Ze();try{return r&&r.db===this.db?r===$e.trans?r._promise(e,i,n):at((()=>r._promise(e,i,n)),{trans:r,transless:$e.transless||$e}):wt(this.db,e,[this.name],i)}finally{a&&Ye()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(c(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=s(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==St)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&V&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,o=this.db._deps.indexedDB;function i(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}const[a,u]=t.reduce((([t,n],o)=>{const a=r[o],u=e[o];return[t||a,t||!a?At(n,a&&a.multi?e=>{const t=k(e,o);return c(t)&&t.some((e=>i(u,e)))}:e=>i(u,k(e,o))):n]}),[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(u):n?this.filter(u):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,c(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(d(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){l(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=Ct(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]}))).then((e=>e.numFailures?Le.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{A(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||c(e))return this.where(":id").equals(e).modify(t);{const n=k(e,this.schema.primKey.keyPath);if(void 0===n)return gt(new ie.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?s(t).forEach((n=>{A(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let o=e;return r&&n&&(o=Ct(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Le.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{A(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Le.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Pt}))).then((e=>e.numFailures?Le.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let u=i&&n?e.map(Ct(i)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:u,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new ne(`${this.name}.bulkAdd(): ${e} of ${a} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,o=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let u=i&&n?e.map(Ct(i)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:u,wantResults:o}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return o?t:n;throw new ne(`${this.name}.bulkPut(): ${e} of ${a} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new ne(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Tt(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return a(e);r||(r=ye),o||(o=se);var i={subscribers:[],fire:o,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,o)}};return t[e]=n[e]=i,i}function a(e){s(e).forEach((function(t){var n=e[t];if(c(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new ie.InvalidArgument("Invalid event config");var r=i(t,ce,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){E((function(){e.apply(null,t)}))}))}))}}))}}function Dt(e,t){return b(t).from({prototype:e}),t}function $t(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Rt(e,t){e.filter=At(e.filter,t)}function Nt(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>At(r(),t()):t,e.justLimit=n&&!r}function Mt(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new ie.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Lt(e,t,n){const r=Mt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Ut(e,t,n,r){const o=e.replayFilter?At(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(e,n,r)=>{if(!o||o(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),d(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Bt(Lt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Bt(Lt(e,r,n),At(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Bt(e,t,n,r){var o=Je(r?(e,t,o)=>n(r(e),t,o):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=se}),(t=>{e.fail(t),n=se}))||o(e.value,e,(e=>n=e)),n()}))}))}function zt(e,t){try{const n=Ft(e),r=Ft(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let n=0;n<o;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Kt(e),Kt(t));case"Array":return function(e,t){const n=e.length,r=t.length,o=n<r?n:r;for(let n=0;n<o;++n){const r=zt(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Ft(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=L(e);return"ArrayBuffer"===n?"binary":n}function Kt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Vt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,gt.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,gt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=At(t.algorithm,e)}_iterate(e,t){return Ut(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&l(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Ut(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if($t(t,!0))return n.count({trans:e,query:{index:Mt(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Ut(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){var n=i(e,o),r=i(t,o);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(u)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&$t(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Mt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return Ut(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,$t(t)?Nt(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Nt(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Nt(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Rt(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Rt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=At(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&$t(t,!0)&&t.limit>0)return this._read((e=>{var n=Mt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Rt(this._ctx,(function(e){var t=e.primaryKey.toString(),r=d(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var o=s(e),i=o.length;r=function(t){for(var n=!1,r=0;r<i;++r){var a=o[r],u=e[a];k(t,a)!==u&&(A(t,a,u),n=!0)}return n}}const a=t.table.core,{outbound:u,extractKey:c}=a.schema.primaryKey,l=this.db._options.modifyChunkSize||200,f=[];let p=0;const d=[],h=(e,t)=>{const{failures:n,numFailures:r}=t;p+=e-r;for(let e of s(n))f.push(n[e])};return this.clone().primaryKeys().then((o=>{const i=s=>{const f=Math.min(l,o.length-s);return a.getMany({trans:n,keys:o.slice(s,s+f),cache:"immutable"}).then((p=>{const d=[],y=[],v=u?[]:null,b=[];for(let e=0;e<f;++e){const t=p[e],n={value:R(t),primKey:o[s+e]};!1!==r.call(n,n.value,n)&&(null==n.value?b.push(o[s+e]):u||0===zt(c(t),c(n.value))?(y.push(n.value),u&&v.push(o[s+e])):(b.push(o[s+e]),d.push(n.value)))}const m=$t(t)&&t.limit===1/0&&("function"!=typeof e||e===qt)&&{index:t.index,range:t.range};return Promise.resolve(d.length>0&&a.mutate({trans:n,type:"add",values:d}).then((e=>{for(let t in e.failures)b.splice(parseInt(t),1);h(d.length,e)}))).then((()=>(y.length>0||m&&"object"==typeof e)&&a.mutate({trans:n,type:"put",keys:v,values:y,criteria:m,changeSpec:"function"!=typeof e&&e}).then((e=>h(y.length,e))))).then((()=>(b.length>0||m&&e===qt)&&a.mutate({trans:n,type:"delete",keys:b,criteria:m}).then((e=>h(b.length,e))))).then((()=>o.length>s+f&&i(s+l)))}))};return i(0).then((()=>{if(f.length>0)throw new te("Error modifying one or more objects",f,p,d);return o.length}))}))}))}delete(){var e=this._ctx,t=e.range;return $t(e)&&(e.isPrimKey&&!jt||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((({failures:e,lastResult:n,results:r,numFailures:o})=>{if(o)throw new te("Could not delete some values",Object.keys(e).map((t=>e[t])),t-o);return t-o}))))})):this.modify(qt)}}const qt=(e,t)=>t.value=null;function Ht(e,t){return e<t?-1:e===t?0:1}function Wt(e,t){return e>t?-1:e===t?0:1}function Gt(e,t,n){var r=e instanceof en?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Zt(e){return new e.Collection(e,(()=>Jt(""))).limit(0)}function Yt(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return o(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):o(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;o(e[s],c)<0&&(u=s)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function Xt(e,t,n,r){var o,i,a,u,s,c,l,f=n.length;if(!n.every((e=>"string"==typeof e)))return Gt(e,"String expected.");function p(e){o=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),a="next"===e?Ht:Wt;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),s=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}p("next");var d=new e.Collection(e,(()=>Qt(u[0],s[f-1]+r)));d._ondirectionchange=function(e){p(e)};var h=0;return d._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var p=i(o);if(t(p,s,h))return!0;for(var d=null,y=h;y<f;++y){var v=Yt(o,p,u[y],s[y],a,c);null===v&&null===d?h=y+1:(null===d||a(d,v)>0)&&(d=v)}return n(null!==d?function(){e.continue(d+l)}:r),!1})),d}function Qt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Jt(e){return{type:1,lower:e,upper:e}}class en{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Zt(this):new this.Collection(this,(()=>Qt(e,t,!n,!r)))}catch(e){return Gt(this,Ot)}}equals(e){return null==e?Gt(this,Ot):new this.Collection(this,(()=>Jt(e)))}above(e){return null==e?Gt(this,Ot):new this.Collection(this,(()=>Qt(e,void 0,!0)))}aboveOrEqual(e){return null==e?Gt(this,Ot):new this.Collection(this,(()=>Qt(e,void 0,!1)))}below(e){return null==e?Gt(this,Ot):new this.Collection(this,(()=>Qt(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Gt(this,Ot):new this.Collection(this,(()=>Qt(void 0,e)))}startsWith(e){return"string"!=typeof e?Gt(this,"String expected."):this.between(e,e+St,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Xt(this,((e,t)=>0===e.indexOf(t[0])),[e],St)}equalsIgnoreCase(e){return Xt(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=F.apply(z,arguments);return 0===e.length?Zt(this):Xt(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=F.apply(z,arguments);return 0===e.length?Zt(this):Xt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,St)}anyOf(){const e=F.apply(z,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Gt(this,Ot)}if(0===e.length)return Zt(this);const n=new this.Collection(this,(()=>Qt(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,o,i)=>{const a=n.key;for(;t(a,e[r])>0;)if(++r,r===e.length)return o(i),!1;return 0===t(a,e[r])||(o((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=F.apply(z,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Gt(this,Ot)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,o=this._descending,i=this._min,a=this._max;if(0===e.length)return Zt(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);const u=!t||!1!==t.includeLowers,s=t&&!0===t.includeUppers;let c,l=r;function f(e,t){return l(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,o=e.length;for(;r<o;++r){const o=e[r];if(n(t[0],o[1])<0&&n(t[1],o[0])>0){o[0]=i(o[0],t[0]),o[1]=a(o[1],t[1]);break}}return r===o&&e.push(t),e}),[]),c.sort(f)}catch(e){return Gt(this,Ot)}let p=0;const d=s?e=>r(e,c[p][1])>0:e=>r(e,c[p][1])>=0,h=u?e=>o(e,c[p][0])>0:e=>o(e,c[p][0])>=0;let y=d;const v=new this.Collection(this,(()=>Qt(c[0][0],c[c.length-1][1],!u,!s)));return v._ondirectionchange=e=>{"next"===e?(y=d,l=r):(y=h,l=o),c.sort(f)},v._addAlgorithm(((e,t,n)=>{for(var o=e.key;y(o);)if(++p,p===c.length)return t(n),!1;return!!function(e){return!d(e)&&!h(e)}(o)||(0===this._cmp(o,c[p][1])||0===this._cmp(o,c[p][0])||t((()=>{l===r?e.continue(c[p][0]):e.continue(c[p][1])})),!1)})),v}startsWithAnyOf(){const e=F.apply(z,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Zt(this):this.inAnyRange(e.map((e=>[e,e+St]))):Gt(this,"startsWithAnyOf() only works with strings")}}function tn(e){return Je((function(t){return nn(t),e(t.target.error),!1}))}function nn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const rn=Tt(null,"storagemutated");class on{_lock(){return x(!$e.global),++this._reculock,1!==this._reculock||$e.global||($e.lockOwnerFor=this),this}_unlock(){if(x(!$e.global),0==--this._reculock)for($e.global||($e.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ht(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&$e.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(x(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(n);case"MissingAPIError":throw new ie.MissingAPI(n.message,n);default:throw new ie.OpenFailed(n)}if(!this.active)throw new ie.TransactionInactive;return x(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Je((t=>{nn(t),this._reject(e.error)})),e.onabort=Je((t=>{nn(t),this.active&&this._reject(new ie.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Je((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&rn.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return gt(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new ie.TransactionInactive);if(this._locked())return new Le(((r,o)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,o)},$e])}));if(n)return at((()=>{var e=new Le(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Le(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Le.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new Le(((e,r)=>{n.then((n=>t._waitingQueue.push(Je(e.bind(null,n)))),(e=>t._waitingQueue.push(Je(r.bind(null,e))))).finally((()=>{t._waitingFor===o&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(d(t,e))return t[e];const n=this.schema[e];if(!n)throw new ie.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function an(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+un(t)}}function un(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function sn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:j(n,(e=>[e.name,e]))}}let cn=e=>{try{return e.only([[]]),cn=()=>[[]],[[]]}catch(e){return cn=()=>St,St}};function ln(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>k(t,e)}(e):t=>k(t,e)}function fn(e){return[].slice.call(e)}let pn=0;function dn(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function hn(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:o,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!o):t.bound(n,r,!!o,!!i)}const{schema:o,hasGetAll:i}=function(e,t){const n=fn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=c(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:ln(t)},indexes:fn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:o}=e,a={name:t,compound:c(o),keyPath:o,unique:n,multiEntry:r,extractKey:ln(o)};return i[dn(o)]=a,a})),getIndexByKeyPath:e=>i[dn(e)]};return i[":id"]=a.primaryKey,null!=t&&(i[dn(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=o.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:o,values:i,range:a}){return new Promise(((u,s)=>{u=Je(u);const c=e.objectStore(t),l=null==c.keyPath,f="put"===n||"add"===n;if(!f&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:p}=o||i||{length:1};if(o&&i&&o.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return u({numFailures:0,failures:{},results:[],lastResult:void 0});let d;const h=[],y=[];let v=0;const b=e=>{++v,nn(e)};if("deleteRange"===n){if(4===a.type)return u({numFailures:v,failures:y,results:[],lastResult:void 0});3===a.type?h.push(d=c.clear()):h.push(d=c.delete(r(a)))}else{const[e,t]=f?l?[i,o]:[i,null]:[o,null];if(f)for(let r=0;r<p;++r)h.push(d=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),d.onerror=b;else for(let t=0;t<p;++t)h.push(d=c[n](e[t])),d.onerror=b}const m=e=>{const t=e.target.result;h.forEach(((e,t)=>null!=e.error&&(y[t]=e.error))),u({numFailures:v,failures:y,results:"delete"===n?o:h.map((e=>e.result)),lastResult:t})};d.onerror=e=>{b(e),m(e)},d.onsuccess=m}))},getMany:({trans:e,keys:n})=>new Promise(((r,o)=>{r=Je(r);const i=e.objectStore(t),a=n.length,u=new Array(a);let s,c=0,l=0;const f=e=>{const t=e.target;u[t._pos]=t.result,++l===c&&r(u)},p=tn(o);for(let e=0;e<a;++e)null!=n[e]&&(s=i.get(n[e]),s._pos=e,s.onsuccess=f,s.onerror=p,++c);0===c&&r(u)})),get:({trans:e,key:n})=>new Promise(((r,o)=>{r=Je(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=tn(o)})),query:function(e){return n=>new Promise(((o,i)=>{o=Je(o);const{trans:a,values:u,limit:s,query:c}=n,l=s===1/0?void 0:s,{index:f,range:p}=c,d=a.objectStore(t),h=f.isPrimaryKey?d:d.index(f.name),y=r(p);if(0===s)return o({result:[]});if(e){const e=u?h.getAll(y,l):h.getAllKeys(y,l);e.onsuccess=e=>o({result:e.target.result}),e.onerror=tn(i)}else{let e=0;const t=u||!("openKeyCursor"in h)?h.openCursor(y):h.openKeyCursor(y),n=[];t.onsuccess=r=>{const i=t.result;return i?(n.push(u?i.value:i.primaryKey),++e===s?o({result:n}):void i.continue()):o({result:n})},t.onerror=tn(i)}}))}(i),openCursor:function({trans:e,values:n,query:o,reverse:i,unique:a}){return new Promise(((u,s)=>{u=Je(u);const{index:c,range:l}=o,f=e.objectStore(t),p=c.isPrimaryKey?f:f.index(c.name),d=i?a?"prevunique":"prev":a?"nextunique":"next",h=n||!("openKeyCursor"in p)?p.openCursor(r(l),d):p.openKeyCursor(r(l),d);h.onerror=tn(s),h.onsuccess=Je((t=>{const n=h.result;if(!n)return void u(null);n.___id=++pn,n.done=!1;const r=n.continue.bind(n);let o=n.continuePrimaryKey;o&&(o=o.bind(n));const i=n.advance.bind(n),a=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Je(s),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Je(e),h.onerror=tn(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=a,e(t)}})),u=()=>{if(h.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return h.onsuccess=Je((e=>{h.onsuccess=u,u()})),n.continue=r,n.continuePrimaryKey=o,n.advance=i,u(),t},u(n)}),s)}))},count({query:e,trans:n}){const{index:o,range:i}=e;return new Promise(((e,a)=>{const u=n.objectStore(t),s=o.isPrimaryKey?u:u.index(o.name),c=r(i),l=c?s.count(c):s.count();l.onsuccess=Je((t=>e(t.target.result))),l.onerror=tn(a)}))}}}(e))),u={};return a.forEach((e=>u[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!u[e])throw new Error(`Table '${e}' not found`);return u[e]},MIN_KEY:-1/0,MAX_KEY:cn(t),schema:o}}function yn({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},o){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(hn(t,n,o),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function vn({_novip:e},t,n,r){n.forEach((n=>{const o=r[n];t.forEach((t=>{const r=g(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?v(t,n,{get(){return this.table(n)},set(e){y(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function bn({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function mn(e,t){return e._cfg.version-t._cfg.version}function gn(e,t,n,r){const o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);const a=i._reject.bind(i),u=$e.transless||$e;at((()=>{$e.trans=i,$e.transless=u,0===t?(s(o).forEach((e=>{Sn(n,e,o[e].primKey,o[e].indexes)})),yn(e,n),Le.follow((()=>e.on.populate.fire(i))).catch(a)):function({_novip:e},t,n,r){const o=[],i=e._versions;let a=e._dbSchema=xn(0,e.idbdb,r),u=!1;return i.filter((e=>e._cfg.version>=t)).forEach((i=>{o.push((()=>{const o=a,c=i._cfg.dbschema;En(e,o,r),En(e,c,r),a=e._dbSchema=c;const l=wn(o,c);l.add.forEach((e=>{Sn(r,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((e=>{if(e.recreate)throw new ie.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>On(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),On(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const f=i._cfg.contentUpgrade;if(f&&i._cfg.version>t){yn(e,r),n._memoizedTables={},u=!0;let t=P(c);l.del.forEach((e=>{t[e]=o[e]})),bn(e,[e.Transaction.prototype]),vn(e,[e.Transaction.prototype],s(t),t),n.schema=t;const i=K(f);let a;i&&ut();const p=Le.follow((()=>{if(a=f(n),a&&i){var e=st.bind(null,null);a.then(e,e)}}));return a&&"function"==typeof a.then?Le.resolve(a):p.then((()=>a))}})),o.push((t=>{u&&_t||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(i._cfg.dbschema,t),bn(e,[e.Transaction.prototype]),vn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return o.length?Le.resolve(o.shift()(n.idbtrans)).then(e):Le.resolve()}().then((()=>{var e,t;t=r,s(e=a).forEach((n=>{t.db.objectStoreNames.contains(n)||Sn(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}function wn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const o=e[r],i=t[r];if(o){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Et)e.recreate=!0,n.change.push(e);else{const t=o.idxByName,r=i.idxByName;let a;for(a in t)r[a]||e.del.push(a);for(a in r){const n=t[a],o=r[a];n?n.src!==o.src&&e.change.push(o):e.add.push(o)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function Sn(e,t,n,r){const o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>On(o,e))),o}function On(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function xn(e,t,n){const r={};return S(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let o=t.keyPath;const i=an(un(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);o=n.keyPath;var u=an(n.name,o,!!n.unique,!!n.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(u)}r[e]=sn(e,i,a)})),r}function En({_novip:e},t,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(let e=0;e<a.indexNames.length;++e){const n=a.indexNames[e],r=a.index(n).keyPath,o="string"==typeof r?r:"["+S(r).join("+")+"]";if(t[i]){const e=t[i].idxByName[o];e&&(e.name=n,delete t[i].idxByName[o],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class _n{_parseStoresSpec(e,t){s(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return an(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),c(r),0===t)})),o=r.shift();if(o.multi)throw new ie.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")})),t[n]=sn(n,o,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,e):e;const n=t._versions,r={};let o={};return n.forEach((e=>{l(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,bn(t,[t._allTables,t,t.Transaction.prototype]),vn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],s(o),o),t._storeNames=s(o),this}upgrade(e){return this._cfg.contentUpgrade=ve(this._cfg.contentUpgrade||se,e),this}}function jn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Wn("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function kn(e){return e&&"function"==typeof e.databases}function An(e){return at((function(){return $e.letThrough=!0,e()}))}function Pn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Cn(e){var t=t=>e.next(t),n=o(t),r=o((t=>e.throw(t)));function o(e){return t=>{var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):c(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()}function In(e,t,n){var r=arguments.length;if(r<2)throw new ie.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[e,I(o),n]}function Tn(e,t,n,r,o){return Le.resolve().then((()=>{const i=$e.transless||$e,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===re.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Tn(e,t,n,null,o)))):gt(r)}const s=K(o);let c;s&&ut();const l=Le.follow((()=>{if(c=o.call(a,a),c)if(s){var e=st.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Cn(c))}),u);return(c&&"function"==typeof c.then?Le.resolve(c).then((e=>a.active?e:gt(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>c))).then((e=>(r&&a._resolve(),a._completion.then((()=>e))))).catch((e=>(a._reject(e),gt(e))))}))}function Dn(e,t,n){const r=c(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const $n={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,o={},i=[];function a(e,t,n){const r=dn(e),u=o[r]=o[r]||[],s=null==e?0:"string"==typeof e?1:e.length,c=t>0,l={...n,isVirtual:c,keyTail:t,keyLength:s,extractKey:ln(e),unique:!c&&n.unique};return u.push(l),l.isPrimaryKey||i.push(l),s>1&&a(2===s?e[0]:e.slice(0,s-1),t+1,n),u.sort(((e,t)=>e.keyTail-t.keyTail)),l}const u=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[u];for(const e of r.indexes)a(e.keyPath,0,e);function s(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,o=n.keyTail,{type:1===r.type?2:r.type,lower:Dn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,o),lowerOpen:!0,upper:Dn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,o),upperOpen:!0})}}:t;var r,o}const c={...n,schema:{...r,primaryKey:u,indexes:i,getIndexByKeyPath:function(e){const t=o[dn(e)];return t&&t[0]}},count:e=>n.count(s(e)),query:e=>n.query(s(e)),openCursor(t){const{keyTail:r,isVirtual:o,keyLength:i}=t.query.index;return o?n.openCursor(s(t)).then((n=>n&&function(n){const o=Object.create(n,{continue:{value:function(o){null!=o?n.continue(Dn(o,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,o){n.continuePrimaryKey(Dn(t,e.MAX_KEY,r),o)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return o}(n))):n.openCursor(t)}};return c}}}};function Rn(e,t,n,r){return n=n||{},r=r||"",s(e).forEach((o=>{if(d(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){const e=L(i);e!==L(a)?n[r+o]=t[o]:"Object"===e?Rn(i,a,n,r+o+"."):i!==a&&(n[r+o]=t[o])}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),s(t).forEach((o=>{d(e,o)||(n[r+o]=t[o])})),n}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,o={...n,mutate(e){const o=$e.trans,{deleting:i,creating:a,updating:u}=o.table(t).hook;switch(e.type){case"add":if(a.fire===se)break;return o._promise("readwrite",(()=>s(e)),!0);case"put":if(a.fire===se&&u.fire===se)break;return o._promise("readwrite",(()=>s(e)),!0);case"delete":if(i.fire===se)break;return o._promise("readwrite",(()=>s(e)),!0);case"deleteRange":if(i.fire===se)break;return o._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function s(e){const t=$e.trans,o=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:o}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,o).then((s=>{const c=o.map(((n,o)=>{const c=s[o],l={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(l,n,c,t);else if("add"===e.type||void 0===c){const i=a.fire.call(l,n,e.values[o],t);null==n&&null!=i&&(n=i,e.keys[o]=n,r.outbound||A(e.values[o],r.keyPath,n))}else{const r=Rn(c,e.values[o]),i=u.fire.call(l,r,n,c,t);if(i){const t=e.values[o];Object.keys(i).forEach((e=>{d(t,e)?t[e]=i[e]:A(t,e,i[e])}))}}return l}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<o.length;++r){const i=n?n[r]:o[r],a=c[r];null==i?a.onerror&&a.onerror(t[r]):a.onsuccess&&a.onsuccess("put"===e.type&&s[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,o){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:o}).then((({result:n})=>s({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<o?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},o)))))}}};return o}})};function Mn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let o=0,i=0;o<t.keys.length&&i<e.length;++o)0===zt(t.keys[o],e[i])&&(r.push(n?R(t.values[o]):t.values[o]),++i);return r.length===e.length?r:null}catch(e){return null}}const Ln={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Mn(e.keys,e.trans._cache,"clone"===e.cache);return t?Le.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?R(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Un(e){return!("from"in e)}const Bn=function(e,t){if(!this){const t=new Bn;return e&&"d"in e&&l(t,e),t}l(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function zn(e,t,n){const r=zt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Un(e))return l(e,{from:t,to:n,d:1});const o=e.l,i=e.r;if(zt(n,e.from)<0)return o?zn(o,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Vn(e);if(zt(t,e.to)>0)return i?zn(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Vn(e);zt(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),zt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;o&&!e.l&&Fn(e,o),i&&a&&Fn(e,i)}function Fn(e,t){Un(t)||function e(t,{from:n,to:r,l:o,r:i}){zn(t,n,r),o&&e(t,o),i&&e(t,i)}(e,t)}function Kn(e){let t=Un(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&zt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||zt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Vn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const t="r"===o?"l":"r",n={...e},r=e[o];e.from=r.from,e.to=r.to,e[o]=r[o],n[o]=r[t],e[t]=n,n.d=qn(n)}e.d=qn(e)}function qn({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}h(Bn.prototype,{add(e){return Fn(this,e),this},addKey(e){return zn(this,e,e),this},addKeys(e){return e.forEach((e=>zn(this,e,e))),this},[U](){return Kn(this)}});const Hn={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Bn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const o=e.table(r),{schema:i}=o,{primaryKey:a}=i,{extractKey:u,outbound:l}=a,f={...o,mutate:e=>{const a=e.trans,u=a.mutatedParts||(a.mutatedParts={}),s=e=>{const n=`idb://${t}/${r}/${e}`;return u[n]||(u[n]=new Bn)},l=s(""),f=s(":dels"),{type:p}=e;let[d,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const y=e.trans._cache;return o.mutate(e).then((e=>{if(c(d)){"delete"!==p&&(d=e.results),l.addKeys(d);const t=Mn(d,y);t||"add"===p||f.addKeys(d),(t||h)&&function(e,t,n,r){t.indexes.forEach((function(t){const o=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&c(e)?e.forEach((e=>o.addKey(e))):o.addKey(e);(n||r).forEach(((e,t)=>{const o=n&&i(n[t]),u=r&&i(r[t]);0!==zt(o,u)&&(null!=o&&a(o),null!=u&&a(u))}))}))}(s,i,t,h)}else if(d){const e={from:d.lower,to:d.upper};f.add(e),l.add(e)}else l.add(n),f.add(n),i.indexes.forEach((e=>s(e.name).add(n)));return e}))}},p=({query:{index:t,range:n}})=>{var r,o;return[t,new Bn(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(o=n.upper)&&void 0!==o?o:e.MAX_KEY)]},d={get:e=>[a,new Bn(e.key)],getMany:e=>[a,(new Bn).addKeys(e.keys)],count:p,query:p,openCursor:p};return s(d).forEach((e=>{f[e]=function(i){const{subscr:a}=$e;if(a){const s=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new Bn)},c=s(""),f=s(":dels"),[p,h]=d[e](i);if(s(p.name||"").add(h),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&i.values&&o.query({...i,values:!1});return o[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&i.values)return t.then((({result:e})=>(c.addKeys(e),n)));const e=i.values?n.result.map(u):n.result;i.values?c.addKeys(e):f.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(f.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return f.addKey(t),t}},value:{get:()=>(t&&c.addKey(e.primaryKey),e.value)}})}return n}))}f.add(n)}}return o[e].apply(this,arguments)}})),f}}}};class Wn{constructor(e,t){this._middlewares={},this.verno=0;const n=Wn.dependencies;this._options=t={addons:Wn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;o.dbReadyPromise=new Le((e=>{o.dbReadyResolve=e})),o.openCanceller=new Le(((e,t)=>{o.cancelOpen=t})),this._state=o,this.name=e,this.on=Tt(this,"populate","blocked","versionchange","close",{ready:[ve,se]}),this.on.ready.subscribe=O(this.on.ready.subscribe,(e=>(t,n)=>{Wn.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Le.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,Dt(Vt.prototype,(function(e,t){this.db=i;let n=Pt,r=null;if(t)try{n=t()}catch(e){r=e}const o=e._ctx,a=o.table,u=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:u!==ce?u:null}}))),this.Table=function(e){return Dt(It.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Tt(null,{creating:[pe,se],reading:[le,ce],updating:[he,se],deleting:[de,se]})}))}(this),this.Transaction=function(e){return Dt(on.prototype,(function(t,n,r,o,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Tt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Le(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),gt(e)}))}))}(this),this.Version=function(e){return Dt(_n.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Dt(en.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const o=e._deps.indexedDB;if(!o)throw new ie.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(e,t)=>o.cmp(t,e),this._max=(e,t)=>o.cmp(e,t)>0?e:t,this._min=(e,t)=>o.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=cn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),xt.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use($n),this.use(Nn),this.use(Hn),this.use(Ln),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new ie.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(mn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||$e.letThrough||this._vip)?e():new Le(((e,t)=>{if(this._state.openComplete)return t(new ie.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new ie.DatabaseClosed);this.open().catch(se)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:t,level:null==n?10:n,name:r}),o.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?gt(t.dbOpenError):e));V&&(t.openCanceller._stackHolder=G()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new ie.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,a=null,u=!1;return Le.race([r,("undefined"==typeof navigator?Le.resolve():Pn()).then((()=>new Le(((r,i)=>{if(o(),!n)throw new ie.MissingAPI;const c=e.name,l=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!l)throw new ie.MissingAPI;l.onerror=tn(i),l.onblocked=Je(e._fireOnBlocked),l.onupgradeneeded=Je((r=>{if(a=l.transaction,t.autoSchema&&!e._options.allowEmptyDB){l.onerror=nn,a.abort(),l.result.close();const e=n.deleteDatabase(c);e.onsuccess=e.onerror=Je((()=>{i(new ie.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{a.onerror=tn(i);var o=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=o<1,e._novip.idbdb=l.result,gn(e,o/10,a,i)}}),i),l.onsuccess=Je((()=>{a=null;const n=e._novip.idbdb=l.result,o=S(n.objectStoreNames);if(o.length>0)try{const r=n.transaction(1===(i=o).length?i[0]:i,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=xn(0,t,n);e._storeNames=S(t.objectStoreNames,0),vn(e,[e._allTables],s(r),r)}(e,n,r):(En(e,e._dbSchema,r),function(e,t){const n=wn(xn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),yn(e,r)}catch(e){}var i;xt.push(e),n.onversionchange=Je((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Je((t=>{e.on("close").fire(t)})),u&&function({indexedDB:e,IDBKeyRange:t},n){!kn(e)&&"__dbnames"!==n&&jn(e,t).put({name:n}).catch(se)}(e._deps,c),r()}),i)}))))]).then((()=>(o(),t.onReadyBeingFired=[],Le.resolve(An((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(ve,se);return t.onReadyBeingFired=[],Le.resolve(An((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{a&&a.abort()}catch(e){}return r===t.openCanceller&&e._close(),gt(n)})).finally((()=>{t.openComplete=!0,i()}))}(this)}_close(){const e=this._state,t=xt.indexOf(this);if(t>=0&&xt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Le((t=>{e.dbReadyResolve=t})),e.openCanceller=new Le(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ie.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Le(((n,r)=>{const o=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Je((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!kn(e)&&"__dbnames"!==n&&jn(e,t).delete(n).catch(se)}(this._deps,this.name),n()})),e.onerror=tn(r),e.onblocked=this._fireOnBlocked};if(e)throw new ie.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(o):o()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return s(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=In.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=$e.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const o=-1!==e.indexOf("?");let i,a;e=e.replace("!","").replace("?","");try{if(a=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)i="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new ie.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(r){if("readonly"===r.mode&&"readwrite"===i){if(!o)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&a.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new ie.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):gt(e)}const u=Tn.bind(null,this,i,a,r,n);return r?r._promise(i,u,"lock"):$e.trans?ht($e.transless,(()=>this._whenReady(u))):this._whenReady(u)}table(e){if(!d(this._allTables,e))throw new ie.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Gn="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Gn](){return this}}function Yn(e,t){return s(t).forEach((n=>{Fn(e[n]||(e[n]=new Bn),t[n])})),e}let Xn;try{Xn={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch(u){Xn={indexedDB:null,IDBKeyRange:null}}const Qn=Wn;function Jn(e){let t=er;try{er=!0,rn.storagemutated.fire(e)}finally{er=t}}h(Qn,{...ue,delete:e=>new Qn(e,{addons:[]}).delete(),exists:e=>new Qn(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return kn(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):jn(e,t).toCollection().primaryKeys()}(Qn.dependencies).then(e)}catch(e){return gt(new ie.MissingAPI)}},defineClass:()=>function(e){l(this,e)},ignoreTransaction:e=>$e.trans?ht($e.transless,e):e(),vip:An,async:function(e){return function(){try{var t=Cn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Le.resolve(t)}catch(e){return gt(e)}}},spawn:function(e,t,n){try{var r=Cn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Le.resolve(r)}catch(e){return gt(e)}},currentTransaction:{get:()=>$e.trans||null},waitFor:function(e,t){const n=Le.resolve("function"==typeof e?Qn.ignoreTransaction(e):e).timeout(t||6e4);return $e.trans?$e.trans.waitFor(n):n},Promise:Le,debug:{get:()=>V,set:e=>{q(e,"dexie"===e?()=>!0:kt)}},derive:b,extend:l,props:h,override:O,Events:Tt,on:rn,liveQuery:function(e){return new Zn((t=>{const n=K(e);let r=!1,o={},i={};const a={get closed(){return r},unsubscribe:()=>{r=!0,rn.storagemutated.unsubscribe(f)}};t.start&&t.start(a);let u=!1,c=!1;function l(){return s(i).some((e=>o[e]&&function(e,t){const n=Kn(t);let r=n.next();if(r.done)return!1;let o=r.value;const i=Kn(e);let a=i.next(o.from),u=a.value;for(;!r.done&&!a.done;){if(zt(u.from,o.to)<=0&&zt(u.to,o.from)>=0)return!0;zt(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}(o[e],i[e])))}const f=e=>{Yn(o,e),l()&&p()},p=()=>{if(u||r)return;o={};const s={},d=function(t){n&&ut();const r=()=>at(e,{subscr:t,trans:null}),o=$e.trans?ht($e.transless,r):r();return n&&o.then(st,st),o}(s);c||(rn("storagemutated",f),c=!0),u=!0,Promise.resolve(d).then((e=>{u=!1,r||(l()?p():(o={},i=s,t.next&&t.next(e)))}),(e=>{u=!1,t.error&&t.error(e),a.unsubscribe()}))};return p(),a}))},extendObservabilitySet:Yn,getByKeyPath:k,setByKeyPath:A,delByKeyPath:function(e,t){"string"==typeof t?A(e,t,void 0):"length"in t&&[].map.call(t,(function(t){A(e,t,void 0)}))},shallowClone:P,deepClone:R,getObjectDiff:Rn,cmp:zt,asap:E,minKey:-1/0,addons:[],connections:xt,errnames:re,dependencies:Xn,semVer:"3.2.3",version:"3.2.3".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Qn.maxKey=cn(Qn.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(rn("storagemutated",(e=>{if(!er){let t;Et?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),er=!0,dispatchEvent(t),er=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{er||Jn(e)})));let er=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");"function"==typeof e.unref&&e.unref(),rn("storagemutated",(t=>{er||e.postMessage(t)})),e.onmessage=e=>{e.data&&Jn(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){rn("storagemutated",(e=>{try{er||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&Jn(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Jn(e.changedParts)}))}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rr(e)}function or(e,t){return or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},or(e,t)}function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr(e);if(t){var o=rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?tr(e):t;var n}(this,n)}}Le.rejectionMapper=function(e,t){if(!e||e instanceof J||e instanceof TypeError||e instanceof SyntaxError||!e.name||!ae[e.name])return e;var n=new ae[e.name](t||e.message,e);return"stack"in e&&v(n,"stack",{get:function(){return this.inner.stack}}),n},q(V,kt);var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(n,e);var t=ir(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),nr(tr(e=t.call(this,"EsmOffline")),"syncQueue",void 0),nr(tr(e),"dynamicOfflineData",void 0),e.version(4).stores({syncQueue:"++id,userId,type,[userId+type]",dynamicOfflineData:"++id,type,identifier,*users,&[type+identifier]"}),e.syncQueue=e.table("syncQueue"),e.dynamicOfflineData=e.table("dynamicOfflineData"),e}return n}(Wn);function ur(){return new ar}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cr(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cr(i,r,o,a,u,"next",e)}function u(e){cr(i,r,o,a,u,"throw",e)}a(void 0)}))}}function fr(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var pr={};function dr(){return Object.values(pr)}function hr(e){pr[e.id]&&console.warn('[setupDynamicOfflineDataHandler] Another second handler with the ID "'.concat(e.id,'" was registered. This handler will override the previous one. This could be unintended as the previous handler might run different flows than the newly registered one. If this is the case, ensure that you are setting up the handlers with different IDs.')),pr[e.id]=e}function yr(e){return vr.apply(this,arguments)}function vr(){return(vr=lr((function(e){return fr(this,(function(t){switch(t.label){case 0:return[4,Ir()];case 1:return[4,br(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function br(e,t){return mr.apply(this,arguments)}function mr(){return(mr=lr((function(e,t){var n;return fr(this,(function(r){switch(r.label){case 0:return n=t?{type:t,users:e}:{users:e},[4,(new ar).dynamicOfflineData.where(n).toArray().catch(Wn.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function gr(e,t){return wr.apply(this,arguments)}function wr(){return(wr=lr((function(e,t){return fr(this,(function(n){switch(n.label){case 0:return[4,Ir()];case 1:return[4,Sr(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function Sr(e,t,n){return Or.apply(this,arguments)}function Or(){return Or=lr((function(e,t,n){var r,o;return fr(this,(function(i){switch(i.label){case 0:return[4,(r=new ar).dynamicOfflineData.get({type:t,identifier:n}).catch(Wn.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?[3,3]:[4,r.dynamicOfflineData.add({users:[e],type:t,identifier:n}).catch(Wn.errnames.DatabaseClosed)];case 2:return i.sent(),[3,5];case 3:return o.users.includes(e)?[3,5]:[4,r.dynamicOfflineData.update(o.id,{users:(a=o.users,function(e){if(Array.isArray(e))return sr(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e])}).catch(Wn.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}var a}))})),Or.apply(this,arguments)}function xr(e,t){return Er.apply(this,arguments)}function Er(){return(Er=lr((function(e,t){return fr(this,(function(n){switch(n.label){case 0:return[4,Ir()];case 1:return[4,_r(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function _r(e,t,n){return jr.apply(this,arguments)}function jr(){return jr=lr((function(e,t,n){var r,o;return fr(this,(function(i){switch(i.label){case 0:return[4,(r=new ar).dynamicOfflineData.get({type:t,identifier:n,users:e}).catch(Wn.errnames.DatabaseClosed,(function(){}))];case 1:return(o=i.sent())?o.users.length>1?[4,r.dynamicOfflineData.update(o.id,{users:o.users.filter((function(t){return t!==e}))}).catch(Wn.errnames.DatabaseClosed)]:[3,3]:[3,5];case 2:return i.sent(),[3,5];case 3:return[4,r.dynamicOfflineData.delete(o.id).catch(Wn.errnames.DatabaseClosed)];case 4:i.sent(),i.label=5;case 5:return[2]}}))})),jr.apply(this,arguments)}function kr(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=lr((function(e,t){var n;return fr(this,(function(r){switch(r.label){case 0:return[4,yr(e)];case 1:return n=r.sent(),[4,Promise.all(n.map((o=lr((function(e){return fr(this,(function(n){return[2,Pr(e.type,e.identifier,t)]}))})),function(e){return o.apply(this,arguments)})))];case 2:return r.sent(),[2]}var o}))})),Ar.apply(this,arguments)}function Pr(e,t,n){return Cr.apply(this,arguments)}function Cr(){return Cr=lr((function(e,t,n){var r,o,i,a,u,s,c,l,f;return fr(this,(function(p){switch(p.label){case 0:return[4,gr(e,t)];case 1:return p.sent(),r=new ar,[4,Ir()];case 2:return o=p.sent(),[4,r.dynamicOfflineData.get({type:e,identifier:t}).catch(Wn.errnames.DatabaseClosed,(function(){}))];case 3:return i=p.sent(),a=dr().filter((function(t){return t.type===e})),i?[4,Promise.all(a.map((d=lr((function(e){var r,o,i;return fr(this,(function(a){try{return e.sync(t,n),[2,{id:e.id,error:void 0}]}catch(t){return i=null!==(o=null===(r=t.message)||void 0===r?void 0:r.toString())&&void 0!==o?o:t.toString(),[2,{id:e.id,error:i}]}return[2]}))})),function(e){return d.apply(this,arguments)})))]:[2];case 4:return u=p.sent(),s=u.filter((function(e){return!e.error})).map((function(e){return e.id})),c=u.filter((function(e){return e.error})).map((function(e){return e.id})),l=u.filter((function(e){return e.error})).map((function(e){return{handlerId:e.id,message:e.error}})),f={syncedOn:new Date,syncedBy:o,succeededHandlers:s,erroredHandlers:c,errors:l},i.id?[4,r.dynamicOfflineData.update(i.id,{syncState:f}).catch(Wn.errnames.DatabaseClosed)]:[3,6];case 5:p.sent(),p.label=6;case 6:return[2]}var d}))})),Cr.apply(this,arguments)}function Ir(){return Tr.apply(this,arguments)}function Tr(){return(Tr=lr((function(){var e;return fr(this,(function(t){switch(t.label){case 0:return[4,(0,a.getLoggedInUser)()];case 1:if(!(e=t.sent().uuid))throw new Error("Using the dynamic offline data API requires a logged in user.");return[2,e]}}))}))).apply(this,arguments)}function Dr(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var $r=(0,i.createGlobalStore)("offline-patients",{offlinePatientDataSyncState:{},handlers:{}});function Rr(){return Ur(),$r}function Nr(e,t){Ur(),hr({type:"patient",displayName:t.displayName,id:e,isSynced:function(){return Promise.resolve(!0)},sync:function(e,n){return t.onOfflinePatientAdded({patientUuid:e,signal:null!=n?n:(new AbortController).signal})}})}function Mr(e){return Lr.apply(this,arguments)}function Lr(){return Lr=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dr(i,r,o,a,u,"next",e)}function u(e){Dr(i,r,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return Ur(),[4,Pr("patient",e)];case 1:return t.sent(),[2]}}))})),Lr.apply(this,arguments)}function Ur(){console.warn("The offline patient API has been deprecated and will be removed in a future release. To prevent future crashes, the functions remain available for the moment, but any invocations should be migrated ASAP.")}try{self["workbox:window:6.5.3"]&&_()}catch(c){}function Br(e,t){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[r.port2])}))}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}try{self["workbox:core:6.5.3"]&&_()}catch(c){}var Fr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};function Kr(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var Vr=function(e,t){this.type=e,Object.assign(this,t)};function qr(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Hr(){}var Wr={type:"SKIP_WAITING"};function Gr(e,t){if(!t)return e&&e.then?e.then(Hr):Promise.resolve()}!function(e){var t,n;function r(t,n){var r,o;return void 0===n&&(n={}),(r=e.call(this)||this).nn={},r.tn=0,r.rn=new Fr,r.en=new Fr,r.on=new Fr,r.un=0,r.an=new Set,r.cn=function(){var e=r.fn,t=e.installing;r.tn>0||!Kr(t.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=t,e.removeEventListener("updatefound",r.cn)):(r.hn=t,r.an.add(t),r.rn.resolve(t)),++r.tn,t.addEventListener("statechange",r.ln)},r.ln=function(e){var t=r.fn,n=e.target,o=n.state,i=n===r.vn,a={sw:n,isExternal:i,originalEvent:e};!i&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new Vr(o,a)),"installed"===o?r.wn=self.setTimeout((function(){"installed"===o&&t.waiting===n&&r.dispatchEvent(new Vr("waiting",a))}),200):"activating"===o&&(clearTimeout(r.wn),i||r.en.resolve(n))},r.dn=function(e){var t=r.hn,n=t!==navigator.serviceWorker.controller;r.dispatchEvent(new Vr("controlling",{isExternal:n,originalEvent:e,sw:t,isUpdate:r.mn})),n||r.on.resolve(t)},r.gn=(o=function(e){var t=e.data,n=e.ports,o=e.source;return qr(r.getSW(),(function(){r.an.has(o)&&r.dispatchEvent(new Vr("message",{data:t,originalEvent:e,ports:n,sw:o}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(o.apply(this,e))}catch(e){return Promise.reject(e)}}),r.sn=t,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,i=r.prototype;i.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var r=this;return function(e,t){var n=e();return n&&n.then?n.then(t):t()}((function(){if(!n&&"complete"!==document.readyState)return Gr(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),qr(r.bn(),(function(e){r.fn=e,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var t=r.fn.waiting;return t&&Kr(t.scriptURL,r.sn.toString())&&(r.hn=t,Promise.resolve().then((function(){r.dispatchEvent(new Vr("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(e){return Promise.reject(e)}},i.update=function(){try{return this.fn?Gr(this.fn.update()):void 0}catch(e){return Promise.reject(e)}},i.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},i.messageSW=function(e){try{return qr(this.getSW(),(function(t){return Br(t,e)}))}catch(e){return Promise.reject(e)}},i.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Br(this.fn.waiting,Wr)},i.pn=function(){var e=navigator.serviceWorker.controller;return e&&Kr(e.scriptURL,this.sn.toString())?e:void 0},i.bn=function(){try{var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return qr(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,o)}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this.Sn(e).add(t)},t.removeEventListener=function(e,t){this.Sn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.Sn(e.type));!(t=n()).done;)(0,t.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}());var Zr=void 0;function Yr(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Xr(e){return Qr.apply(this,arguments)}function Qr(){return Qr=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Yr(i,r,o,a,u,"next",e)}function u(e){Yr(i,r,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,null!=Zr?Zr:Promise.resolve(void 0)];case 1:return(t=r.sent())?[4,t.messageSW(e)]:[3,3];case 2:return n=r.sent(),[3,4];case 3:n={success:!1,result:void 0,error:"No service worker has been registered. This is typically the case when the application has been built without offline-related features."},r.label=4;case 4:return[2,n]}}))})),Qr.apply(this,arguments)}var Jr="x-omrs-offline-response-body",eo="x-omrs-offline-response-status",to="x-omrs-offline-caching-strategy";const no={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ro;const oo=new Uint8Array(16);function io(){if(!ro&&(ro="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ro))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ro(oo)}const ao=[];for(let e=0;e<256;++e)ao.push((e+256).toString(16).slice(1));const uo=function(e,t,n){if(no.randomUUID&&!t&&!e)return no.randomUUID();const r=(e=e||{}).random||(e.rng||io)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(ao[e[t+0]]+ao[e[t+1]]+ao[e[t+2]]+ao[e[t+3]]+"-"+ao[e[t+4]]+ao[e[t+5]]+"-"+ao[e[t+6]]+ao[e[t+7]]+"-"+ao[e[t+8]]+ao[e[t+9]]+"-"+ao[e[t+10]]+ao[e[t+11]]+ao[e[t+12]]+ao[e[t+13]]+ao[e[t+14]]+ao[e[t+15]]).toLowerCase()}(r)};var so="OFFLINE+";function co(){return so+uo()}function lo(e){return e.startsWith(so)}function fo(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function po(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fo(i,r,o,a,u,"next",e)}function u(e){fo(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ho(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var yo=new ar,vo={};function bo(){return mo.apply(this,arguments)}function mo(){return(mo=po((function(){var e;return ho(this,(function(t){switch(t.label){case 0:return[4,(0,a.getLoggedInUser)()];case 1:return[2,(null==(e=t.sent())?void 0:e.uuid)||"*"]}}))}))).apply(this,arguments)}function go(e,t,n,r){return wo.apply(this,arguments)}function wo(){return(wo=po((function(e,t,n,r){var o;return ho(this,(function(i){switch(i.label){case 0:return void 0===(o=r&&r.id)?[3,2]:[4,yo.syncQueue.where({type:t,userId:e}).filter((function(e){return(null==e?void 0:e.descriptor.id)===o})).delete().catch(Wn.errnames.DatabaseClosed)];case 1:i.sent(),i.label=2;case 2:return[4,yo.syncQueue.add({type:t,content:n,userId:e,descriptor:r||{},createdOn:new Date}).catch(Wn.errnames.DatabaseClosed,(function(){return-1}))];case 3:return[2,i.sent()]}}))}))).apply(this,arguments)}function So(e,t,n){return Oo.apply(this,arguments)}function Oo(){return(Oo=po((function(e,t,n){return ho(this,(function(r){switch(r.label){case 0:return[4,bo()];case 1:return[4,go(r.sent(),e,t,n)];case 2:return[2,r.sent()]}}))}))).apply(this,arguments)}function xo(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=po((function(e,t){return ho(this,(function(n){switch(n.label){case 0:return[4,_o(e,t)];case 1:return[2,n.sent().map((function(e){return e.content}))]}}))}))).apply(this,arguments)}function _o(e,t){return jo.apply(this,arguments)}function jo(){return(jo=po((function(e,t){var n;return ho(this,(function(r){switch(r.label){case 0:return n=t?{type:t,userId:e}:{userId:e},[4,yo.syncQueue.where(n).toArray().catch(Wn.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function ko(e){return Ao.apply(this,arguments)}function Ao(){return(Ao=po((function(e){return ho(this,(function(t){switch(t.label){case 0:return[4,bo()];case 1:return[4,xo(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function Po(e){return Co.apply(this,arguments)}function Co(){return(Co=po((function(e){return ho(this,(function(t){switch(t.label){case 0:return[4,bo()];case 1:return[4,_o(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function Io(e){return To.apply(this,arguments)}function To(){return(To=po((function(e){return ho(this,(function(t){switch(t.label){case 0:return[4,yo.syncQueue.get(e).catch(Wn.errnames.DatabaseClosed,(function(){}))];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function Do(e){var t;return!!(null===(t=vo[e])||void 0===t?void 0:t.options.onBeginEditSyncItem)}function $o(e){return Ro.apply(this,arguments)}function Ro(){return(Ro=po((function(e){var t,n,r;return ho(this,(function(o){switch(o.label){case 0:return[4,Io(e)];case 1:if(!(n=o.sent()))throw new Error("No sync item with the ID ".concat(e," exists."));if(!(r=null===(t=vo[n.type])||void 0===t?void 0:t.options.onBeginEditSyncItem))throw new Error("A sync item with the ID ".concat(e,' exists, but the associated handler (if one exists) doesn\'t support editing the item. You can avoid this error by either verifying that sync items of this type can be edited via the "canEditSynchronizationItemsOfType(type: string)" function or alternatively ensure that the synchronizaton handler for sync items of type "').concat(n.type,'" supports editing items.'));return r(n),[2]}}))}))).apply(this,arguments)}function No(e){return Mo.apply(this,arguments)}function Mo(){return(Mo=po((function(e){return ho(this,(function(t){switch(t.label){case 0:return[4,yo.syncQueue.delete(e).catch(Wn.errnames.DatabaseClosed)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function Lo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};vo[e]={type:e,dependsOn:t,process:n,options:r}}(0,i.createGlobalStore)("offline-synchronization",{})},4077:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,s,"next",e)}function s(e){o(a,r,i,u,s,"throw",e)}u(void 0)}))}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function p(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}e=n.nmd(e),System.register(["react","@openmrs/esm-config","@openmrs/esm-extensions","@openmrs/esm-globals","react-dom","i18next","react-i18next","@openmrs/esm-api","dayjs"],(function(r,o){var a={},p={},h={},y={},v={},b={},m={},g={},w={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(v,"__esModule",{value:!0}),{setters:[function(e){Object.keys(e).forEach((function(t){a[t]=e[t]}))},function(e){p.getConfigStore=e.getConfigStore,p.getExtensionConfigFromStore=e.getExtensionConfigFromStore,p.getExtensionsConfigStore=e.getExtensionsConfigStore,p.interpolateUrl=e.interpolateUrl,p.navigate=e.navigate},function(e){h.getConnectedExtensions=e.getConnectedExtensions,h.getExtensionInternalStore=e.getExtensionInternalStore,h.getExtensionStore=e.getExtensionStore,h.registerExtensionSlot=e.registerExtensionSlot,h.renderExtension=e.renderExtension},function(e){y.subscribeConnectivityChanged=e.subscribeConnectivityChanged},function(e){Object.keys(e).forEach((function(t){v[t]=e[t]}))},function(e){b.default=e.default},function(e){m.I18nextProvider=e.I18nextProvider},function(e){g.defaultVisitCustomRepresentation=e.defaultVisitCustomRepresentation,g.fetchCurrentPatient=e.fetchCurrentPatient,g.getCurrentUser=e.getCurrentUser,g.getLocations=e.getLocations,g.getSessionStore=e.getSessionStore,g.getVisitTypes=e.getVisitTypes,g.openmrsFetch=e.openmrsFetch,g.userHasAccess=e.userHasAccess},function(e){w.default=e.default}],execute:function(){r(function(){var r={332:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},645:function(e,t,n){"use strict";var r=n(493);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},385:function(){System.register([],(function(e,t){return{execute:function(){e(function(){"use strict";var e=function(e,t){var n=c[e];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(t,!0),n.active=!0,n.value;var r=s()((function(){return t}));return c[e]={value:r,active:!0},r},t=function(e,t){var n=c[e];if(!n){var r=s()((function(){return null!=t?t:{}}));return c[e]={value:r,active:!1},r}return n.value},n=function(t){return e("app",t)},r=function(){return t("app",{})},o=function(e,t,n){var r=t(e.getState());return e.subscribe((function(e){var o=t(e);o!==r&&(r=o,n(o))}))},i={d:function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};i.r(a),i.d(a,{createAppState:function(){return n},createGlobalStore:function(){return e},getAppState:function(){return r},getGlobalStore:function(){return t},subscribeTo:function(){return o}});var u=function(e){var t,n=new Set,r=function(e,r){var o="function"==typeof e?e(t):e;if(!Object.is(o,t)){var i=t;t=(null!=r?r:"object"!=typeof o)?o:Object.assign({},t,o),n.forEach((function(e){return e(t,i)}))}},o=function(){return t},i={setState:r,getState:o,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,o,i),i},s=function(e){return e?u(e):u},c={};return a}())}}}))},173:function(e,t,n){"use strict";var r=function(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}},o=n(954),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useState,u=o.useEffect,s=o.useLayoutEffect,c=o.useDebugValue,l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=a({inst:{value:n,getSnapshot:t}}),i=o[0].inst,l=o[1];return s((function(){i.value=n,i.getSnapshot=t,r(i)&&l({inst:i})}),[e,n,t]),u((function(){return r(i)&&l({inst:i}),e((function(){r(i)&&l({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:l},374:function(e,t,n){"use strict";e.exports=n(173)},766:function(e){"use strict";e.exports=g},824:function(e){"use strict";e.exports=p},45:function(e){"use strict";e.exports=h},728:function(e){"use strict";e.exports=y},688:function(e){"use strict";e.exports=w},64:function(e){"use strict";e.exports=b},954:function(e){"use strict";e.exports=a},493:function(e){"use strict";e.exports=v},281:function(e){"use strict";e.exports=m}},o={};function S(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e].call(n.exports,n,n.exports,S),n.exports}S.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return S.d(t,{a:t}),t},S.d=function(e,t){for(var n in t)S.o(t,n)&&!S.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},S.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},S.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var O={};return function(){"use strict";var r=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},o=function(e){var t=e.to,n=e.templateParams,o=e.children,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["to","templateParams","children"]);return De.default.createElement("a",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({onClick:function(e){return function(e,t,n){e.metaKey||e.ctrlKey||e.shiftKey||0!=e.button||(e.preventDefault(),(0,Re.navigate)({to:t,templateParams:n}))}(e,t,n)},href:(0,Re.interpolateUrl)(t,n)},i),o)},a=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},p=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},h=function(e){return function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)(e.getState())),r=n[0],o=n[1];(0,De.useEffect)((function(){return e.subscribe((function(e){return o(e)}))}),[]);var i=(0,De.useMemo)((function(){return t?function(e,t){var n=function(n){o[n]=function(){var o=r;e.setState((function(e){for(var r=[e],i=0;i<o.length;i++)r.push(o[i]);return t[n](r)}))}},r=arguments;"function"==typeof t&&(t=t(e));var o={};for(var i in t)n(i);return o}(e,t):{}}),[t]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},r,i)}},y=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},v=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e},m=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},g=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)(window.navigator.onLine)),t=e[0],n=e[1];return(0,De.useEffect)((function(){return(0,Le.subscribeConnectivityChanged)((function(e){var t=e.online;return n(t)}))}),[]),t},w=function(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}},x=function(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}},E=function(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}},_=function(e){var t=this.__data__=new Ke(e);this.size=t.size},j=function(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wt;++t<n;)this.add(e[t])},k=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},A=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)([])),n=t[0],r=t[1];return(0,De.useEffect)((function(){var t=function(t){var o,i,a=null!==(i=null===(o=t.slots[e])||void 0===o?void 0:o.assignedExtensions)&&void 0!==i?i:[];Tn(a,n)||r(a)};return t((0,Ne.getExtensionStore)().getState()),(0,Ne.getExtensionStore)().subscribe(t)}),[e,n]),n},P=function(e){var t=g(),n=A(e);return(0,De.useMemo)((function(){return(0,Ne.getConnectedExtensions)(n,t)}),[n,t])},C=function(e){var t=(0,De.useContext)($e).moduleName;if(!t)throw Error("ComponentContext has not been provided. This should come from @openmrs/esm-react-utils.");return(0,De.useEffect)((function(){(0,Ne.registerExtensionSlot)(t,e)}),[]),{extensions:P(e),extensionSlotName:e,extensionSlotModuleName:t}},I=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},T=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e},D=function(e){return e},$=function(e){var t=e.name,n=e.extensionSlotName,r=e.select,o=void 0===r?D:r,i=e.children,a=e.state,u=e.style,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","extensionSlotName","select","children","state","style"]);if(i&&a)throw new Error("Both children and state have been provided. If children are provided, the state must be passed as a prop to the `Extension` component.");var c,l,f,p,d=null!=t?t:n,h=(0,De.useRef)(null),y=C(d),v=y.extensions,b=y.extensionSlotModuleName,m=(0,De.useMemo)((function(){return o(v)}),[o,v]),g=(0,De.useMemo)((function(){if("function"==typeof i&&!De.default.isValidElement(i))return m.map((function(e){return i(e)}))}),[i,m]);return De.default.createElement("div",T({ref:h,"data-extension-slot-name":d,"data-extension-slot-module-name":b,style:(f=T({},u),p={position:"relative"},p=null!=p?p:{},Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(p)).forEach((function(e){Object.defineProperty(f,e,Object.getOwnPropertyDescriptor(p,e))})),f)},s),d&&m.map((function(e,t){return De.default.createElement($e.Provider,{key:e.id,value:{moduleName:b,extension:{extensionId:e.id,extensionSlotName:d,extensionSlotModuleName:b}}},null!==(l=null!==(c=null==g?void 0:g[t])&&void 0!==c?c:"function"!=typeof i?i:null)&&void 0!==l?l:De.default.createElement(Me,{state:a}))})))},R=function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n},N=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},M=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},L=function(e,t){var n;if("function"!=typeof(n=t.domElement?function(){return t.domElement}:t.domElementGetter?t.domElementGetter:e.domElementGetter?e.domElementGetter:function(e){var t=e.appName||e.name;if(!t)throw Error("single-spa's dom-element-getter-helpers was not given an application name as a prop, so it can't make a unique dom element container for the react application");var n="single-spa-application:".concat(t);return function(){var e=document.getElementById(n);return e||((e=document.createElement("div")).id=n,document.body.appendChild(e)),e}}(t)))throw Error("single-spa's dom-element-getter-helpers was given an invalid domElementGetter for application or parcel '".concat(t.name,"'. Expected a function, received ").concat(Rn(n)));return function(){var e=n(t);if(!u(e,HTMLElement))throw Error("single-spa's dom-element-getter-helpers: domElementGetter returned an invalid dom element for application or parcel '".concat(t.name,"'. Expected HTMLElement, received ").concat(Rn(e)));return e}},U=function(e){if("object"!==$n(e))throw new Error("single-spa-react requires a configuration object");var t=N(N({},Mn),e);if(!t.React)throw new Error("single-spa-react must be passed opts.React");if(!t.ReactDOM&&!t.ReactDOMClient)throw new Error("single-spa-react must be passed opts.ReactDOM or opts.ReactDOMClient");if(!t.rootComponent&&!t.loadRootComponent)throw new Error("single-spa-react must be passed opts.rootComponent or opts.loadRootComponent");if(t.errorBoundary&&"function"!=typeof t.errorBoundary)throw Error("The errorBoundary opt for single-spa-react must either be omitted or be a function that returns React elements");!Nn&&t.React.createContext&&(Nn=t.React.createContext()),t.SingleSpaRoot=function(e){function t(e){t.displayName="SingleSpaRoot(".concat(e.name,")")}return t.prototype=Object.create(e.React.Component.prototype),t.prototype.componentDidMount=function(){setTimeout(this.props.mountFinished)},t.prototype.componentWillUnmount=function(){setTimeout(this.props.unmountFinished)},t.prototype.render=function(){return setTimeout(this.props.updateFinished),this.props.children},t}(t);var n={bootstrap:B.bind(null,t),mount:z.bind(null,t),unmount:F.bind(null,t)};return t.parcelCanUpdate&&(n.update=K.bind(null,t)),n},B=function(e,t){return e.rootComponent?Promise.resolve():e.loadRootComponent(t).then((function(t){e.rootComponent=t}))},z=function(e,t){return new Promise((function(n,r){e.suppressComponentDidCatchWarning||!function(e){if(!(e&&"string"==typeof e.version&&e.version.indexOf(".")>=0))return!1;var t=e.version.slice(0,e.version.indexOf("."));try{return Number(t)>=16}catch(e){return!1}}(e.React)||e.errorBoundary||e.errorBoundaryClass||(e.rootComponent.prototype?e.rootComponent.prototype.componentDidCatch||console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.")):console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent does not implement an error boundary.  If using a functional component, consider providing an opts.errorBoundary to singleSpaReact(opts).")));var o=H(e,t,(function(){n(this)})),i=L(e,t)(),a=function(e){var t=e.renderType,n=e.elementToRender,r=e.domElement,o=e.reactDom[t];if("function"!=typeof o)throw new Error('renderType "'.concat(t,'" did not return a function.'));switch(t){case"createRoot":case"unstable_createRoot":case"createBlockingRoot":case"unstable_createBlockingRoot":var i=o(r);return i.render(n),i;case"hydrateRoot":return o(r,n);default:return o(n,r),null}}({elementToRender:o,domElement:i,reactDom:V(e),renderType:q(e)});e.domElements[t.name]=i,e.renderResults[t.name]=a}))},F=function(e,t){return new Promise((function(n){e.unmountResolves[t.name]=n;var r=e.renderResults[t.name];r&&r.unmount?r.unmount():V(e).unmountComponentAtNode(e.domElements[t.name]),delete e.domElements[t.name],delete e.renderResults[t.name]}))},K=function(e,t){return new Promise((function(n){e.updateResolves[t.name]||(e.updateResolves[t.name]=[]),e.updateResolves[t.name].push(n);var r=H(e,t,null),o=e.renderResults[t.name];if(o&&o.render)o.render(r);else{var i=L(e,t)();V(e).render(r,i)}}))},V=function(e){return e.ReactDOMClient||e.ReactDOM},q=function(e){return"function"==typeof e.renderType?e.renderType():e.renderType},H=function(e,t,n){var r=e.React.createElement(e.rootComponent,t),o=Nn?e.React.createElement(Nn.Provider,{value:t},r):r;return(e.errorBoundary||t.errorBoundary||e.errorBoundaryClass||t.errorBoundaryClass)&&(e.errorBoundaryClass=e.errorBoundaryClass||t.errorBoundaryClass||function(e,t){function n(t){e.React.Component.apply(this,arguments),this.state={caughtError:null,caughtErrorInfo:null},n.displayName="SingleSpaReactErrorBoundary(".concat(t.name,")")}return n.prototype=Object.create(e.React.Component.prototype),n.prototype.render=function(){return this.state.caughtError?(e.errorBoundary||t.errorBoundary)(this.state.caughtError,this.state.caughtErrorInfo,this.props):this.props.children},n.prototype.componentDidCatch=function(e,t){this.setState({caughtError:e,caughtErrorInfo:t})},n}(e,t),o=e.React.createElement(e.errorBoundaryClass,t,o)),e.React.createElement(e.SingleSpaRoot,N(N({},t),{},{mountFinished:n,updateFinished:function(){e.updateResolves[t.name]&&(e.updateResolves[t.name].forEach((function(e){return e()})),delete e.updateResolves[t.name])},unmountFinished:function(){e.unmountResolves[t.name]&&(e.unmountResolves[t.name](),delete e.unmountResolves[t.name])}}),o)},W=function(e){if("object"!=typeof e||"string"!=typeof e.featureName||"string"!=typeof e.moduleName)throw new Error("Invalid options");var t=Object.assign({},Vn,e);return function(e){var n,r,o,i;return r=n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(i,n);var r,o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bn(e);if(t){var o=Bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":void 0===n?"undefined":f(n))&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}(i);function i(e){var n;return function(e,t){if(!u(e,t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e)).state={caughtError:null,caughtErrorInfo:null,config:{moduleName:t.moduleName,extension:e._extensionContext}},n}return(r=[{key:"componentDidCatch",value:function(e,n){n&&n.componentStack&&(e.extra=Object.assign(e.extra||{},{componentStack:n.componentStack})),t.throwErrorsToConsole&&setTimeout((function(){throw e})),this.setState({caughtError:e,caughtErrorInfo:n})}},{key:"render",value:function(){var n=this;if(this.state.caughtError)return De.default.createElement("div",null,"An error has occurred. Please try reloading the page.");var r=De.default.createElement($e.Provider,{value:this.state.config},De.default.createElement(De.default.Suspense,{fallback:null},t.disableTranslations?De.default.createElement(e,this.props):De.default.createElement(qn,{ns:t.moduleName,forceUpdate:function(){return n.forceUpdate()}},De.default.createElement(Un.I18nextProvider,{i18n:Kn,defaultNS:t.moduleName},De.default.createElement(e,this.props)))));return t.strictMode||!De.default.StrictMode?r:De.default.createElement(De.default.StrictMode,null,r)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,r),i}(De.default.Component),o="displayName",i="OpenmrsReactComponent(".concat(t.featureName,")"),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,n}},G=function(e,t){return U({React:De.default,ReactDOMClient:Dn,rootComponent:W(t)(e)})},Z=function(e,t){return function(){return e().then((function(e){return G(e.default,t)}))}},Y=function(e,t){return function(){return Promise.resolve(G(e,t))}},X=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Q=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)([])),n=t[0],r=t[1];return(0,De.useEffect)((function(){return(0,Ne.getExtensionStore)().subscribe((function(t){var o,i,a=null!==(i=null===(o=t.slots[e])||void 0===o?void 0:o.assignedExtensions.map((function(e){return e.id})))&&void 0!==i?i:[];Tn(a,n)||r(a)}))}),[]),n},J=function(e){(0,De.useEffect)((function(){if(e){var t=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=t}}}),[e])},ee=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},te=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ne=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},re=function(){var e=(0,De.useContext)($e),t=e.moduleName,n=e.extension;if(!t&&!n)throw Error(Gn);var r=function(e){var t=(0,De.useMemo)((function(){return(0,Re.getConfigStore)(e)}),[e]),n=e,r=function(e){var t=ne((0,De.useState)(function(e){return function(){var t=e.getState();return t.loaded&&t.config?t.config:null}}(e)),2),n=t[0],r=t[1];return(0,De.useEffect)((function(){return null==e?void 0:e.subscribe((function(e){e.loaded&&e.config&&r(e.config)}))}),[e]),n}(t);if(!r)throw Wn[n]||(Wn[n]=function(e){return new Promise((function(t){var n=e.subscribe((function(e){e.loaded&&e.config&&(t(e.config),n())}))}))}(t)),Wn[n];return r}(t),o=function(e){var t=(0,De.useMemo)(Re.getExtensionsConfigStore,[]),n=function(e,t){var n=ne((0,De.useState)(function(e,t){return t?function(){var n=e.getState(),r=(0,Re.getExtensionConfigFromStore)(n,t.extensionSlotName,t.extensionId);if(r.loaded&&r.config)return r.config}:null}(e,t)),2),r=n[0],o=n[1];return(0,De.useEffect)((function(){if(t)return e.subscribe((function(e){var n=(0,Re.getExtensionConfigFromStore)(e,t.extensionSlotName,t.extensionId);n.loaded&&n.config&&!Tn(n.config,r)&&o(n.config)}))}),[e,t,r]),r}(t,e);if(!n&&e){var r="".concat(e.extensionSlotName,"-").concat(e.extensionId);throw!Wn[r]&&t&&(Wn[r]=function(e,t){return new Promise((function(n){var r=e.subscribe((function(e){var o=(0,Re.getExtensionConfigFromStore)(e,t.extensionSlotName,t.extensionId);o.loaded&&o.config&&(n(o.config),r())}))}))}(t,e)),Wn[r]}return n||{}}(n),i=(0,De.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}({},r,o)}),[r,o]);return i},oe=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},ie=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ae=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e},ue=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e},se=function(){var e=/\/patient\/([a-zA-Z0-9\-]+)\/?/.exec(location.pathname);return e&&e[1]},ce=function(e,t){switch(t.type){case Fn.loadPatient:return ue(ae({},e),{patientUuid:t.patientUuid,patient:null,isPendingUuid:!1,isLoadingPatient:!0,err:null});case Fn.newPatient:return ue(ae({},e),{patient:t.patient,isPendingUuid:!1,isLoadingPatient:!1,err:null});case Fn.loadError:return ue(ae({},e),{patient:null,isPendingUuid:!1,isLoadingPatient:!1,err:t.err});default:return e}},le=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return oe(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useReducer)(ce,ue(ae({},Qn),{patientUuid:null!=e?e:null,isPendingUuid:!e,isLoadingPatient:!!e}))),n=t[0],r=t[1];return(0,De.useEffect)((function(){if(n.isPendingUuid){var e=se();r(e?{type:Fn.loadPatient,patientUuid:e}:{type:Fn.newPatient,patient:null})}var t=!0;return n.isLoadingPatient&&n.patientUuid&&(0,Zn.fetchCurrentPatient)(n.patientUuid).then((function(e){return t&&r({patient:e,type:Fn.newPatient})}),(function(e){return t&&r({err:e,type:Fn.loadError})})),function(){t=!1}}),[n.isPendingUuid,n.isLoadingPatient,n.patientUuid]),(0,De.useEffect)((function(){var e=function(e){var t=se();t!=n.patientUuid&&r({type:Fn.loadPatient,patientUuid:t})};return window.addEventListener("single-spa:routing-event",e),function(){return window.removeEventListener("single-spa:routing-event",e)}}),[n.patientUuid]),{isLoading:n.isPendingUuid||n.isLoadingPatient,patient:n.patient,patientUuid:null!=e?e:n.patientUuid,error:n.err}},fe=function(e){var t=P(e);return(0,De.useMemo)((function(){return Object.fromEntries(t.map((function(e){return[e.name,e.meta]})))}),[t])},pe=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},de=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return pe(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)(0))[1];return(0,De.useCallback)((function(){e((function(e){return e+1}))}),[])},he=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},ye=function(){var e="tablet";return document.body.classList.forEach((function(t){switch(t){case"omrs-breakpoint-lt-tablet":e="phone";break;case"omrs-breakpoint-gt-small-desktop":e="large-desktop";break;case"omrs-breakpoint-gt-tablet":e="small-desktop"}})),e},ve=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return he(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)(ye)),t=e[0],n=e[1];return(0,De.useEffect)((function(){var e=function(){n(ye())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t},be=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},me=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return be(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)([])),t=e[0],n=e[1];return(0,De.useEffect)((function(){var e=(0,Zn.getLocations)().subscribe((function(e){n(e)}),(function(e){console.error(e)}));return function(){return e.unsubscribe()}}),[]),t},ge=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,De.useRef)(null);return(0,De.useEffect)((function(){if(t){var r=function(t){var r;(null==n||null===(r=n.current)||void 0===r?void 0:r.contains(t.target))||e(t)};return window.addEventListener("click",r),function(){return window.removeEventListener("click",r)}}}),[e,t]),n},we=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Se=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Oe=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return Se(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)(null)),t=e[0],n=e[1],r=null;if(!t){if(Yn){var o=(0,Zn.getSessionStore)().getState();o.loaded&&(r=o.session)}else Yn=new Promise((function(e){var t=function(t){var n=t.loaded,o=t.session;n&&(e(o),r=o,Xn&&Xn(),Xn=void 0)};t((0,Zn.getSessionStore)().getState()),r||(Xn=(0,Zn.getSessionStore)().subscribe(t))}));if(!r)throw Yn;n(r)}(0,De.useEffect)((function(){return Xn||(Xn=(0,Zn.getSessionStore)().subscribe((function(e){var t=e.loaded,o=e.session;t&&(r=o,n(o))}))),function(){Xn&&Xn(),Xn=void 0}}),[]);var i=t||r;if(!i)throw Yn?(console.warn("useSession is in an unexpected state. Attempting to recover."),Yn):Error("useSession is in an invalid state.");return i},xe=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Ee=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},_e=function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or,n=arguments.length>2?arguments[2]:void 0,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||_e(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)((function(){return t(e.getState())}))),o=r[0],i=r[1];(0,De.useEffect)((function(){return(0,rr.subscribeTo)(e,t,i)}),[e,t]);var a=(0,De.useMemo)((function(){return n?function(e,t){var n=function(n){o[n]=function(){var o=r;e.setState((function(e){for(var r,i=[e],a=0;a<o.length;a++)i.push(o[a]);return(r=t)[n].apply(r,function(e){if(Array.isArray(e))return xe(e)}(u=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||_e(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var u}))}},r=arguments;"function"==typeof t&&(t=t(e));var o={};for(var i in t)n(i);return o}(e,n):{}}),[e,n]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}({},o,a)},ke=function(e,t){return je(e,or,t)},Ae=function(e){var t,n=Zr(e?"/ws/rest/v1/visit?patient=".concat(e,"&v=").concat(Zn.defaultVisitCustomRepresentation,"&includeInactive=false"):null,Zn.openmrsFetch),r=n.data,o=n.error;return{error:o,mutate:n.mutate,isValidating:n.isValidating,currentVisit:(0,De.useMemo)((function(){return null!==(t=null==r?void 0:r.data.results.find((function(e){return null===e.stopDatetime})))&&void 0!==t?t:null}),[null==r?void 0:r.data.results]),isLoading:!r&&!o}},Pe=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Ce=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return Pe(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)([])),t=e[0],n=e[1];return(0,De.useEffect)((function(){var e=(0,Zn.getVisitTypes)().subscribe((function(e){n(e)}),(function(e){return console.error(e)}));return function(){return e.unsubscribe()}}),[]),t},Ie=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return Ie(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)(1)),r=n[0],o=n[1],i=(0,De.useMemo)((function(){return"number"==typeof t&&t>0?Math.max(1,Math.ceil(e.length/t)):1}),[e.length,t]);return{results:(0,De.useMemo)((function(){var n=(r-1)*t,o=(r+0)*t;return e.slice(n,o)}),[e,r,t]),totalPages:i,currentPage:r,paginated:e.length>t,showNextButton:r<i,showPreviousButton:r>1,goTo:function(e){o(Math.max(1,Math.min(i,e)))},goToNext:function(){r<i&&o(r+1)},goToPrevious:function(){r>1&&o(r-1)}}};S.r(O),S.d(O,{ComponentContext:function(){return $e},ConfigurableLink:function(){return o},Extension:function(){return Me},ExtensionSlot:function(){return $},UserHasAccess:function(){return nr},createUseStore:function(){return h},getAsyncExtensionLifecycle:function(){return Hn},getAsyncLifecycle:function(){return Z},getLifecycle:function(){return G},getSyncLifecycle:function(){return Y},isDesktop:function(){return tr},openmrsComponentDecorator:function(){return W},useAssignedExtensionIds:function(){return Q},useAssignedExtensions:function(){return A},useBodyScrollLock:function(){return J},useConfig:function(){return re},useConnectedExtensions:function(){return P},useConnectivity:function(){return g},useExtensionInternalStore:function(){return Jn},useExtensionSlot:function(){return C},useExtensionSlotMeta:function(){return fe},useExtensionStore:function(){return er},useForceUpdate:function(){return de},useLayoutType:function(){return ve},useLocations:function(){return me},useOnClickOutside:function(){return ge},usePagination:function(){return Te},usePatient:function(){return le},useSession:function(){return Oe},useStore:function(){return je},useStoreWithActions:function(){return ke},useVisit:function(){return Ae},useVisitTypes:function(){return Ce}});var De=S(954),$e=De.default.createContext({moduleName:""}),Re=S(824),Ne=S(45),Me=function(e){var t=e.state,n=e.children,r=e.wrap,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["state","children","wrap"]),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)()),a=i[0],u=i[1],s=(0,De.useContext)($e).extension,c=(0,De.useRef)(null),l=(0,De.useRef)(),f=(0,De.useRef)(!1);(0,De.useEffect)((function(){r&&console.warn("'wrap' prop of Extension is being used ".concat((null==s?void 0:s.extensionId)?"by ".concat(s.extensionId," in ").concat(s.extensionSlotName):"",". This will be removed in a future release."))}),[]);var p=(0,De.useCallback)((function(e){u(e)}),[u]);(0,De.useEffect)((function(){if(null!=a&&(null==s?void 0:s.extensionSlotName)&&s.extensionSlotModuleName&&s.extensionSlotModuleName&&!c.current&&!f.current)return f.current=!0,(0,Ne.renderExtension)(a,s.extensionSlotName,s.extensionSlotModuleName,s.extensionId,void 0,t).then((function(e){c.current=e,f.current=!1})),function(){if(c&&c.current){var e=c.current.getStatus();switch(console.log("Unmounting ".concat(c.current,"; status: ").concat(e)),e){case"MOUNTING":c.current.mountPromise.then(c.current.unmount);break;case"MOUNTED":c.current.unmount();break;case"UPDATING":l.current&&l.current.then((function(){c.current&&"MOUNTED"===c.current.getStatus()&&c.current.unmount()}))}}}}),[null==s?void 0:s.extensionSlotName,null==s?void 0:s.extensionId,null==s?void 0:s.extensionSlotModuleName,a]),(0,De.useEffect)((function(){return c.current&&c.current.update&&Promise.all([c.current.mountPromise,l.current]).then((function(){var e;(null==c||null===(e=c.current)||void 0===e?void 0:e.update)&&(l.current=c.current.update(b({},t)))})),function(){Promise.resolve(l.current).then((function(){l.current=void 0}))}}),[t]);var d=De.default.createElement("div",b({ref:p,"data-extension-id":null==s?void 0:s.extensionId,style:{position:"relative"}},o));return"function"!=typeof n||De.default.isValidElement(n)?s&&r?r(d,s):d:De.default.createElement(De.default.Fragment,null,n(d,s))},Le=S(728),Ue=function(e,t){return e===t||e!=e&&t!=t},Be=function(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1},ze=Array.prototype.splice;w.prototype.clear=function(){this.__data__=[],this.size=0},w.prototype.delete=function(e){var t=this.__data__,n=Be(t,e);return!(n<0||(n==t.length-1?t.pop():ze.call(t,n,1),--this.size,0))},w.prototype.get=function(e){var t=this.__data__,n=Be(t,e);return n<0?void 0:t[n][1]},w.prototype.has=function(e){return Be(this.__data__,e)>-1},w.prototype.set=function(e,t){var n=this.__data__,r=Be(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Fe,Ke=w,Ve="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,qe="object"==typeof self&&self&&self.Object===Object&&self,He=Ve||qe||Function("return this")(),We=He.Symbol,Ge=Object.prototype,Ze=Ge.hasOwnProperty,Ye=Ge.toString,Xe=We?We.toStringTag:void 0,Qe=Object.prototype.toString,Je=We?We.toStringTag:void 0,et=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in Object(e)?function(e){var t=Ze.call(e,Xe),n=e[Xe];try{e[Xe]=void 0;var r=!0}catch(e){}var o=Ye.call(e);return r&&(t?e[Xe]=n:delete e[Xe]),o}(e):function(e){return Qe.call(e)}(e)},tt=function(e){var t=void 0===e?"undefined":f(e);return null!=e&&("object"==t||"function"==t)},nt=function(e){if(!tt(e))return!1;var t=et(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},rt=He["__core-js_shared__"],ot=(Fe=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||""))?"Symbol(src)_1."+Fe:"",it=Function.prototype.toString,at=function(e){if(null!=e){try{return it.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ut=/^\[object .+?Constructor\]$/,st=Function.prototype,ct=Object.prototype,lt=st.toString,ft=ct.hasOwnProperty,pt=RegExp("^"+lt.call(ft).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!tt(e)||(t=e,ot&&ot in t))&&(nt(e)?pt:ut).test(at(e));var t}(n)?n:void 0},ht=dt(He,"Map"),yt=dt(Object,"create"),vt=Object.prototype.hasOwnProperty,bt=Object.prototype.hasOwnProperty;x.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},x.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},x.prototype.get=function(e){var t=this.__data__;if(yt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return vt.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return yt?void 0!==t[e]:bt.call(t,e)},x.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yt&&void 0===t?"__lodash_hash_undefined__":t,this};var mt=x,gt=function(e,t){var n,r,o=e.__data__;return("string"==(r=f(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};E.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(ht||Ke),string:new mt}},E.prototype.delete=function(e){var t=gt(this,e).delete(e);return this.size-=t?1:0,t},E.prototype.get=function(e){return gt(this,e).get(e)},E.prototype.has=function(e){return gt(this,e).has(e)},E.prototype.set=function(e,t){var n=gt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var wt=E;_.prototype.clear=function(){this.__data__=new Ke,this.size=0},_.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_.prototype.get=function(e){return this.__data__.get(e)},_.prototype.has=function(e){return this.__data__.has(e)},_.prototype.set=function(e,t){var n=this.__data__;if(u(n,Ke)){var r=n.__data__;if(!ht||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wt(r)}return n.set(e,t),this.size=n.size,this};var St=_;j.prototype.add=j.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},j.prototype.has=function(e){return this.__data__.has(e)};var Ot=j,xt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Et=function(e,t){return e.has(t)},_t=function(e,t,n,r,o,i){var a=1&n,u=e.length,s=t.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,p=!0,d=2&n?new Ot:void 0;for(i.set(e,t),i.set(t,e);++f<u;){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!xt(t,(function(e,t){if(!Et(d,t)&&(h===e||o(h,e,n,r,i)))return d.push(t)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p},jt=He.Uint8Array,kt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},At=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Pt=We?We.prototype:void 0,Ct=Pt?Pt.valueOf:void 0,It=Array.isArray,Tt=Object.prototype.propertyIsEnumerable,Dt=Object.getOwnPropertySymbols,$t=Dt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a)&&(i[o++]=a)}return i}(Dt(e),(function(t){return Tt.call(e,t)})))}:function(){return[]},Rt=function(e){return null!=e&&"object"==typeof e},Nt=function(e){return Rt(e)&&"[object Arguments]"==et(e)},Mt=Object.prototype,Lt=Mt.hasOwnProperty,Ut=Mt.propertyIsEnumerable,Bt=Nt(function(){return arguments}())?Nt:function(e){return Rt(e)&&Lt.call(e,"callee")&&!Ut.call(e,"callee")},zt=Bt,Ft=t&&!t.nodeType&&t,Kt=Ft&&e&&!e.nodeType&&e,Vt=Kt&&Kt.exports===Ft?He.Buffer:void 0,qt=(Vt?Vt.isBuffer:void 0)||function(){return!1},Ht=/^(?:0|[1-9]\d*)$/,Wt=function(e,t){var n=void 0===e?"undefined":f(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ht.test(e))&&e>-1&&e%1==0&&e<t},Gt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var Yt,Xt=t&&!t.nodeType&&t,Qt=Xt&&e&&!e.nodeType&&e,Jt=Qt&&Qt.exports===Xt&&Ve.process,en=function(){try{return Qt&&Qt.require&&Qt.require("util").types||Jt&&Jt.binding&&Jt.binding("util")}catch(e){}}(),tn=en&&en.isTypedArray,nn=tn?(Yt=tn,function(e){return Yt(e)}):function(e){return Rt(e)&&Gt(e.length)&&!!Zt[et(e)]},rn=Object.prototype.hasOwnProperty,on=Object.prototype,an=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),un=Object.prototype.hasOwnProperty,sn=function(e){return null!=(t=e)&&Gt(t.length)&&!nt(t)?function(e,t){var n=It(e),r=!n&&zt(e),o=!n&&!r&&qt(e),i=!n&&!r&&!o&&nn(e),a=n||r||o||i,u=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var c in e)!rn.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Wt(c,s))||u.push(c);return u}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||on))return an(e);var t,n,r=[];for(var o in Object(e))un.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t},cn=function(e){return function(e,t,n){var r=t(e);return It(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,sn,$t)},ln=Object.prototype.hasOwnProperty,fn=dt(He,"DataView"),pn=dt(He,"Promise"),dn=dt(He,"Set"),hn=dt(He,"WeakMap"),yn="[object Map]",vn="[object Promise]",bn="[object Set]",mn="[object WeakMap]",gn="[object DataView]",wn=at(fn),Sn=at(ht),On=at(pn),xn=at(dn),En=at(hn),_n=et;(fn&&_n(new fn(new ArrayBuffer(1)))!=gn||ht&&_n(new ht)!=yn||pn&&_n(pn.resolve())!=vn||dn&&_n(new dn)!=bn||hn&&_n(new hn)!=mn)&&(_n=function(e){var t=et(e),n="[object Object]"==t?e.constructor:void 0,r=n?at(n):"";if(r)switch(r){case wn:return gn;case Sn:return yn;case On:return vn;case xn:return bn;case En:return mn}return t});var jn=_n,kn="[object Arguments]",An="[object Array]",Pn="[object Object]",Cn=Object.prototype.hasOwnProperty,In=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Rt(t)&&!Rt(n)?t!=t&&n!=n:function(e,t,n,r,o,i){var a=It(e),s=It(t),c=a?An:jn(e),l=s?An:jn(t),f=(c=c==kn?Pn:c)==Pn,p=(l=l==kn?Pn:l)==Pn,d=c==l;if(d&&qt(e)){if(!qt(t))return!1;a=!0,f=!1}if(d&&!f)return i||(i=new St),a||nn(e)?_t(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new jt(e),new jt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ue(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=kt;case"[object Set]":var s=1&r;if(u||(u=At),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=_t(u(e),u(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(Ct)return Ct.call(e)==Ct.call(t)}return!1}(e,t,c,n,r,o,i);if(!(1&n)){var h=f&&Cn.call(e,"__wrapped__"),y=p&&Cn.call(t,"__wrapped__");if(h||y){var v=h?e.value():e,b=y?t.value():t;return i||(i=new St),o(v,b,n,r,i)}}return!!d&&(i||(i=new St),function(e,t,n,r,o,i){var a=1&n,s=cn(e),c=s.length;if(c!=cn(t).length&&!a)return!1;for(var l=c;l--;){var f=s[l];if(!(a?f in t:ln.call(t,f)))return!1}var p=i.get(e),d=i.get(t);if(p&&d)return p==t&&d==e;var h=!0;i.set(e,t),i.set(t,e);for(var y=a;++l<c;){var v=e[f=s[l]],b=t[f];if(r)var m=a?r(b,v,f,t,e,i):r(v,b,f,e,t,i);if(!(void 0===m?v===b||o(v,b,n,r,i):m)){h=!1;break}y||(y="constructor"==f)}if(h&&!y){var g=e.constructor,w=t.constructor;g==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&u(g,g)&&"function"==typeof w&&u(w,w)||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,i))}(t,n,r,o,e,i))},Tn=function(e,t){return In(e,t)},Dn=S(645);function $n(e){return($n="function"==typeof Symbol&&"symbol"==f(Symbol.iterator)?function(e){return void 0===e?"undefined":f(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":f(e)})(e)}function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==f(Symbol.iterator)?function(e){return void 0===e?"undefined":f(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":f(e)})(e)}var Nn=null;try{Nn=n(5776).createContext()}catch(R){}var Mn={React:null,ReactDOM:null,ReactDOMClient:null,rootComponent:null,loadRootComponent:null,renderType:"createRoot",errorBoundary:null,errorBoundaryClass:null,domElementGetter:null,parcelCanUpdate:!0,suppressComponentDidCatchWarning:!1,domElements:{},renderResults:{},updateResolves:{},unmountResolves:{}},Ln=S(64),Un=S(281);function Bn(e){return Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bn(e)}function zn(e,t){return zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zn(e,t)}var Fn,Kn=Ln.default.default||Ln.default,Vn={strictMode:!0,throwErrorsToConsole:!0,disableTranslations:!1},qn=function(e){(0,De.useEffect)((function(){return Kn.on("languageChanged",e.forceUpdate),function(){return Kn.off("languageChanged",e.forceUpdate)}}),[e.forceUpdate]);var t=(0,De.useRef)(null);if(t.current)throw t.current;if(!Kn.hasLoadedNamespace(e.ns)){var n=setTimeout((function(){console.warn("openmrsComponentDecorator: the React suspense promise for i18next.loadNamespaces(['".concat(e.ns,"']) did not resolve nor reject after three seconds. This could mean you have multiple versions of i18next and haven't made i18next a webpack external in all projects."))}),3e3);throw Kn.loadNamespaces([e.ns]).then((function(){return clearTimeout(n)})).catch((function(e){clearTimeout(n),t.current=e}))}return De.default.createElement(De.default.Fragment,null,e.children)},Hn=Z,Wn={},Gn='No ComponentContext has been provided. This should come from "openmrsComponentDecorator".\nUsually this is already applied when using "getAsyncLifecycle" or "getSyncLifecycle".',Zn=S(766);!function(e){e.loadPatient="loadPatient",e.newPatient="newPatient",e.loadError="patientLoadError"}(Fn||(Fn={}));var Yn,Xn,Qn={patientUuid:null,patient:null,isPendingUuid:!0,isLoadingPatient:!1,err:null},Jn=h((0,Ne.getExtensionInternalStore)()),er=h((0,Ne.getExtensionStore)()),tr=function(e){return"small-desktop"===e||"large-desktop"===e},nr=function(e){var t=e.privilege,n=e.fallback,r=e.children,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e)||function(e,t){if(e){if("string"==typeof e)return we(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,De.useState)(null)),i=o[0],a=o[1];return(0,De.useEffect)((function(){var e=(0,Zn.getCurrentUser)({includeAuthStatus:!1}).subscribe(a);return function(){return e.unsubscribe()}}),[]),i&&(0,Zn.userHasAccess)(t,i)?De.default.createElement(De.default.Fragment,null,r):n?De.default.createElement(De.default.Fragment,null,n):null},rr=S(385),or=function(e){return e},ir=S(374),ar=new WeakMap,ur={},sr=function(){},cr=void 0,lr=Object,fr=function(e){return e===cr},pr=function(e){return"function"==typeof e},dr=function(e,t){return s({},e,t)},hr="undefined",yr=("undefined"==typeof window?"undefined":f(window))!=hr,vr=("undefined"==typeof document?"undefined":f(document))!=hr,br=function(e,t){var n=ar.get(e);return[function(){return e.get(t)||ur},function(r){var o=e.get(t);n[5](t,dr(o,r),o||ur)},n[6]]},mr=new WeakMap,gr=0,wr=function(e){var t,n,r=void 0===e?"undefined":f(e),o=e&&e.constructor,i=o==Date;if(lr(e)!==e||i||o==RegExp)t=i?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=mr.get(e))return t;if(t=++gr+"~",mr.set(e,t),o==Array){for(t="@",n=0;n<e.length;n++)t+=wr(e[n])+",";mr.set(e,t)}if(o==lr){t="#";for(var a=lr.keys(e).sort();!fr(n=a.pop());)fr(e[n])||(t+=n+":"+wr(e[n])+",");mr.set(e,t)}}return t},Sr=!0,Or=c(yr&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[sr,sr],2),xr=Or[0],Er=Or[1],_r={isOnline:function(){return Sr},isVisible:function(){var e=vr&&document.visibilityState;return fr(e)||"hidden"!==e}},jr={initFocus:function(e){return vr&&document.addEventListener("visibilitychange",e),xr("focus",e),function(){vr&&document.removeEventListener("visibilitychange",e),Er("focus",e)}},initReconnect:function(e){var t=function(){Sr=!0,e()},n=function(){Sr=!1};return xr("online",t),xr("offline",n),function(){Er("online",t),Er("offline",n)}}},kr=!De.default.useId,Ar=!yr||"Deno"in window,Pr=Ar?De.useEffect:De.useLayoutEffect,Cr="undefined"!=typeof navigator&&navigator.connection,Ir=!Ar&&Cr&&(["slow-2g","2g"].includes(Cr.effectiveType)||Cr.saveData),Tr=function(e){if(pr(e))try{e=e()}catch(t){e=""}var t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?wr(e):"",t]},Dr=0,$r=function(){return++Dr};function Rr(){return Nr.apply(this,arguments)}function Nr(){return Nr=i((function(){var e,t,n,r,o,a,u,s,l,f,p,h,y,v,b,m,g,w,S,O=arguments;function x(e){return E.apply(this,arguments)}function E(){return E=i((function(e){var n,r,i,a,s,l,b,m,g,w,S,O,x,E,_,j,k,A,P,C;return d(this,(function(d){switch(d.label){case 0:if(n=c(Tr(e),1),!(r=n[0]))return[2];if(i=c(br(o,r),2),a=i[0],s=i[1],l=c(ar.get(o),3),b=l[0],m=l[1],g=l[2],w=b[r],S=function(){return y&&(delete g[r],w&&w[0])?w[0](2).then((function(){return a().data})):a().data},t.length<3)return[2,S()];if(x=u,E=$r(),m[r]=[E,0],_=!fr(h),j=a(),k=j.data,A=j._c,P=fr(A)?k:A,_&&(h=pr(h)?h(P):h,s({data:h,_c:P})),pr(x))try{x=x(P)}catch(e){O=e}return x&&pr(x.then)?[4,x.catch((function(e){O=e}))]:[3,2];case 1:if(x=d.sent(),E!==m[r][0]){if(O)throw O;return[2,x]}O&&_&&function(e){return"function"==typeof p?p(e):!1!==p}(O)&&(f=!0,s({data:x=P,_c:cr})),d.label=2;case 2:return f&&(O||(pr(f)&&(x=f(x,P)),s({data:x,_c:cr}))),m[r][1]=$r(),[4,S()];case 3:if(C=d.sent(),s({_c:cr}),!O)return[2,f?C:x];if(v)throw O;return[2]}}))})),E.apply(this,arguments)}return d(this,(function(i){for(e=O.length,t=new Array(e),n=0;n<e;n++)t[n]=O[n];if(r=c(t,4),o=r[0],a=r[1],u=r[2],s=r[3],l=dr({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{}),f=l.populateCache,p=l.rollbackOnError,h=l.optimisticData,y=!1!==l.revalidate,v=l.throwOnError,pr(a)){for(b=a,m=[],g=o.keys(),w=g.next();!w.done;w=g.next())!(S=w.value).startsWith("$inf$")&&b(o.get(S)._k)&&m.push(S);return[2,Promise.all(m.map(x))]}return[2,x(a)]}))})),Nr.apply(this,arguments)}var Mr=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},Lr=function(e,t){if(!ar.has(e)){var n=dr(jr,t),r={},o=Rr.bind(cr,e),i=sr,a={},u=function(e,t){var n=a[e]||[];return a[e]=n,n.push(t),function(){return n.splice(n.indexOf(t),1)}},s=function(t,n,r){e.set(t,n);var o=a[t];if(o)for(var i=o.length;i--;)o[i](r,n)},c=function(){if(!ar.has(e)&&(ar.set(e,[r,{},{},{},o,s,u]),!Ar)){var t=n.initFocus(setTimeout.bind(cr,Mr.bind(cr,r,0))),a=n.initReconnect(setTimeout.bind(cr,Mr.bind(cr,r,1)));i=function(){t&&t(),a&&a(),ar.delete(e)}}};return c(),[e,o,c,i]}return[e,ar.get(e)[4]]},Ur=c(Lr(new Map),2),Br=Ur[0],zr=Ur[1],Fr=dr({onLoadingSlow:sr,onSuccess:sr,onError:sr,onErrorRetry:function(e,t,n,r,o){var i=n.errorRetryCount,a=o.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!fr(i)&&a>i||setTimeout(r,u,o)},onDiscarded:sr,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ir?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:Ir?5e3:3e3,compare:function(e,t){return wr(e)==wr(t)},isPaused:function(){return!1},cache:Br,mutate:zr,fallback:{}},_r),Kr=function(e,t){var n=dr(e,t);if(t){var r=e.use,o=e.fallback,i=t.use,a=t.fallback;r&&i&&(n.use=r.concat(i)),o&&a&&(n.fallback=dr(o,a))}return n},Vr=(0,De.createContext)({}),qr=yr&&window.__SWR_DEVTOOLS_USE__,Hr=(qr?window.__SWR_DEVTOOLS_USE__:[]).concat((function(e){return function(t,n,r){return e(t,n&&function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=Tr(t)[0],a=c(ar.get(Br),4)[3],u=a[i];return u?(delete a[i],u):n.apply(void 0,l(r))},r)}}));qr&&(window.__SWR_DEVTOOLS_REACT__=De.default);var Wr={dedupe:!0};lr.defineProperty((function(e){var t=e.value,n=(0,De.useContext)(Vr),r=pr(t),o=(0,De.useMemo)((function(){return r?t(n):t}),[r,n,t]),i=(0,De.useMemo)((function(){return r?o:Kr(n,o)}),[r,n,o]),a=o&&o.provider,u=c((0,De.useState)((function(){return a?Lr(a(i.cache||Br),o):cr})),1)[0];return u&&(i.cache=u[0],i.mutate=u[1]),Pr((function(){if(u)return u[2]&&u[2](),u[3]}),[]),(0,De.createElement)(Vr.Provider,dr(e,{value:i}))}),"defaultValue",{value:Fr});var Gr,Zr=(Gr=function(e,t,n){var r=n.cache,o=n.compare,a=n.suspense,u=n.fallbackData,p=n.revalidateOnMount,h=n.refreshInterval,y=n.refreshWhenHidden,v=n.refreshWhenOffline,b=n.keepPreviousData,m=c(ar.get(r),3),g=m[0],w=m[1],S=m[2],O=c(Tr(e),2),x=O[0],E=O[1],_=(0,De.useRef)(!1),j=(0,De.useRef)(!1),k=(0,De.useRef)(x),A=(0,De.useRef)(t),P=(0,De.useRef)(n),C=function(){return P.current},I=function(){return C().isVisible()&&C().isOnline()},T=c(br(r,x),3),D=T[0],$=T[1],R=T[2],N=(0,De.useRef)({}).current,M=fr(u)?n.fallback[x]:u,L=function(e,t){var n=!0;for(var r in N){var i=r;o(t[i],e[i])||"data"===i&&fr(e[i])&&o(t[i],H)||(n=!1)}return n},U=(0,De.useMemo)((function(){var e=!!x&&!!t&&(fr(p)?!C().isPaused()&&!a:p),n=function(){var t=D(),n=dr(t);return delete n._k,e?s({isValidating:!0,isLoading:!0},n):n},r=n();return function(){var e=n();return L(e,r)?r:r=e}}),[r,x]),B=(0,ir.useSyncExternalStore)((0,De.useCallback)((function(e){return R(x,(function(t,n){L(t,n)||e()}))}),[r,x]),U,U),z=!_.current,F=B.data,K=fr(F)?M:F,V=B.error,q=(0,De.useRef)(K),H=b?fr(F)?q.current:F:K,W=z&&!fr(p)?p:!C().isPaused()&&(a?!fr(K)&&n.revalidateIfStale:fr(K)||n.revalidateIfStale),G=!!(x&&t&&z&&W),Z=fr(B.isValidating)?G:B.isValidating,Y=fr(B.isLoading)?G:B.isLoading,X=(0,De.useCallback)(function(){var e=i((function(e){var t,r,i,a,u,s,l,f,p,h,y,v,b,m,g,O,P;return d(this,(function(d){switch(d.label){case 0:if(t=A.current,!x||!t||j.current||C().isPaused())return[2,!1];a=!0,u=e||{},s=!S[x]||!u.dedupe,l=function(){return kr?!j.current&&x===k.current&&_.current:x===k.current},f={isValidating:!1,isLoading:!1},p=function(){$(f)},h=function(){var e=S[x];e&&e[1]===i&&delete S[x]},y={isValidating:!0},fr(D().data)&&(y.isLoading=!0),d.label=1;case 1:return d.trys.push([1,3,,4]),s&&($(y),n.loadingTimeout&&fr(D().data)&&setTimeout((function(){a&&l()&&C().onLoadingSlow(x,n)}),n.loadingTimeout),S[x]=[t(E),$r()]),v=c(S[x],2),r=v[0],i=v[1],[4,r];case 2:return r=d.sent(),s&&setTimeout(h,n.dedupingInterval),S[x]&&S[x][1]===i?(f.error=cr,b=w[x],!fr(b)&&(i<=b[0]||i<=b[1]||0===b[1])?[2,(p(),s&&l()&&C().onDiscarded(x),!1)]:(m=D().data,f.data=o(m,r)?m:r,s&&l()&&C().onSuccess(r,x,n),[3,4])):[2,(s&&l()&&C().onDiscarded(x),!1)];case 3:return g=d.sent(),h(),O=C(),P=O.shouldRetryOnError,O.isPaused()||(f.error=g,s&&l()&&(O.onError(g,x,O),(!0===P||pr(P)&&P(g))&&I()&&O.onErrorRetry(g,x,O,X,{retryCount:(u.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return[2,(a=!1,p(),!0)]}}))}));return function(t){return e.apply(this,arguments)}}(),[x,r]),Q=(0,De.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Rr.apply(void 0,[r,k.current].concat(l(t)))}),[]);if(Pr((function(){A.current=t,P.current=n,fr(F)||(q.current=F)})),Pr((function(){if(x){var e=X.bind(cr,Wr),t=0,n=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}}(x,g,(function(n){if(0==n){var r=Date.now();C().revalidateOnFocus&&r>t&&I()&&(t=r+C().focusThrottleInterval,e())}else if(1==n)C().revalidateOnReconnect&&I()&&e();else if(2==n)return X()}));return j.current=!1,k.current=x,_.current=!0,$({_k:E}),W&&(fr(K)||Ar?e():function(e){yr&&f(window.requestAnimationFrame)!=hr?window.requestAnimationFrame(e):setTimeout(e,1)}(e)),function(){j.current=!0,n()}}}),[x]),Pr((function(){var e,t=function(){var t=pr(h)?h(K):h;t&&-1!==e&&(e=setTimeout(n,t))},n=function(){D().error||!y&&!C().isVisible()||!v&&!C().isOnline()?t():X(Wr).then(t)};return t(),function(){e&&(clearTimeout(e),e=-1)}}),[h,y,v,x]),(0,De.useDebugValue)(H),a&&fr(K)&&x){if(!kr&&Ar)throw new Error("Fallback data is required when using suspense in SSR.");throw A.current=t,P.current=n,j.current=!1,fr(V)?X(Wr):V}return{mutate:Q,get data(){return N.data=!0,H},get error(){return N.error=!0,V},get isValidating(){return N.isValidating=!0,Z},get isLoading(){return N.isLoading=!0,Y}}},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=dr(Fr,(0,De.useContext)(Vr)),o=c(function(e){return pr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]}(t),3),i=o[0],a=o[1],u=o[2],s=Kr(r,u),l=Gr,f=(s.use||[]).concat(Hr),p=f.length;p--;)l=f[p](l);return l(i,a||s.fetcher||null,s)}),Yr=S(688),Xr=S(332),Qr=S.n(Xr);Yr.default.extend(Qr());var Jr=10}(),O}())}}}))},9741:(e,t,n)=>{"use strict";n.d(t,{w:()=>u,hj:()=>Ht,dT:()=>x,Vz:()=>$e,NV:()=>l,D$:()=>te,Ae:()=>J,tl:()=>Q,a$:()=>ee,nI:()=>ke,YV:()=>re,P3:()=>m,yn:()=>oe,ZR:()=>fe,BL:()=>g,Y9:()=>y,qd:()=>Oe,jf:()=>xe,mr:()=>je,Z_:()=>Pe,t$:()=>Ce,h0:()=>Ft,lm:()=>Se,kP:()=>Ne,oR:()=>Fe,xQ:()=>Ke,JF:()=>Mt,NN:()=>Ut});var r=n(5776),o=n.n(r),i=n(9714);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.to,n=e.templateParams,r=e.children,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["to","templateParams","children"]);return o().createElement("a",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({onClick:function(e){return function(e,t,n){e.metaKey||e.ctrlKey||e.shiftKey||0!=e.button||(e.preventDefault(),(0,i.navigate)({to:t,templateParams:n}))}(e,t,n)},href:(0,i.interpolateUrl)(t,n)},u),r)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(e.getState()),2),o=n[0],i=n[1];(0,r.useEffect)((function(){return e.subscribe((function(e){return i(e)}))}),[]);var a=(0,r.useMemo)((function(){return t?function(e,t){var n=function(n){o[n]=function(){var o=r;e.setState((function(e){for(var r=[e],i=0;i<o.length;i++)r.push(o[i]);return t[n](r)}))}},r=arguments;"function"==typeof t&&(t=t(e));var o={};for(var i in t)n(i);return o}(e,t):{}}),[t]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({},o,a)}}var f=n(225),p=o().createContext({moduleName:""}),d=n(3103);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(window.navigator.onLine),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){return(0,d.subscribeConnectivityChanged)((function(e){var t=e.online;return n(t)}))}),[]),t}var v=n(3202);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)([]),2),n=t[0],o=t[1];return(0,r.useEffect)((function(){var t=function(t){var r,i,a=null!==(i=null===(r=t.slots[e])||void 0===r?void 0:r.assignedExtensions)&&void 0!==i?i:[];(0,v.Z)(a,n)||o(a)};return t((0,f.getExtensionStore)().getState()),(0,f.getExtensionStore)().subscribe(t)}),[e,n]),n}function g(e){var t=y(),n=m(e);return(0,r.useMemo)((function(){return(0,f.getConnectedExtensions)(n,t)}),[n,t])}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function O(e){return e}function x(e){var t=e.name,n=e.extensionSlotName,i=e.select,a=void 0===i?O:i,u=e.children,s=e.state,c=e.style,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","extensionSlotName","select","children","state","style"]);if(u&&s)throw new Error("Both children and state have been provided. If children are provided, the state must be passed as a prop to the `Extension` component.");var d,h,y,v,b=null!=t?t:n,m=(0,r.useRef)(null),w=function(e){var t=(0,r.useContext)(p).moduleName;if(!t)throw Error("ComponentContext has not been provided. This should come from @openmrs/esm-react-utils.");return(0,r.useEffect)((function(){(0,f.registerExtensionSlot)(t,e)}),[]),{extensions:g(e),extensionSlotName:e,extensionSlotModuleName:t}}(b),x=w.extensions,E=w.extensionSlotModuleName,_=(0,r.useMemo)((function(){return a(x)}),[a,x]),j=(0,r.useMemo)((function(){if("function"==typeof u&&!o().isValidElement(u))return _.map((function(e){return u(e)}))}),[u,_]);return o().createElement("div",S({ref:m,"data-extension-slot-name":b,"data-extension-slot-module-name":E,style:(y=S({},c),v={position:"relative"},v=null!=v?v:{},Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(v)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(v)).forEach((function(e){Object.defineProperty(y,e,Object.getOwnPropertyDescriptor(v,e))})),y)},l),b&&_.map((function(e,t){return o().createElement(p.Provider,{key:e.id,value:{moduleName:E,extension:{extensionId:e.id,extensionSlotName:b,extensionSlotModuleName:E}}},null!==(h=null!==(d=null==j?void 0:j[t])&&void 0!==d?d:"function"!=typeof u?u:null)&&void 0!==h?h:o().createElement(Ht,{state:s}))})))}var E=n(4645);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n;if("function"!=typeof(n=t.domElement?function(){return t.domElement}:t.domElementGetter?t.domElementGetter:e.domElementGetter?e.domElementGetter:function(e){var t=e.appName||e.name;if(!t)throw Error("single-spa's dom-element-getter-helpers was not given an application name as a prop, so it can't make a unique dom element container for the react application");var n="single-spa-application:".concat(t);return function(){var e=document.getElementById(n);return e||((e=document.createElement("div")).id=n,document.body.appendChild(e)),e}}(t)))throw Error("single-spa's dom-element-getter-helpers was given an invalid domElementGetter for application or parcel '".concat(t.name,"'. Expected a function, received ").concat(P(n)));return function(){var e=n(t);if(!(e instanceof HTMLElement))throw Error("single-spa's dom-element-getter-helpers: domElementGetter returned an invalid dom element for application or parcel '".concat(t.name,"'. Expected HTMLElement, received ").concat(P(e)));return e}}var I=null;try{I=require("react").createContext()}catch(_){}var T={React:null,ReactDOM:null,ReactDOMClient:null,rootComponent:null,loadRootComponent:null,renderType:"createRoot",errorBoundary:null,errorBoundaryClass:null,domElementGetter:null,parcelCanUpdate:!0,suppressComponentDidCatchWarning:!1,domElements:{},renderResults:{},updateResolves:{},unmountResolves:{}};function D(e){if("object"!==k(e))throw new Error("single-spa-react requires a configuration object");var t=j(j({},T),e);if(!t.React)throw new Error("single-spa-react must be passed opts.React");if(!t.ReactDOM&&!t.ReactDOMClient)throw new Error("single-spa-react must be passed opts.ReactDOM or opts.ReactDOMClient");if(!t.rootComponent&&!t.loadRootComponent)throw new Error("single-spa-react must be passed opts.rootComponent or opts.loadRootComponent");if(t.errorBoundary&&"function"!=typeof t.errorBoundary)throw Error("The errorBoundary opt for single-spa-react must either be omitted or be a function that returns React elements");!I&&t.React.createContext&&(I=t.React.createContext()),t.SingleSpaRoot=function(e){function t(e){t.displayName="SingleSpaRoot(".concat(e.name,")")}return t.prototype=Object.create(e.React.Component.prototype),t.prototype.componentDidMount=function(){setTimeout(this.props.mountFinished)},t.prototype.componentWillUnmount=function(){setTimeout(this.props.unmountFinished)},t.prototype.render=function(){return setTimeout(this.props.updateFinished),this.props.children},t}(t);var n={bootstrap:$.bind(null,t),mount:R.bind(null,t),unmount:N.bind(null,t)};return t.parcelCanUpdate&&(n.update=M.bind(null,t)),n}function $(e,t){return e.rootComponent?Promise.resolve():e.loadRootComponent(t).then((function(t){e.rootComponent=t}))}function R(e,t){return new Promise((function(n,r){e.suppressComponentDidCatchWarning||!function(e){if(!(e&&"string"==typeof e.version&&e.version.indexOf(".")>=0))return!1;var t=e.version.slice(0,e.version.indexOf("."));try{return Number(t)>=16}catch(e){return!1}}(e.React)||e.errorBoundary||e.errorBoundaryClass||(e.rootComponent.prototype?e.rootComponent.prototype.componentDidCatch||console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.")):console.warn("single-spa-react: ".concat(t.name||t.appName||t.childAppName,"'s rootComponent does not implement an error boundary.  If using a functional component, consider providing an opts.errorBoundary to singleSpaReact(opts).")));var o=B(e,t,(function(){n(this)})),i=C(e,t)(),a=function(e){var t=e.renderType,n=e.elementToRender,r=e.domElement,o=e.reactDom[t];if("function"!=typeof o)throw new Error('renderType "'.concat(t,'" did not return a function.'));switch(t){case"createRoot":case"unstable_createRoot":case"createBlockingRoot":case"unstable_createBlockingRoot":var i=o(r);return i.render(n),i;case"hydrateRoot":return o(r,n);default:return o(n,r),null}}({elementToRender:o,domElement:i,reactDom:L(e),renderType:U(e)});e.domElements[t.name]=i,e.renderResults[t.name]=a}))}function N(e,t){return new Promise((function(n){e.unmountResolves[t.name]=n;var r=e.renderResults[t.name];r&&r.unmount?r.unmount():L(e).unmountComponentAtNode(e.domElements[t.name]),delete e.domElements[t.name],delete e.renderResults[t.name]}))}function M(e,t){return new Promise((function(n){e.updateResolves[t.name]||(e.updateResolves[t.name]=[]),e.updateResolves[t.name].push(n);var r=B(e,t,null),o=e.renderResults[t.name];if(o&&o.render)o.render(r);else{var i=C(e,t)();L(e).render(r,i)}}))}function L(e){return e.ReactDOMClient||e.ReactDOM}function U(e){return"function"==typeof e.renderType?e.renderType():e.renderType}function B(e,t,n){var r=e.React.createElement(e.rootComponent,t),o=I?e.React.createElement(I.Provider,{value:t},r):r;return(e.errorBoundary||t.errorBoundary||e.errorBoundaryClass||t.errorBoundaryClass)&&(e.errorBoundaryClass=e.errorBoundaryClass||t.errorBoundaryClass||function(e,t){function n(t){e.React.Component.apply(this,arguments),this.state={caughtError:null,caughtErrorInfo:null},n.displayName="SingleSpaReactErrorBoundary(".concat(t.name,")")}return n.prototype=Object.create(e.React.Component.prototype),n.prototype.render=function(){return this.state.caughtError?(e.errorBoundary||t.errorBoundary)(this.state.caughtError,this.state.caughtErrorInfo,this.props):this.props.children},n.prototype.componentDidCatch=function(e,t){this.setState({caughtError:e,caughtErrorInfo:t})},n}(e,t),o=e.React.createElement(e.errorBoundaryClass,t,o)),e.React.createElement(e.SingleSpaRoot,j(j({},t),{},{mountFinished:n,updateFinished:function(){e.updateResolves[t.name]&&(e.updateResolves[t.name].forEach((function(e){return e()})),delete e.updateResolves[t.name])},unmountFinished:function(){e.unmountResolves[t.name]&&(e.unmountResolves[t.name](),delete e.unmountResolves[t.name])}}),o)}var z=n(7319),F=n.n(z),K=n(2680);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var G=F().default||F(),Z={strictMode:!0,throwErrorsToConsole:!0,disableTranslations:!1},Y=function(e){(0,r.useEffect)((function(){return G.on("languageChanged",e.forceUpdate),function(){return G.off("languageChanged",e.forceUpdate)}}),[e.forceUpdate]);var t=(0,r.useRef)(null);if(t.current)throw t.current;if(!G.hasLoadedNamespace(e.ns)){var n=setTimeout((function(){console.warn("openmrsComponentDecorator: the React suspense promise for i18next.loadNamespaces(['".concat(e.ns,"']) did not resolve nor reject after three seconds. This could mean you have multiple versions of i18next and haven't made i18next a webpack external in all projects."))}),3e3);throw G.loadNamespaces([e.ns]).then((function(){return clearTimeout(n)})).catch((function(e){clearTimeout(n),t.current=e}))}return o().createElement(o().Fragment,null,e.children)};function X(e){if("object"!=typeof e||"string"!=typeof e.featureName||"string"!=typeof e.moduleName)throw new Error("Invalid options");var t=Object.assign({},Z,e);return function(e){var n,r,i,a;return r=n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(u,n);var r,i,a=W(u);function u(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this,e)).state={caughtError:null,caughtErrorInfo:null,config:{moduleName:t.moduleName,extension:e._extensionContext}},n}return r=u,(i=[{key:"componentDidCatch",value:function(e,n){n&&n.componentStack&&(e.extra=Object.assign(e.extra||{},{componentStack:n.componentStack})),t.throwErrorsToConsole&&setTimeout((function(){throw e})),this.setState({caughtError:e,caughtErrorInfo:n})}},{key:"render",value:function(){var n=this;if(this.state.caughtError)return o().createElement("div",null,"An error has occurred. Please try reloading the page.");var r=o().createElement(p.Provider,{value:this.state.config},o().createElement(o().Suspense,{fallback:null},t.disableTranslations?o().createElement(e,this.props):o().createElement(Y,{ns:t.moduleName,forceUpdate:function(){return n.forceUpdate()}},o().createElement(K.I18nextProvider,{i18n:G,defaultNS:t.moduleName},o().createElement(e,this.props)))));return t.strictMode||!o().StrictMode?r:o().createElement(o().StrictMode,null,r)}}])&&V(r.prototype,i),u}(o().Component),i="displayName",a="OpenmrsReactComponent(".concat(t.featureName,")"),i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n}}function Q(e,t){return D({React:o(),ReactDOMClient:E,rootComponent:X(t)(e)})}function J(e,t){return function(){return e().then((function(e){return Q(e.default,t)}))}}function ee(e,t){return function(){return Promise.resolve(Q(e,t))}}var te=J;function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)([]),2),n=t[0],o=t[1];return(0,r.useEffect)((function(){return(0,f.getExtensionStore)().subscribe((function(t){var r,i,a=null!==(i=null===(r=t.slots[e])||void 0===r?void 0:r.assignedExtensions.map((function(e){return e.id})))&&void 0!==i?i:[];(0,v.Z)(a,n)||o(a)}))}),[]),n}function oe(e){(0,r.useEffect)((function(){if(e){var t=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=t}}}),[e])}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var se={},ce='No ComponentContext has been provided. This should come from "openmrsComponentDecorator".\nUsually this is already applied when using "getAsyncLifecycle" or "getSyncLifecycle".';function le(e){var t=(0,r.useMemo)(i.getExtensionsConfigStore,[]),n=function(e,t){var n=ue((0,r.useState)(function(e,t){return t?function(){var n=e.getState(),r=(0,i.getExtensionConfigFromStore)(n,t.extensionSlotName,t.extensionId);if(r.loaded&&r.config)return r.config}:null}(e,t)),2),o=n[0],a=n[1];return(0,r.useEffect)((function(){if(t)return e.subscribe((function(e){var n=(0,i.getExtensionConfigFromStore)(e,t.extensionSlotName,t.extensionId);n.loaded&&n.config&&!(0,v.Z)(n.config,o)&&a(n.config)}))}),[e,t,o]),o}(t,e);if(!n&&e){var o="".concat(e.extensionSlotName,"-").concat(e.extensionId);throw!se[o]&&t&&(se[o]=function(e,t){return new Promise((function(n){var r=e.subscribe((function(e){var o=(0,i.getExtensionConfigFromStore)(e,t.extensionSlotName,t.extensionId);o.loaded&&o.config&&(n(o.config),r())}))}))}(t,e)),se[o]}return n||{}}function fe(){var e=(0,r.useContext)(p),t=e.moduleName,n=e.extension;if(!t&&!n)throw Error(ce);var o=function(e){var t=(0,r.useMemo)((function(){return(0,i.getConfigStore)(e)}),[e]),n=e,o=function(e){var t=ue((0,r.useState)(function(e){return function(){var t=e.getState();return t.loaded&&t.config?t.config:null}}(e)),2),n=t[0],o=t[1];return(0,r.useEffect)((function(){return null==e?void 0:e.subscribe((function(e){e.loaded&&e.config&&o(e.config)}))}),[e]),n}(t);if(!o)throw se[n]||(se[n]=function(e){return new Promise((function(t){var n=e.subscribe((function(e){e.loaded&&e.config&&(t(e.config),n())}))}))}(t)),se[n];return o}(t),a=le(n),u=(0,r.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ae(e,t,n[t])}))}return e}({},o,a)}),[o,a]);return u}var pe,de=n(7641);function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}function be(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}!function(e){e.loadPatient="loadPatient",e.newPatient="newPatient",e.loadError="patientLoadError"}(pe||(pe={}));var me={patientUuid:null,patient:null,isPendingUuid:!0,isLoadingPatient:!1,err:null};function ge(){var e=/\/patient\/([a-zA-Z0-9\-]+)\/?/.exec(location.pathname);return e&&e[1]}function we(e,t){switch(t.type){case pe.loadPatient:return be(ve({},e),{patientUuid:t.patientUuid,patient:null,isPendingUuid:!1,isLoadingPatient:!0,err:null});case pe.newPatient:return be(ve({},e),{patient:t.patient,isPendingUuid:!1,isLoadingPatient:!1,err:null});case pe.loadError:return be(ve({},e),{patient:null,isPendingUuid:!1,isLoadingPatient:!1,err:t.err});default:return e}}function Se(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useReducer)(we,be(ve({},me),{patientUuid:null!=e?e:null,isPendingUuid:!e,isLoadingPatient:!!e})),2),n=t[0],o=t[1];return(0,r.useEffect)((function(){if(n.isPendingUuid){var e=ge();o(e?{type:pe.loadPatient,patientUuid:e}:{type:pe.newPatient,patient:null})}var t=!0;return n.isLoadingPatient&&n.patientUuid&&(0,de.fetchCurrentPatient)(n.patientUuid).then((function(e){return t&&o({patient:e,type:pe.newPatient})}),(function(e){return t&&o({err:e,type:pe.loadError})})),function(){t=!1}}),[n.isPendingUuid,n.isLoadingPatient,n.patientUuid]),(0,r.useEffect)((function(){var e=function(e){var t=ge();t!=n.patientUuid&&o({type:pe.loadPatient,patientUuid:t})};return window.addEventListener("single-spa:routing-event",e),function(){return window.removeEventListener("single-spa:routing-event",e)}}),[n.patientUuid]),{isLoading:n.isPendingUuid||n.isLoadingPatient,patient:n.patient,patientUuid:null!=e?e:n.patientUuid,error:n.err}}function Oe(e){var t=g(e);return(0,r.useMemo)((function(){return Object.fromEntries(t.map((function(e){return[e.name,e.meta]})))}),[t])}l((0,f.getExtensionInternalStore)());var xe=l((0,f.getExtensionStore)());function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(){var e="tablet";return document.body.classList.forEach((function(t){switch(t){case"omrs-breakpoint-lt-tablet":e="phone";break;case"omrs-breakpoint-gt-small-desktop":e="large-desktop";break;case"omrs-breakpoint-gt-tablet":e="small-desktop"}})),e}function je(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(_e),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){n(_e())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}var ke=function(e){return"small-desktop"===e||"large-desktop"===e};function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=(0,de.getLocations)().subscribe((function(e){n(e)}),(function(e){console.error(e)}));return function(){return e.unsubscribe()}}),[]),t}function Ce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(t){var r=function(t){var r;(null==n||null===(r=n.current)||void 0===r?void 0:r.contains(t.target))||e(t)};return window.addEventListener("click",r),function(){return window.removeEventListener("click",r)}}}),[e,t]),n}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Te,De,$e=function(e){var t=e.privilege,n=e.fallback,i=e.children,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(null),2),u=a[0],s=a[1];return(0,r.useEffect)((function(){var e=(0,de.getCurrentUser)({includeAuthStatus:!1}).subscribe(s);return function(){return e.unsubscribe()}}),[]),u&&(0,de.userHasAccess)(t,u)?o().createElement(o().Fragment,null,i):n?o().createElement(o().Fragment,null,n):null};function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(null),2),t=e[0],n=e[1],o=null;if(!t){if(Te){var i=(0,de.getSessionStore)().getState();i.loaded&&(o=i.session)}else Te=new Promise((function(e){var t=function(t){var n=t.loaded,r=t.session;n&&(e(r),o=r,De&&De(),De=void 0)};t((0,de.getSessionStore)().getState()),o||(De=(0,de.getSessionStore)().subscribe(t))}));if(!o)throw Te;n(o)}(0,r.useEffect)((function(){return De||(De=(0,de.getSessionStore)().subscribe((function(e){var t=e.loaded,r=e.session;t&&(o=r,n(r))}))),function(){De&&De(),De=void 0}}),[]);var a=t||o;if(!a)throw Te?(console.warn("useSession is in an unexpected state. Attempting to recover."),Te):Error("useSession is in an invalid state.");return a}var Me=n(5385);function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}var ze=function(e){return e};function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze,n=arguments.length>2?arguments[2]:void 0,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)((function(){return t(e.getState())})),2),i=o[0],a=o[1];(0,r.useEffect)((function(){return(0,Me.subscribeTo)(e,t,a)}),[e,t]);var u=(0,r.useMemo)((function(){return n?function(e,t){var n=function(n){o[n]=function(){var o=r;e.setState((function(e){for(var r,i=[e],a=0;a<o.length;a++)i.push(o[a]);return(r=t)[n].apply(r,function(e){if(Array.isArray(e))return Le(e)}(u=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||Be(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var u}))}},r=arguments;"function"==typeof t&&(t=t(e));var o={};for(var i in t)n(i);return o}(e,n):{}}),[e,n]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ue(e,t,n[t])}))}return e}({},i,u)}function Ke(e,t){return Fe(e,ze,t)}var Ve=n(1374);const qe=new WeakMap,He={},We=()=>{},Ge=We(),Ze=Object,Ye=e=>e===Ge,Xe=e=>"function"==typeof e,Qe=(e,t)=>({...e,...t}),Je="undefined",et=typeof window!=Je,tt=typeof document!=Je,nt=(e,t)=>{const n=qe.get(e);return[()=>e.get(t)||He,r=>{const o=e.get(t);n[5](t,Qe(o,r),o||He)},n[6]]},rt=new WeakMap;let ot=0;const it=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let o,i;if(Ze(e)!==e||r||n==RegExp)o=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(o=rt.get(e),o)return o;if(o=++ot+"~",rt.set(e,o),n==Array){for(o="@",i=0;i<e.length;i++)o+=it(e[i])+",";rt.set(e,o)}if(n==Ze){o="#";const t=Ze.keys(e).sort();for(;!Ye(i=t.pop());)Ye(e[i])||(o+=i+":"+it(e[i])+",");rt.set(e,o)}}return o};let at=!0;const[ut,st]=et&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[We,We],ct={isOnline:()=>at,isVisible:()=>{const e=tt&&document.visibilityState;return Ye(e)||"hidden"!==e}},lt={initFocus:e=>(tt&&document.addEventListener("visibilitychange",e),ut("focus",e),()=>{tt&&document.removeEventListener("visibilitychange",e),st("focus",e)}),initReconnect:e=>{const t=()=>{at=!0,e()},n=()=>{at=!1};return ut("online",t),ut("offline",n),()=>{st("online",t),st("offline",n)}}},ft=!r.useId,pt=!et||"Deno"in window,dt=pt?r.useEffect:r.useLayoutEffect,ht="undefined"!=typeof navigator&&navigator.connection,yt=!pt&&ht&&(["slow-2g","2g"].includes(ht.effectiveType)||ht.saveData),vt=e=>{if(Xe(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?it(e):"",t]};let bt=0;const mt=()=>++bt;async function gt(...e){const[t,n,r,o]=e,i=Qe({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{});let a=i.populateCache;const u=i.rollbackOnError;let s=i.optimisticData;const c=!1!==i.revalidate,l=i.throwOnError;if(Xe(n)){const e=n,r=[],o=t.keys();for(let n=o.next();!n.done;n=o.next()){const o=n.value;!o.startsWith("$inf$")&&e(t.get(o)._k)&&r.push(o)}return Promise.all(r.map(f))}return f(n);async function f(n){const[o]=vt(n);if(!o)return;const[i,f]=nt(t,o),[p,d,h]=qe.get(t),y=p[o],v=()=>c&&(delete h[o],y&&y[0])?y[0](2).then((()=>i().data)):i().data;if(e.length<3)return v();let b,m=r;const g=mt();d[o]=[g,0];const w=!Ye(s),S=i(),O=S.data,x=S._c,E=Ye(x)?O:x;if(w&&(s=Xe(s)?s(E):s,f({data:s,_c:E})),Xe(m))try{m=m(E)}catch(e){b=e}if(m&&Xe(m.then)){if(m=await m.catch((e=>{b=e})),g!==d[o][0]){if(b)throw b;return m}b&&w&&(e=>"function"==typeof u?u(e):!1!==u)(b)&&(a=!0,m=E,f({data:m,_c:Ge}))}a&&(b||(Xe(a)&&(m=a(m,E)),f({data:m,_c:Ge}))),d[o][1]=mt();const _=await v();if(f({_c:Ge}),!b)return a?_:m;if(l)throw b}}const wt=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},St=(e,t)=>{if(!qe.has(e)){const n=Qe(lt,t),r={},o=gt.bind(Ge,e);let i=We;const a={},u=(e,t)=>{const n=a[e]||[];return a[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},s=(t,n,r)=>{e.set(t,n);const o=a[t];if(o)for(let e=o.length;e--;)o[e](r,n)},c=()=>{if(!qe.has(e)&&(qe.set(e,[r,{},{},{},o,s,u]),!pt)){const t=n.initFocus(setTimeout.bind(Ge,wt.bind(Ge,r,0))),o=n.initReconnect(setTimeout.bind(Ge,wt.bind(Ge,r,1)));i=()=>{t&&t(),o&&o(),qe.delete(e)}}};return c(),[e,o,c,i]}return[e,qe.get(e)[4]]},[Ot,xt]=St(new Map),Et=Qe({onLoadingSlow:We,onSuccess:We,onError:We,onErrorRetry:(e,t,n,r,o)=>{const i=n.errorRetryCount,a=o.retryCount,u=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!Ye(i)&&a>i||setTimeout(r,u,o)},onDiscarded:We,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:yt?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:yt?5e3:3e3,compare:(e,t)=>it(e)==it(t),isPaused:()=>!1,cache:Ot,mutate:xt,fallback:{}},ct),_t=(e,t)=>{const n=Qe(e,t);if(t){const{use:r,fallback:o}=e,{use:i,fallback:a}=t;r&&i&&(n.use=r.concat(i)),o&&a&&(n.fallback=Qe(o,a))}return n},jt=(0,r.createContext)({}),kt=et&&window.__SWR_DEVTOOLS_USE__,At=kt?window.__SWR_DEVTOOLS_USE__:[],Pt=At.concat((e=>(t,n,r)=>e(t,n&&((...e)=>{const r=vt(t)[0],[,,,o]=qe.get(Ot),i=o[r];return i?(delete o[r],i):n(...e)}),r)));kt&&(window.__SWR_DEVTOOLS_REACT__=r);const Ct={dedupe:!0};Ze.defineProperty((e=>{const{value:t}=e,n=(0,r.useContext)(jt),o=Xe(t),i=(0,r.useMemo)((()=>o?t(n):t),[o,n,t]),a=(0,r.useMemo)((()=>o?i:_t(n,i)),[o,n,i]),u=i&&i.provider,[s]=(0,r.useState)((()=>u?St(u(a.cache||Ot),i):Ge));return s&&(a.cache=s[0],a.mutate=s[1]),dt((()=>{if(s)return s[2]&&s[2](),s[3]}),[]),(0,r.createElement)(jt.Provider,Qe(e,{value:a}))}),"defaultValue",{value:Et});var It,Tt=(It=(e,t,n)=>{const{cache:o,compare:i,suspense:a,fallbackData:u,revalidateOnMount:s,refreshInterval:c,refreshWhenHidden:l,refreshWhenOffline:f,keepPreviousData:p}=n,[d,h,y]=qe.get(o),[v,b]=vt(e),m=(0,r.useRef)(!1),g=(0,r.useRef)(!1),w=(0,r.useRef)(v),S=(0,r.useRef)(t),O=(0,r.useRef)(n),x=()=>O.current,E=()=>x().isVisible()&&x().isOnline(),[_,j,k]=nt(o,v),A=(0,r.useRef)({}).current,P=Ye(u)?n.fallback[v]:u,C=(e,t)=>{let n=!0;for(const r in A){const o=r;i(t[o],e[o])||"data"===o&&Ye(e[o])&&i(t[o],L)||(n=!1)}return n},I=(0,r.useMemo)((()=>{const e=!!v&&!!t&&(Ye(s)?!x().isPaused()&&!a:s),n=()=>{const t=_(),n=Qe(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n};let r=n();return()=>{const e=n();return C(e,r)?r:r=e}}),[o,v]),T=(0,Ve.useSyncExternalStore)((0,r.useCallback)((e=>k(v,((t,n)=>{C(t,n)||e()}))),[o,v]),I,I),D=!m.current,$=T.data,R=Ye($)?P:$,N=T.error,M=(0,r.useRef)(R),L=p?Ye($)?M.current:$:R,U=D&&!Ye(s)?s:!x().isPaused()&&(a?!Ye(R)&&n.revalidateIfStale:Ye(R)||n.revalidateIfStale),B=!!(v&&t&&D&&U),z=Ye(T.isValidating)?B:T.isValidating,F=Ye(T.isLoading)?B:T.isLoading,K=(0,r.useCallback)((async e=>{const t=S.current;if(!v||!t||g.current||x().isPaused())return!1;let r,o,a=!0;const u=e||{},s=!y[v]||!u.dedupe,c=()=>ft?!g.current&&v===w.current&&m.current:v===w.current,l={isValidating:!1,isLoading:!1},f=()=>{j(l)},p=()=>{const e=y[v];e&&e[1]===o&&delete y[v]},d={isValidating:!0};Ye(_().data)&&(d.isLoading=!0);try{if(s&&(j(d),n.loadingTimeout&&Ye(_().data)&&setTimeout((()=>{a&&c()&&x().onLoadingSlow(v,n)}),n.loadingTimeout),y[v]=[t(b),mt()]),[r,o]=y[v],r=await r,s&&setTimeout(p,n.dedupingInterval),!y[v]||y[v][1]!==o)return s&&c()&&x().onDiscarded(v),!1;l.error=Ge;const e=h[v];if(!Ye(e)&&(o<=e[0]||o<=e[1]||0===e[1]))return f(),s&&c()&&x().onDiscarded(v),!1;const u=_().data;l.data=i(u,r)?u:r,s&&c()&&x().onSuccess(r,v,n)}catch(e){p();const t=x(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,s&&c()&&(t.onError(e,v,t),(!0===n||Xe(n)&&n(e))&&E()&&t.onErrorRetry(e,v,t,K,{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return a=!1,f(),!0}),[v,o]),V=(0,r.useCallback)(((...e)=>gt(o,w.current,...e)),[]);if(dt((()=>{S.current=t,O.current=n,Ye($)||(M.current=$)})),dt((()=>{if(!v)return;const e=K.bind(Ge,Ct);let t=0;const n=((e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}})(v,d,(n=>{if(0==n){const n=Date.now();x().revalidateOnFocus&&n>t&&E()&&(t=n+x().focusThrottleInterval,e())}else if(1==n)x().revalidateOnReconnect&&E()&&e();else if(2==n)return K()}));return g.current=!1,w.current=v,m.current=!0,j({_k:b}),U&&(Ye(R)||pt?e():(e=>{et&&typeof window.requestAnimationFrame!=Je?window.requestAnimationFrame(e):setTimeout(e,1)})(e)),()=>{g.current=!0,n()}}),[v]),dt((()=>{let e;function t(){const t=Xe(c)?c(R):c;t&&-1!==e&&(e=setTimeout(n,t))}function n(){_().error||!l&&!x().isVisible()||!f&&!x().isOnline()?t():K(Ct).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[c,l,f,v]),(0,r.useDebugValue)(L),a&&Ye(R)&&v){if(!ft&&pt)throw new Error("Fallback data is required when using suspense in SSR.");throw S.current=t,O.current=n,g.current=!1,Ye(N)?K(Ct):N}return{mutate:V,get data(){return A.data=!0,L},get error(){return A.error=!0,N},get isValidating(){return A.isValidating=!0,z},get isLoading(){return A.isLoading=!0,F}}},function(...e){const t=Qe(Et,(0,r.useContext)(jt)),[n,o,i]=(e=>Xe(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}])(e),a=_t(t,i);let u=It;const{use:s}=a,c=(s||[]).concat(Pt);for(let e=c.length;e--;)u=c[e](u);return u(n,o||a.fetcher||null,a)}),Dt=n(9442),$t=n.n(Dt),Rt=n(4332),Nt=n.n(Rt);function Mt(e){var t,n=Tt(e?"/ws/rest/v1/visit?patient=".concat(e,"&v=").concat(de.defaultVisitCustomRepresentation,"&includeInactive=false"):null,de.openmrsFetch),o=n.data,i=n.error;return{error:i,mutate:n.mutate,isValidating:n.isValidating,currentVisit:(0,r.useMemo)((function(){return null!==(t=null==o?void 0:o.data.results.find((function(e){return null===e.stopDatetime})))&&void 0!==t?t:null}),[null==o?void 0:o.data.results]),isLoading:!o&&!i}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ut(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=(0,de.getVisitTypes)().subscribe((function(e){n(e)}),(function(e){return console.error(e)}));return function(){return e.unsubscribe()}}),[]),t}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$t().extend(Nt());var zt=10;function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(1),2),o=n[0],i=n[1],a=(0,r.useMemo)((function(){return"number"==typeof t&&t>0?Math.max(1,Math.ceil(e.length/t)):1}),[e.length,t]);return{results:(0,r.useMemo)((function(){var n=(o-1)*t,r=(o+0)*t;return e.slice(n,r)}),[e,o,t]),totalPages:a,currentPage:o,paginated:e.length>t,showNextButton:o<a,showPreviousButton:o>1,goTo:function(e){i(Math.max(1,Math.min(a,e)))},goToNext:function(){o<a&&i(o+1)},goToPrevious:function(){o>1&&i(o-1)}}}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Vt(e,t,n[t])}))}return e}var Ht=function(e){var t=e.state,n=e.children,i=e.wrap,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["state","children","wrap"]),u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(),2),s=u[0],c=u[1],l=(0,r.useContext)(p).extension,d=(0,r.useRef)(null),h=(0,r.useRef)(),y=(0,r.useRef)(!1);(0,r.useEffect)((function(){i&&console.warn("'wrap' prop of Extension is being used ".concat((null==l?void 0:l.extensionId)?"by ".concat(l.extensionId," in ").concat(l.extensionSlotName):"",". This will be removed in a future release."))}),[]);var v=(0,r.useCallback)((function(e){c(e)}),[c]);(0,r.useEffect)((function(){if(null!=s&&(null==l?void 0:l.extensionSlotName)&&l.extensionSlotModuleName&&l.extensionSlotModuleName&&!d.current&&!y.current)return y.current=!0,(0,f.renderExtension)(s,l.extensionSlotName,l.extensionSlotModuleName,l.extensionId,void 0,t).then((function(e){d.current=e,y.current=!1})),function(){if(d&&d.current){var e=d.current.getStatus();switch(console.log("Unmounting ".concat(d.current,"; status: ").concat(e)),e){case"MOUNTING":d.current.mountPromise.then(d.current.unmount);break;case"MOUNTED":d.current.unmount();break;case"UPDATING":h.current&&h.current.then((function(){d.current&&"MOUNTED"===d.current.getStatus()&&d.current.unmount()}))}}}}),[null==l?void 0:l.extensionSlotName,null==l?void 0:l.extensionId,null==l?void 0:l.extensionSlotModuleName,s]),(0,r.useEffect)((function(){return d.current&&d.current.update&&Promise.all([d.current.mountPromise,h.current]).then((function(){var e;(null==d||null===(e=d.current)||void 0===e?void 0:e.update)&&(h.current=d.current.update(qt({},t)))})),function(){Promise.resolve(h.current).then((function(){h.current=void 0}))}}),[t]);var b=o().createElement("div",qt({ref:v,"data-extension-id":null==l?void 0:l.extensionId,style:{position:"relative"}},a));return"function"!=typeof n||o().isValidElement(n)?l&&i?i(b,l):b:o().createElement(o().Fragment,null,n(b,l))}},5385:()=>{System.register([],(function(e,t){return{execute:function(){e(function(){"use strict";var e=function(e,t){var n=c[e];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(t,!0),n.active=!0,n.value;var r=s()((function(){return t}));return c[e]={value:r,active:!0},r},t=function(e,t){var n=c[e];if(!n){var r=s()((function(){return null!=t?t:{}}));return c[e]={value:r,active:!1},r}return n.value},n=function(t){return e("app",t)},r=function(){return t("app",{})},o=function(e,t,n){var r=t(e.getState());return e.subscribe((function(e){var o=t(e);o!==r&&(r=o,n(o))}))},i={d:function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};i.r(a),i.d(a,{createAppState:function(){return n},createGlobalStore:function(){return e},getAppState:function(){return r},getGlobalStore:function(){return t},subscribeTo:function(){return o}});var u=function(e){var t,n=new Set,r=function(e,r){var o="function"==typeof e?e(t):e;if(!Object.is(o,t)){var i=t;t=(null!=r?r:"object"!=typeof o)?o:Object.assign({},t,o),n.forEach((function(e){return e(t,i)}))}},o=function(){return t},i={setState:r,getState:o,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,o,i),i},s=function(e){return e?u(e):u},c={};return a}())}}}))},9388:(e,t,n)=>{"use strict";n.d(t,{jk:()=>a,W5:()=>s,zJ:()=>u,se:()=>c});const r=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,o,i),i},o=e=>e?r(e):r;var i={};function a(e,t){var n=i[e];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(t,!0),n.active=!0,n.value;var r=o()((function(){return t}));return i[e]={value:r,active:!0},r}function u(e,t){var n=i[e];if(!n){var r=o()((function(){return null!=t?t:{}}));return i[e]={value:r,active:!1},r}return n.value}function s(){return u("app",{})}function c(e,t,n){var r=t(e.getState());return e.subscribe((function(e){var o=t(e);o!==r&&(r=o,n(o))}))}},2383:(e,t,n)=>{"use strict";n.d(t,{Te:()=>un,cW:()=>tn,VM:()=>Jt,fu:()=>Ot,K4:()=>$t,c0:()=>St,CF:()=>jt,$d:()=>en});var r=n(5776),o=n.n(r),i=n(4666),a={};try{process.env.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES&&"true"===process.env.CARBON_ENABLE_CSS_CUSTOM_PROPERTIES?a.enableCssCustomProperties=!0:a.enableCssCustomProperties=!1,process.env.CARBON_ENABLE_USE_CONTROLLED_STATE_WITH_VALUE&&"true"===process.env.CARBON_ENABLE_USE_CONTROLLED_STATE_WITH_VALUE?a.enableUseControlledStateWithValue=!0:a.enableUseControlledStateWithValue=!1,process.env.CARBON_ENABLE_CSS_GRID&&"true"===process.env.CARBON_ENABLE_CSS_GRID?a.enableCssGrid=!0:a.enableCssGrid=!1,process.env.CARBON_ENABLE_V11_RELEASE&&"true"===process.env.CARBON_ENABLE_V11_RELEASE?a.enableV11Release=!0:a.enableV11Release=!1}catch(e){a.enableCssCustomProperties=!1,a.enableUseControlledStateWithValue=!1,a.enableCssGrid=!1,a.enableV11Release=!1}var u=[{name:"enable-css-custom-properties",description:"Describe what the flag does",enabled:a.enableCssCustomProperties},{name:"enable-use-controlled-state-with-value",description:"Enable components to be created in either a controlled or uncontrolled mode\n",enabled:a.enableUseControlledStateWithValue},{name:"enable-css-grid",description:"Enable CSS Grid Layout in the Grid and Column React components\n",enabled:a.enableCssGrid},{name:"enable-v11-release",description:"Enable the features and functionality for the v11 Release\n",enabled:a.enableV11Release}];function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var p=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flags=new Map,t&&Object.keys(t).forEach((function(e){n.flags.set(e,t[e])}))}var t,n;return t=e,n=[{key:"checkForFlag",value:function(e){if(!this.flags.has(e))throw new Error("Unable to find a feature flag with the name: `".concat(e,"`"))}},{key:"add",value:function(e,t){if(this.flags.has(e))throw new Error("The feature flag: ".concat(e," already exists"));this.flags.set(e,t)}},{key:"enable",value:function(e){this.checkForFlag(e),this.flags.set(e,!0)}},{key:"disable",value:function(e){this.checkForFlag(e),this.flags.set(e,!1)}},{key:"merge",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.flags.set(n,e[n])}))}},{key:"mergeWithScope",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.flags);try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),o=r[0],i=r[1];this.flags.has(o)||this.flags.set(o,i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"enabled",value:function(e){return this.checkForFlag(e),this.flags.get(e)}}],n&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=new p(undefined),h=0;h<u.length;h++){var y=u[h];d.add(y.name,y.enabled)}function v(){return d.enabled.apply(d,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,n)}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){d.merge.apply(d,arguments)}({"enable-css-custom-properties":!0,"enable-css-grid":!0,"enable-v11-release":!0});var D=n(216),$=n.n(D),R=n(841),N=n.n(R);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var z=["width","height","viewBox"],F=["tabindex"],K={focusable:"false",preserveAspectRatio:"xMidYMid meet"};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var G=["className","children","tabIndex"],Z=["tabindex"],Y=o().forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tabIndex,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height,r=e.viewBox,o=void 0===r?"0 0 ".concat(t," ").concat(n):r,i=B(e,z),a=i.tabindex,u=B(i,F),s=L(L(L({},K),u),{},{width:t,height:n,viewBox:o});return s["aria-label"]||s["aria-labelledby"]||s.title?(s.role="img",null!=a&&(s.focusable="true",s.tabindex=a)):s["aria-hidden"]=!0,s}(q(q({},W(e,G)),{},{tabindex:i})),u=a.tabindex,s=W(a,Z);return n&&(s.className=n),null!=u&&(s.tabIndex=u),t&&(s.ref=t),o().createElement("svg",s,r)}));Y.displayName="Icon",Y.propTypes={"aria-hidden":$().string,"aria-label":$().string,"aria-labelledby":$().string,children:$().node,className:$().string,height:$().oneOfType([$().number,$().string]),preserveAspectRatio:$().string,tabIndex:$().string,viewBox:$().string,width:$().oneOfType([$().number,$().string]),xmlns:$().string},Y.defaultProps={xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},$().oneOfType([$().number,$().string]);var X,Q,J,ee,te,ne,re=["children","size"],oe=["children","size"],ie=["children","size"],ae=o().forwardRef((function(e,t){var n=e.children,r=e.size,i=void 0===r?16:r,a=W(e,re);return o().createElement(Y,q({width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"},a),X||(X=o().createElement("path",{d:"M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM6,26V6H26V26Z"})),n)})),ue=o().forwardRef((function(e,t){var n=e.children,r=e.size,i=void 0===r?16:r,a=W(e,oe);return o().createElement(Y,q({width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"},a),Q||(Q=o().createElement("path",{d:"M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM14,21.5,9,16.5427,10.5908,15,14,18.3456,21.4087,11l1.5918,1.5772Z"})),J||(J=o().createElement("path",{fill:"none",d:"M14,21.5,9,16.5427,10.5908,15,14,18.3456,21.4087,11l1.5918,1.5772Z","data-icon-path":"inner-path"})),n)})),se=o().forwardRef((function(e,t){var n=e.children,r=e.size,i=void 0===r?16:r,a=W(e,ie);return"glyph"===i||"glyph"===i||"glyphpx"===i?o().createElement(Y,q({width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 6",fill:"currentColor"},a),ee||(ee=o().createElement("path",{d:"M5 6L0 1 0.7 0.3 5 4.6 9.3 0.3 10 1z"})),n):16===i||"16"===i||"16px"===i?o().createElement(Y,q({width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},a),te||(te=o().createElement("path",{d:"M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"})),n):o().createElement(Y,q({width:i,height:i,ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor"},a),ne||(ne=o().createElement("path",{d:"M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"})),n)})),ce=o().createContext("cds");function le(){return o().useContext(ce)}var fe=["children","className","href","disabled","inline","visited","renderIcon","size"],pe=o().forwardRef((function(e,t){var n,r=e.children,i=e.className,a=e.href,u=e.disabled,s=void 0!==u&&u,c=e.inline,l=void 0!==c&&c,f=e.visited,p=void 0!==f&&f,d=e.renderIcon,h=e.size,y=k(e,fe),v=le(),b={className:N()("".concat(v,"--link"),i,(O(n={},"".concat(v,"--link--disabled"),s),O(n,"".concat(v,"--link--inline"),l),O(n,"".concat(v,"--link--visited"),p),O(n,"".concat(v,"--link--").concat(h),h),n)),rel:"_blank"===y.target?"noopener":null};return s?(b.role="link",b["aria-disabled"]=!0):b.href=a,o().createElement("a",x({ref:t},b,y),r,!l&&d&&o().createElement("div",{className:"".concat(v,"--link__icon")},o().createElement(d,null)))}));pe.displayName="Link",pe.propTypes={children:$().node,className:$().string,disabled:$().bool,href:$().string,inline:$().bool,renderIcon:$().oneOfType([$().func,$().object]),size:$().oneOf(["sm","md","lg"]),visited:$().bool};var de=pe,he={};function ye(e,t){return function(t,n,r){if(void 0!==t[n]){he[r]&&he[r][n]||(he[r]=m(m({},he[r]),{},O({},n,!0)));for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return e.apply(void 0,[t,n,r].concat(i))}}}var ve=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0;i<e.length&&!t.defaultPrevented;i++)"function"==typeof e[i]&&e[i].apply(e,[t].concat(r))}},be="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function me(e){if(function(e){if(e.tabIndex<0)return!1;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}(e))return e;var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.childNodes);try{for(n.s();!(t=n.n()).done;){var r=me(t.value);if(r)return r}}catch(e){n.e(e)}finally{n.f()}return null}function ge(e,t){for(var n=0;n<t.length;n++)if(we(e,t[n]))return!0;return!1}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=t.which,o=t.keyCode,i=t.code;return"string"==typeof e?e===n:"number"==typeof e?e===r||e===o:e.key&&Array.isArray(n)?-1!==n.indexOf(e.key):e.key===n||e.which===r||e.keyCode===o||e.code===i}var Se,Oe,xe,Ee,_e={key:"Enter",which:13,keyCode:13,code:"Enter"},je={key:" ",which:32,keyCode:32,code:"Space"},ke=["children","className","light"],Ae=["children","className","clicked","href","light","onClick","onKeyDown"],Pe=["children","className","disabled","id","light","name","onClick","onChange","onKeyDown","selected","tabIndex","title","value"],Ce=["tabIndex","className","children","expanded","tileMaxHeight","tilePadding","onClick","onKeyUp","tileCollapsedIconText","tileExpandedIconText","tileCollapsedLabel","tileExpandedLabel","light"],Ie=o().forwardRef((function(e,t){var n=e.children,r=e.className,i=e.light,a=void 0!==i&&i,u=k(e,ke),s=le(),c=N()("".concat(s,"--tile"),O({},"".concat(s,"--tile--light"),a),r);return o().createElement("div",x({className:c,ref:t},u),n)}));Ie.displayName="Tile",Ie.propTypes={children:$().node,className:$().string,light:ye($().bool)};var Te=o().forwardRef((function(e,t){var n,i=e.children,a=e.className,u=e.clicked,s=void 0!==u&&u,c=e.href,l=e.light,f=e.onClick,p=void 0===f?function(){}:f,d=e.onKeyDown,h=void 0===d?function(){}:d,y=k(e,Ae),v=le(),b=N()("".concat(v,"--tile"),"".concat(v,"--tile--clickable"),(O(n={},"".concat(v,"--tile--is-clicked"),s),O(n,"".concat(v,"--tile--light"),l),n),a),m=C((0,r.useState)(s),2),g=m[0],w=m[1];return o().createElement(de,x({className:b,href:c,onClick:function(e){e.persist(),w(!g),p(e)},onKeyDown:function(e){e.persist(),ge(e,[_e,je])&&(e.preventDefault(),w(!g),h(e)),h(e)},ref:t},y),i)}));Te.displayName="ClickableTile",Te.propTypes={children:$().node,className:$().string,clicked:$().bool,href:$().string,light:ye($().bool),onClick:$().func,onKeyDown:$().func,rel:$().string};var De=o().forwardRef((function(e,t){var n,i=e.children,a=e.className,u=e.disabled,s=e.id,c=e.light,l=e.name,f=e.onClick,p=void 0===f?function(){}:f,d=e.onChange,h=void 0===d?function(){}:d,y=e.onKeyDown,v=void 0===y?function(){}:y,b=e.selected,m=void 0!==b&&b,g=e.tabIndex,w=void 0===g?0:g,S=e.title,E=void 0===S?"title":S,_=e.value,j=void 0===_?"value":_,A=k(e,Pe),P=le(),I=p,T=v,D=C((0,r.useState)(m),2),$=D[0],R=D[1],M=C((0,r.useState)(m),2),L=M[0],U=M[1],B=N()("".concat(P,"--tile"),"".concat(P,"--tile--selectable"),(O(n={},"".concat(P,"--tile--is-selected"),$),O(n,"".concat(P,"--tile--light"),c),O(n,"".concat(P,"--tile--disabled"),u),n),a),z=N()("".concat(P,"--tile-input"),O({},"".concat(P,"--tile-input--checked"),$));return m!==L&&(R(m),U(m)),o().createElement(o().Fragment,null,o().createElement("input",{checked:$,className:z,disabled:u,id:s,name:l,onChange:u?null:function(e){R(e.target.checked),h(e)},ref:t,tabIndex:-1,title:E,type:"checkbox",value:j}),o().createElement("label",x({className:B,htmlFor:s,onClick:u?null:function(e){e.preventDefault(),e.persist(),R(!$),I(e),h(e)},onKeyDown:u?null:function(e){e.persist(),ge(e,[_e,je])&&(e.preventDefault(),R(!$),h(e)),T(e)},tabIndex:u?null:w},A),o().createElement("span",{className:"".concat(P,"--tile__checkmark ").concat(P,"--tile__checkmark--persistent")},$?Se||(Se=o().createElement(ue,null)):Oe||(Oe=o().createElement(ae,null))),o().createElement("span",{className:"".concat(P,"--tile-content")},i)))}));function $e(e){var t,n,i=e.tabIndex,a=e.className,u=e.children,s=e.expanded,c=e.tileMaxHeight,l=e.tilePadding,f=e.onClick,p=e.onKeyUp,d=e.tileCollapsedIconText,h=e.tileExpandedIconText,y=e.tileCollapsedLabel,v=e.tileExpandedLabel,b=e.light,m=k(e,Ce),g=C((0,r.useState)(c),2),w=g[0],S=g[1],E=C((0,r.useState)(l),2),_=E[0],j=E[1],A=C((0,r.useState)(s),2),P=A[0],I=A[1],T=C((0,r.useState)(c),2),D=T[0],$=T[1],R=C((0,r.useState)(l),2),M=R[0],L=R[1],U=C((0,r.useState)(s),2),B=U[0],z=U[1],F=C((0,r.useState)(!1),2),K=F[0],V=F[1],q=(0,r.useRef)(null),H=(0,r.useRef)(null),W=(0,r.useRef)(null),G=(0,r.useRef)(null),Z=le();function Y(){B&&S(W.current.getBoundingClientRect().height),S(q.current.getBoundingClientRect().height)}function X(e){e.persist(),z(!B),Y(),f&&f(e)}function Q(e){e.target!==G.current&&ge(e,[_e,je])&&e.preventDefault()}s!==P&&(z(s),I(s),Y()),c!==D&&(S(c),$(c)),l!==M&&(j(l),L(l));var J=N()("".concat(Z,"--tile"),"".concat(Z,"--tile--expandable"),(O(t={},"".concat(Z,"--tile--is-expanded"),B),O(t,"".concat(Z,"--tile--light"),b),t),a),ee=N()("".concat(Z,"--tile"),"".concat(Z,"--tile--expandable"),"".concat(Z,"--tile--expandable--interactive"),(O(n={},"".concat(Z,"--tile--is-expanded"),B),O(n,"".concat(Z,"--tile--light"),b),n),a),te=N()("".concat(Z,"--tile__chevron"),"".concat(Z,"--tile__chevron--interactive")),ne={maxHeight:B?null:w+_},re=o().Children.toArray(u);return be((function(){var e=window.getComputedStyle(G.current,null),t=q.current.getBoundingClientRect().height,n=parseInt(e.getPropertyValue("padding-top"),10),r=parseInt(e.getPropertyValue("padding-bottom"),10);S(t),j(n+r)}),[]),be((function(){(me(H.current)||me(q.current))&&V(!0)}),[]),(0,r.useEffect)((function(){var e=new ResizeObserver((function(e){var t=C(e,1)[0];S(t.contentRect.height)}));return e.observe(q.current),function(){return e.disconnect()}}),[]),K?o().createElement("div",x({ref:G,style:ne,className:ee,"aria-expanded":B},m),o().createElement("div",{ref:W},o().createElement("div",{ref:q,className:"".concat(Z,"--tile-content")},re[0]),o().createElement("button",{type:"button","aria-expanded":B,onKeyUp:ve([p,Q]),onClick:ve([f,X]),"aria-label":B?h:d,className:te},xe||(xe=o().createElement(se,null))),o().createElement("div",{ref:H,className:"".concat(Z,"--tile-content")},re[1]))):o().createElement("button",x({type:"button",ref:G,style:ne,className:J,"aria-expanded":B,title:B?h:d},m,{onKeyUp:ve([p,Q]),onClick:ve([f,X]),tabIndex:i}),o().createElement("div",{ref:W},o().createElement("div",{ref:q,className:"".concat(Z,"--tile-content")},re[0]),o().createElement("div",{className:"".concat(Z,"--tile__chevron")},o().createElement("span",null,B?v:y),Ee||(Ee=o().createElement(se,null))),o().createElement("div",{ref:H,className:"".concat(Z,"--tile-content")},re[1])))}De.displayName="SelectableTile",De.propTypes={children:$().node,className:$().string,disabled:$().bool,id:$().string,light:ye($().bool),name:$().string,onChange:$().func,onClick:$().func,onKeyDown:$().func,selected:$().bool,tabIndex:$().number,title:$().string,value:$().oneOfType([$().string,$().number]).isRequired},$e.propTypes={children:$().node,className:$().string,expanded:$().bool,id:$().string,light:ye($().bool),onClick:$().func,onKeyUp:$().func,tabIndex:$().number,tileCollapsedIconText:$().string,tileCollapsedLabel:$().string,tileExpandedIconText:$().string,tileExpandedLabel:$().string},$e.defaultProps={tabIndex:0,expanded:!1,tileMaxHeight:0,tilePadding:0,onClick:function(){},tileCollapsedIconText:"Interact to expand Tile",tileExpandedIconText:"Interact to collapse Tile"},$e.displayName="ExpandableTile";var Re=o().forwardRef((function(e,t){var n=e.children,r=le();return o().createElement("span",{ref:t,className:"".concat(r,"--tile-content__above-the-fold")},n)}));Re.propTypes={children:$().node},Re.displayName="TileAboveTheFoldContent";var Ne,Me,Le,Ue=o().forwardRef((function(e,t){var n=e.children,r=le();return o().createElement("span",{ref:t,className:"".concat(r,"--tile-content__below-the-fold")},n)}));Ue.propTypes={children:$().node},Ue.displayName="TileBelowTheFoldContent";var Be=["children","className","light"],ze=["children","href","className","handleClick","handleKeyDown","onClick","onKeyDown","clicked","light"],Fe=["children","id","tabIndex","value","name","title","iconDescription","className","handleClick","handleKeyDown","onClick","onChange","onKeyDown","light","disabled","selected"],Ke=["tabIndex","className","expanded","tileMaxHeight","tilePadding","handleClick","onKeyUp","tileCollapsedIconText","tileExpandedIconText","tileCollapsedLabel","tileExpandedLabel","onBeforeClick","light"],Ve=function(e){E(n,e);var t=P(n);function n(){return g(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){var e=this.context,t=this.props,n=t.children,r=t.className,i=t.light,a=k(t,Be),u=N()("".concat(e,"--tile"),O({},"".concat(e,"--tile--light"),i),r);return o().createElement("div",x({className:u},a),n)}}]),n}(r.Component);O(Ve,"propTypes",{children:$().node,className:$().string,light:$().bool}),O(Ve,"contextType",ce),O(Ve,"defaultProps",{light:!1});var qe=function(e){E(n,e);var t=P(n);function n(){var e;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return O(A(e=t.call.apply(t,[this].concat(o))),"state",{}),O(A(e),"handleClick",(function(t){t.persist(),e.setState({clicked:!e.state.clicked},(function(){var n,r,o,i;(null===(n=(r=e.props).handleClick)||void 0===n?void 0:n.call(r,t))||null===(o=(i=e.props).onClick)||void 0===o||o.call(i,t)}))})),O(A(e),"handleKeyDown",(function(t){var n,r;t.persist(),ge(t,[_e,je])?e.setState({clicked:!e.state.clicked},(function(){var n,r;(null===(n=(r=e.props).handleKeyDown)||void 0===n?void 0:n.call(r,t))||e.props.onKeyDown(t)})):(null===(n=(r=e.props).handleKeyDown)||void 0===n?void 0:n.call(r,t))||e.props.onKeyDown(t)})),e}return S(n,[{key:"render",value:function(){var e,t=this.context,n=this.props,r=n.children,i=n.href,a=n.className;n.handleClick,n.handleKeyDown,n.onClick,n.onKeyDown,n.clicked;var u=n.light,s=k(n,ze),c=N()("".concat(t,"--tile"),"".concat(t,"--tile--clickable"),(O(e={},"".concat(t,"--tile--is-clicked"),this.state.clicked),O(e,"".concat(t,"--tile--light"),u),e),a);return o().createElement(de,x({href:i,className:c},s,{onClick:this.handleClick,onKeyDown:this.handleKeyDown}),r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.clicked;return t.prevClicked===n?null:{clicked:n,prevClicked:n}}}]),n}(r.Component);function He(e){var t,n=e.children,i=e.id,a=e.tabIndex,u=e.value,s=e.name,c=e.title;e.iconDescription;var l=e.className,f=e.handleClick,p=e.handleKeyDown,d=e.onClick,h=e.onChange,y=e.onKeyDown,v=e.light,b=e.disabled,m=e.selected,g=k(e,Fe),w=le(),S=f||d,E=p||y,_=C((0,r.useState)(m),2),j=_[0],A=_[1],P=(0,r.useRef)(null),I=N()("".concat(w,"--tile"),"".concat(w,"--tile--selectable"),(O(t={},"".concat(w,"--tile--is-selected"),j),O(t,"".concat(w,"--tile--light"),v),O(t,"".concat(w,"--tile--disabled"),b),t),l),T=N()("".concat(w,"--tile-input"),O({},"".concat(w,"--tile-input--checked"),j));return(0,r.useEffect)((function(){A(m)}),[m]),o().createElement(o().Fragment,null,o().createElement("input",{ref:P,tabIndex:-1,id:i,className:T,value:u,onChange:b?null:function(e){A(e.target.checked),h(e)},type:"checkbox",disabled:b,name:s,title:c,checked:j}),o().createElement("label",x({htmlFor:i,className:I,tabIndex:b?null:a},g,{onClick:b?null:function(e){e.preventDefault(),e.persist(),A(!j),S(e),h(e)},onKeyDown:b?null:function(e){e.persist(),ge(e,[_e,je])&&(e.preventDefault(),A(!j),h(e)),E(e)}}),o().createElement("span",{className:"".concat(w,"--tile__checkmark ").concat(w,"--tile__checkmark--persistent")},j?Ne||(Ne=o().createElement(ue,null)):Me||(Me=o().createElement(ae,null))),o().createElement("span",{className:"".concat(w,"--tile-content")},n)))}O(qe,"propTypes",{children:$().node,className:$().string,handleClick:ye($().func),handleKeyDown:ye($().func),href:$().string,light:$().bool,onClick:$().func,onKeyDown:$().func,rel:$().string}),O(qe,"contextType",ce),O(qe,"defaultProps",{clicked:!1,onClick:function(){},onKeyDown:function(){},light:!1}),He.defaultProps={value:"value",title:"title",selected:!1,tabIndex:0,light:!1,onClick:function(){},onChange:function(){},onKeyDown:function(){}},He.propTypes={children:$().node,className:$().string,disabled:$().bool,handleClick:ye($().func),handleKeyDown:ye($().func),iconDescription:ye($().string),id:$().string,light:$().bool,name:$().string,onChange:$().func,onClick:$().func,onKeyDown:$().func,selected:$().bool,tabIndex:$().number,title:$().string,value:$().oneOfType([$().string,$().number]).isRequired};var We=function(e){E(n,e);var t=P(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return O(A(e=t.call.apply(t,[this].concat(i))),"state",{}),O(A(e),"resizeObserver",null),O(A(e),"componentDidMount",(function(){if(e.resizeObserver=new ResizeObserver((function(t){var n=C(t,1)[0];e.setState({tileMaxHeight:n.contentRect.height})})),e.tile){var t=window.getComputedStyle(e.tile,null);e.aboveTheFold&&(e.resizeObserver.observe(e.aboveTheFold),e.setState({tileMaxHeight:e.aboveTheFold.getBoundingClientRect().height,tilePadding:parseInt(t.getPropertyValue("padding-top"),10)+parseInt(t.getPropertyValue("padding-bottom"),10)}))}})),O(A(e),"componentDidUpdate",(function(t){t.expanded!==e.props.expanded&&e.setMaxHeight()})),O(A(e),"setMaxHeight",(function(){(e.state.expanded?e.tileContent:e.aboveTheFold)&&e.setState({tileMaxHeight:e.state.expanded?e.tileContent.getBoundingClientRect().height:e.aboveTheFold.getBoundingClientRect().height})})),O(A(e),"handleClick",(function(t){e.props.onBeforeClick(t)&&"INPUT"!==t.target.tagName&&(t.persist(),e.setState({expanded:!e.state.expanded},(function(){var n,r,o,i;e.setMaxHeight(),(null===(n=(r=e.props).handleClick)||void 0===n?void 0:n.call(r,t))||null===(o=(i=e.props).onClick)||void 0===o||o.call(i,t)})))})),O(A(e),"handleKeyUp",(function(t){t.target!==e.tile&&ge(t,[_e,je])&&t.preventDefault()})),O(A(e),"getChildren",(function(){return o().Children.toArray(e.props.children)})),e}return S(n,[{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.tabIndex,i=n.className;n.expanded,n.tileMaxHeight,n.tilePadding,n.handleClick;var a=n.onKeyUp,u=n.tileCollapsedIconText,s=n.tileExpandedIconText,c=n.tileCollapsedLabel,l=n.tileExpandedLabel;n.onBeforeClick;var f=n.light,p=k(n,Ke),d=this.context,h=this.state.expanded,y=N()("".concat(d,"--tile"),"".concat(d,"--tile--expandable"),(O(e={},"".concat(d,"--tile--is-expanded"),h),O(e,"".concat(d,"--tile--light"),f),e),i),v={maxHeight:h?null:this.state.tileMaxHeight+this.state.tilePadding},b=this.getChildren();return o().createElement("button",x({type:"button",ref:function(e){t.tile=e},style:v,className:y,"aria-expanded":h,title:h?s:u},p,{onKeyUp:ve([a,this.handleKeyUp]),onClick:this.handleClick,tabIndex:r}),o().createElement("div",{ref:function(e){t.tileContent=e}},o().createElement("div",{ref:function(e){t.aboveTheFold=e},className:"".concat(d,"--tile-content")},b[0]),o().createElement("div",{className:"".concat(d,"--tile__chevron")},o().createElement("span",null,h?l:c),Le||(Le=o().createElement(se,null))),o().createElement("div",{className:"".concat(d,"--tile-content")},b[1])))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.expanded,r=e.tileMaxHeight,o=e.tilePadding,i=t.prevExpanded,a=t.prevTileMaxHeight,u=t.prevTilePadding,s=t.expanded,c=t.tileMaxHeight,l=t.tilePadding,f=i!==n,p=a!==r,d=u!==o;return f||p||d?{expanded:f?n:s,tileMaxHeight:p?r:c,tilePadding:d?o:l,prevExpanded:n,prevTileMaxHeight:r,prevTilePadding:o}:null}}]),n}(r.Component);O(We,"propTypes",{children:$().node,className:$().string,expanded:$().bool,handleClick:ye($().func),id:$().string,light:$().bool,onBeforeClick:$().func,onClick:$().func,onKeyUp:$().func,tabIndex:$().number,tileCollapsedIconText:$().string,tileCollapsedLabel:$().string,tileExpandedIconText:$().string,tileExpandedLabel:$().string}),O(We,"contextType",ce),O(We,"defaultProps",{tabIndex:0,expanded:!1,tileMaxHeight:0,tilePadding:0,onBeforeClick:function(){return!0},onClick:function(){},tileCollapsedIconText:"Interact to expand Tile",tileExpandedIconText:"Interact to collapse Tile",light:!1});var Ge=function(e){E(n,e);var t=P(n);function n(){return g(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){var e=this.context,t=this.props.children;return o().createElement("span",{className:"".concat(e,"--tile-content__above-the-fold")},t)}}]),n}(r.Component);O(Ge,"propTypes",{children:$().node}),O(Ge,"contextType",ce);var Ze=function(e){E(n,e);var t=P(n);function n(){return g(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){var e=this.props.children,t=this.context;return o().createElement("span",{className:"".concat(t,"--tile-content__below-the-fold")},e)}}]),n}(r.Component);O(Ze,"propTypes",{children:$().node}),O(Ze,"contextType",ce);var Ye=v("enable-v11-release")?Ie:Ve;v("enable-v11-release"),v("enable-v11-release"),v("enable-v11-release"),v("enable-v11-release"),v("enable-v11-release");var Xe,Qe=(Xe={"aria-label":$().string,"aria-labelledby":$().string},Object.keys(Xe).reduce((function(e,t){return m(m({},e),{},O({},t,(n=Xe[t],function(e,t,r){for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return n.apply(void 0,[e,t,r].concat(i))})));var n}),{})),Je=["SideNavFooter","SideNavHeader","SideNavItems","SideNavMenu"],et=["expanded","defaultExpanded","isChildOfHeader","aria-label","aria-labelledby","children","onToggle","className","isFixedNav","isRail","isPersistent","addFocusListeners","addMouseListeners","onOverlayClick"],tt=o().forwardRef((function(e,t){var n,i,a=e.expanded,u=e.defaultExpanded,s=e.isChildOfHeader,c=e["aria-label"],l=e["aria-labelledby"],f=e.children,p=e.onToggle,d=e.className,h=e.isFixedNav,y=e.isRail,v=e.isPersistent,b=e.addFocusListeners,g=e.addMouseListeners,w=e.onOverlayClick,S=k(e,et),E=le(),_=(0,r.useRef)(void 0!==a).current,j=C((0,r.useState)(u),2),A=j[0],P=j[1],I=C((0,r.useState)(u),2),T=I[0],D=I[1],$=_?a:A,R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!$;_||P(t),p&&p(e,t),(_||y)&&D(t)},M={"aria-label":c,"aria-labelledby":l},L=N()((O(n={},"".concat(E,"--side-nav"),!0),O(n,"".concat(E,"--side-nav--expanded"),$||T),O(n,"".concat(E,"--side-nav--collapsed"),!$&&h),O(n,"".concat(E,"--side-nav--rail"),y),O(n,d,!!d),O(n,"".concat(E,"--side-nav--ux"),s),O(n,"".concat(E,"--side-nav--hidden"),!v),n)),U=N()((O(i={},"".concat(E,"--side-nav__overlay"),!0),O(i,"".concat(E,"--side-nav__overlay-active"),$||T),i)),B=f;y&&(B=o().Children.map(f,(function(e){var t,n,r,i=_&&T||$;return o().cloneElement(e,m({},Je.includes(null!==(t=null===(n=e.type)||void 0===n?void 0:n.displayName)&&void 0!==t?t:null===(r=e.type)||void 0===r?void 0:r.name)?{isSideNavExpanded:i}:{}))})));var z={};return b&&(z.onFocus=function(e){e.currentTarget.contains(e.relatedTarget)||R(e,!0)},z.onBlur=function(e){e.currentTarget.contains(e.relatedTarget)||R(e,!1)}),g&&y&&(z.onMouseEnter=function(){return R(!0,!0)},z.onMouseLeave=function(){return R(!1,!1)}),o().createElement(o().Fragment,null,h?null:o().createElement("div",{className:U,onClick:w}),o().createElement("nav",x({ref:t,className:"".concat(E,"--side-nav__navigation ").concat(L)},M,z,S),B))}));tt.displayName="SideNav",tt.defaultProps={defaultExpanded:!1,isChildOfHeader:!0,isFixedNav:!1,isPersistent:!0,addFocusListeners:!0,addMouseListeners:!0},tt.propTypes=m(m({},Qe),{},{addFocusListeners:$().bool,addMouseListeners:$().bool,className:$().string,defaultExpanded:$().bool,expanded:$().bool,isChildOfHeader:$().bool,isFixedNav:$().bool,isPersistent:$().bool,isRail:$().bool,onOverlayClick:$().func,onToggle:$().func});var nt=tt,rt=n(9295),ot=n(606),it=n(175),at=n(6575),ut=n(6905),st=n(7840),ct=n(9494),lt=n(8396),ft=Object.prototype.hasOwnProperty;const pt=function(e){if(null==e)return!0;if((0,ut.Z)(e)&&((0,at.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,st.Z)(e)||(0,lt.Z)(e)||(0,it.Z)(e)))return!e.length;var t=(0,ot.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,ct.Z)(e))return!(0,rt.Z)(e).length;for(var n in e)if(ft.call(e,n))return!1;return!0};function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dt(e,t,n[t])}))}return e}function vt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n(4645);var bt=new i.Subject,mt=0,gt=new i.Subject,wt=0;function St(e){var t;e&&("string"==typeof(t=e.description)?t.trim().length>0:"object"==typeof t&&(ht(t,Error)||!pt(t)))?(ht(e.description,Error)&&(e.description=e.description.toLocaleString()),setTimeout((function(){bt.next(vt(yt({},e),{id:mt++}))}),0)):console.error("showNotification must be called with an object having a 'description' property that is a non-empty string or object")}function Ot(e){var t;e&&("string"==typeof(t=e.actionButtonLabel)?t.trim().length>0:"object"==typeof t&&!pt(t))?setTimeout((function(){gt.next(vt(yt({},e),{id:wt++}))}),0):console.error("showActionableNotification must be called with an actionButtonLabel that is a non-empty string")}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=new i.Subject,_t=0;function jt(e){var t;e&&("string"==typeof(t=e.description)?t.trim().length>0:"object"==typeof t&&!pt(t))?setTimeout((function(){var t,n;Et.next((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xt(e,t,n[t])}))}return e}({},e),n=null!=(n={id:_t++})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))}),0):console.error("showToast must be called with an object having a 'description' property that is a non-empty string or object")}n(225);var kt=n(5385);function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pt(e,t,n[t])}))}return e}function It(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Tt(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dt=(0,kt.createGlobalStore)("globalModalState",{modalContainer:null,modalStack:[]});function $t(e){var t,n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=function(){var e=Dt.getState().modalStack.find((function(e){return e.onClose===o}));e&&function(e){var t=Dt.getState(),n=t.modalStack.map((function(t){return t===e?It(Ct({},t),{state:"TO_BE_DELETED"}):t}));Dt.setState(It(Ct({},t),{modalStack:n}))}(e)};return t={state:"NEW",onClose:o,extensionId:e,props:Ct({extensionId:e,close:i},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},n=Dt.getState(),r=[t].concat(Tt(n.modalStack)),Dt.setState(It(Ct({},n),{modalStack:r})),i}window.getComputedStyle(document.body).overflow;var Rt=n(4077),Nt=n(487),Mt=n.n(Nt),Lt=n(631),Ut=n.n(Lt),Bt=n(2052),zt=n.n(Bt),Ft=n(4010),Kt=n.n(Ft),Vt=n(1469),qt=n.n(Vt),Ht=n(9329),Wt=n.n(Ht),Gt=n(6618),Zt={};Zt.styleTagTransform=Wt(),Zt.setAttributes=Kt(),Zt.insert=zt().bind(null,"head"),Zt.domAPI=Ut(),Zt.insertStyleElement=qt(),Mt()(Gt.Z,Zt);const Yt=Gt.Z&&Gt.Z.locals?Gt.Z.locals:void 0;function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qt=(0,kt.createGlobalStore)("left-nav",{slotName:null,basePath:window.spaBase});function Jt(e){var t=e.name,n=e.basePath;Qt.setState({slotName:t,basePath:n})}function en(e){Qt.getState().slotName==e&&Qt.setState({slotName:null})}var tn=o().forwardRef((function(e,t){var n,r=(0,Rt.useStore)(Qt),i=r.slotName,a=r.basePath,u=null!==(n=window.location)&&void 0!==n?n:{pathname:""};return o().createElement(nt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xt(e,t,n[t])}))}return e}({ref:t,expanded:!0,"aria-label":"Left navigation",className:Yt.leftNav},e),o().createElement(Rt.ExtensionSlot,{name:"global-nav-menu-slot"}),i?o().createElement(Rt.ExtensionSlot,{name:i,state:{basePath:a,currentPath:u}}):null)})),nn=n(2680),rn=n(7909),on={};on.styleTagTransform=Wt(),on.setAttributes=Kt(),on.insert=zt().bind(null,"head"),on.domAPI=Ut(),on.insertStyleElement=qt(),Mt()(rn.Z,on);const an=rn.Z&&rn.Z.locals?rn.Z.locals:void 0;var un=function(e){var t,n,r=e.error,i=e.headerTitle,a=(0,nn.useTranslation)().t,u="tablet"===(0,Rt.useLayoutType)();return o().createElement(Ye,{light:!0,className:an.tile},o().createElement("div",{className:u?an.tabletHeading:an.desktopHeading},o().createElement("h4",null,i)),o().createElement("p",{className:an.errorMessage},a("error","Error")," ","".concat(null==r||null===(t=r.response)||void 0===t?void 0:t.status,": "),null==r||null===(n=r.response)||void 0===n?void 0:n.statusText),o().createElement("p",{className:an.errorCopy},a("errorCopy","Sorry, there was a problem displaying this information. You can try to reload this page, or contact the site administrator and quote the error code above.")))}},7925:()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}System.register(["dayjs","i18next"],(function(n,u){var s={},c={};return{setters:[function(e){s.default=e.default},function(e){c.default=e.default}],execute:function(){n(function(){var n={332:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},14:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,o,i){var a=o.prototype;i.utc=function(e){return new o({date:e,utc:!0,args:arguments})},a.utc=function(t){var n=i(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var u=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),u.call(this,e)};var s=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else s.call(this)};var c=a.utcOffset;a.utcOffset=function(r,o){var i=this.$utils().u;if(i(r))return this.$u?0:i(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var o=(""+r[0]).match(n)||["-",0,0],i=o[0],a=60*+o[1]+ +o[2];return 0===a?0:"+"===i?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,u=this;if(o)return u.$offset=a,u.$u=0===r,u;if(0!==r){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(a+s,e)).$offset=a,u.$x.$localOffset=s}else u=this.utc();return u};var l=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var p=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return p.call(this,e,t,n);var r=this.local(),o=i(e).local();return p.call(r,o,t,n)}}}()},74:function(e,n,i){var a=Symbol("SemVer ANY"),u=function(){"use strict";function e(n,r){if(t(this,e),r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),o(n,e)){if(n.loose===!!r.loose)return n;n=n.value}p("comparator",n,r),this.options=r,this.loose=!!r.loose,this.parse(n),this.semver===a?this.value="":this.value=this.operator+this.semver.version,p("comp",this)}return r(e,[{key:"parse",value:function(e){var t=this.options.loose?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new d(n[2],this.options.loose):this.semver=a}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(p("Comparator.test",e,this.options.loose),this.semver===a||e===a)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return f(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!o(t,e))throw new TypeError("a Comparator is required");if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new h(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new h(this.value,n).test(t.semver);var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),a=this.semver.version===t.semver.version,u=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),s=f(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=f(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||a&&u||s||c}}],[{key:"ANY",get:function(){return a}}]),e}();e.exports=u;var s=i(887),c=s.re,l=s.t,f=i(401),p=i(843),d=i(405),h=i(355)},355:function(e,n,i){var a=function(){"use strict";function e(n,r){var i=this;if(t(this,e),r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),o(n,e))return n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease?n:new e(n.raw,r);if(o(n,u))return this.raw=n.value,this.set=[[n]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=n,this.set=n.split(/\s*\|\|\s*/).map((function(e){return i.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(n));this.format()}return r(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this,n=this.options.loose;e=e.trim();var r=n?f[p.HYPHENRANGELOOSE]:f[p.HYPHENRANGE];e=e.replace(r,k(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(f[p.COMPARATORTRIM],d),s("comparator trim",e,f[p.COMPARATORTRIM]),e=(e=(e=e.replace(f[p.TILDETRIM],h)).replace(f[p.CARETTRIM],y)).split(/\s+/).join(" ");var o=n?f[p.COMPARATORLOOSE]:f[p.COMPARATOR];return e.split(" ").map((function(e){return b(e,t.options)})).join(" ").split(/\s+/).map((function(e){return j(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(o)}:function(){return!0}).map((function(e){return new u(e,t.options)}))}},{key:"intersects",value:function(t,n){if(!o(t,e))throw new TypeError("a Range is required");return this.set.some((function(e){return v(e,n)&&t.set.some((function(t){return v(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}]),e}();e.exports=a;var u=i(74),s=i(843),c=i(405),l=i(887),f=l.re,p=l.t,d=l.comparatorTrimReplace,h=l.tildeTrimReplace,y=l.caretTrimReplace,v=function(e,t){for(var n=!0,r=e.slice(),o=r.pop();n&&r.length;)n=r.every((function(e){return o.intersects(e,t)})),o=r.pop();return n},b=function(e,t){return s("comp",e,t),e=S(e,t),s("caret",e),e=g(e,t),s("tildes",e),e=x(e,t),s("xrange",e),e=_(e,t),s("stars",e),e},m=function(e){return!e||"x"===e.toLowerCase()||"*"===e},g=function(e,t){return e.trim().split(/\s+/).map((function(e){return w(e,t)})).join(" ")},w=function(e,t){var n=t.loose?f[p.TILDELOOSE]:f[p.TILDE];return e.replace(n,(function(t,n,r,o,i){var a;return s("tilde",e,t,n,r,o,i),m(n)?a="":m(r)?a=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):m(o)?a=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):i?(s("replaceTilde pr",i),a=">=".concat(n,".").concat(r,".").concat(o,"-").concat(i," <").concat(n,".").concat(+r+1,".0-0")):a=">=".concat(n,".").concat(r,".").concat(o," <").concat(n,".").concat(+r+1,".0-0"),s("tilde return",a),a}))},S=function(e,t){return e.trim().split(/\s+/).map((function(e){return O(e,t)})).join(" ")},O=function(e,t){s("caret",e,t);var n=t.loose?f[p.CARETLOOSE]:f[p.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,o,i,a){var u;return s("caret",e,t,n,o,i,a),m(n)?u="":m(o)?u=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):m(i)?u="0"===n?">=".concat(n,".").concat(o,".0").concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".0").concat(r," <").concat(+n+1,".0.0-0"):a?(s("replaceCaret pr",a),u="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(i,"-").concat(a," <").concat(n,".").concat(o,".").concat(+i+1,"-0"):">=".concat(n,".").concat(o,".").concat(i,"-").concat(a," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(i,"-").concat(a," <").concat(+n+1,".0.0-0")):(s("no pr"),u="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(i).concat(r," <").concat(n,".").concat(o,".").concat(+i+1,"-0"):">=".concat(n,".").concat(o,".").concat(i).concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(i," <").concat(+n+1,".0.0-0")),s("caret return",u),u}))},x=function(e,t){return s("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return E(e,t)})).join(" ")},E=function(e,t){e=e.trim();var n=t.loose?f[p.XRANGELOOSE]:f[p.XRANGE];return e.replace(n,(function(n,r,o,i,a,u){s("xRange",e,n,r,o,i,a,u);var c=m(o),l=c||m(i),f=l||m(a),p=f;return"="===r&&p&&(r=""),u=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n="".concat(r+o,".").concat(i,".").concat(a).concat(u)):l?n=">=".concat(o,".0.0").concat(u," <").concat(+o+1,".0.0-0"):f&&(n=">=".concat(o,".").concat(i,".0").concat(u," <").concat(o,".").concat(+i+1,".0-0")),s("xRange return",n),n}))},_=function(e,t){return s("replaceStars",e,t),e.trim().replace(f[p.STAR],"")},j=function(e,t){return s("replaceGTE0",e,t),e.trim().replace(f[t.includePrerelease?p.GTE0PRE:p.GTE0],"")},k=function(e){return function(t,n,r,o,i,a,u,s,c,l,f,p,d){return"".concat(n=m(r)?"":m(o)?">=".concat(r,".0.0").concat(e?"-0":""):m(i)?">=".concat(r,".").concat(o,".0").concat(e?"-0":""):a?">=".concat(n):">=".concat(n).concat(e?"-0":"")," ").concat(s=m(c)?"":m(l)?"<".concat(+c+1,".0.0-0"):m(f)?"<".concat(c,".").concat(+l+1,".0-0"):p?"<=".concat(c,".").concat(l,".").concat(f,"-").concat(p):e?"<".concat(c,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(s)).trim()}},A=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var o=0;o<e.length;o++)if(s(e[o].semver),e[o].semver!==u.ANY&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},405:function(e,n,i){var a=i(843),u=i(202),s=u.MAX_LENGTH,c=u.MAX_SAFE_INTEGER,l=i(887),f=l.re,p=l.t,d=i(630).compareIdentifiers,h=function(){"use strict";function e(n,r){if(t(this,e),r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),o(n,e)){if(n.loose===!!r.loose&&n.includePrerelease===!!r.includePrerelease)return n;n=n.version}else if("string"!=typeof n)throw new TypeError("Invalid Version: ".concat(n));if(n.length>s)throw new TypeError("version is longer than ".concat(s," characters"));a("SemVer",n,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;var i=n.trim().match(r.loose?f[p.LOOSE]:f[p.FULL]);if(!i)throw new TypeError("Invalid Version: ".concat(n));if(this.raw=n,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>c||this.major<0)throw new TypeError("Invalid major version");if(this.minor>c||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>c||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<c)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}return r(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(a("SemVer.compare",this.version,this.options,t),!o(t,e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return o(t,e)||(t=new e(t,this.options)),d(this.major,t.major)||d(this.minor,t.minor)||d(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(o(t,e)||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(a("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return d(r,i)}while(++n)}},{key:"compareBuild",value:function(t){o(t,e)||(t=new e(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(a("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return d(r,i)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}();e.exports=h},953:function(e,t,n){var r=n(497);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},401:function(e,t,n){var r=n(896),o=n(378),i=n(261),a=n(647),u=n(433),s=n(622);e.exports=function(e,t,n,c){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return o(e,n,c);case">":return i(e,n,c);case">=":return a(e,n,c);case"<":return u(e,n,c);case"<=":return s(e,n,c);default:throw new TypeError("Invalid operator: ".concat(t))}}},839:function(e,t,n){var r=n(405),i=n(497),a=n(887),u=a.re,s=a.t;e.exports=function(e,t){if(o(e,r))return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var a;(a=u[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),u[s.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;u[s.COERCERTL].lastIndex=-1}else n=e.match(u[s.COERCE]);return null===n?null:i("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)}},218:function(e,t,n){var r=n(405);e.exports=function(e,t,n){var o=new r(e,n),i=new r(t,n);return o.compare(i)||o.compareBuild(i)}},643:function(e,t,n){var r=n(308);e.exports=function(e,t){return r(e,t,!0)}},308:function(e,t,n){var r=n(405);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},948:function(e,t,n){var r=n(497),o=n(896);e.exports=function(e,t){if(o(e,t))return null;var n=r(e),i=r(t),a=n.prerelease.length||i.prerelease.length,u=a?"pre":"",s=a?"prerelease":"";for(var c in n)if(("major"===c||"minor"===c||"patch"===c)&&n[c]!==i[c])return u+c;return s}},896:function(e,t,n){var r=n(308);e.exports=function(e,t,n){return 0===r(e,t,n)}},261:function(e,t,n){var r=n(308);e.exports=function(e,t,n){return r(e,t,n)>0}},647:function(e,t,n){var r=n(308);e.exports=function(e,t,n){return r(e,t,n)>=0}},791:function(e,t,n){var r=n(405);e.exports=function(e,t,n,o){"string"==typeof n&&(o=n,n=void 0);try{return new r(e,n).inc(t,o).version}catch(e){return null}}},433:function(e,t,n){var r=n(308);e.exports=function(e,t,n){return r(e,t,n)<0}},622:function(e,t,n){var r=n(308);e.exports=function(e,t,n){return r(e,t,n)<=0}},629:function(e,t,n){var r=n(405);e.exports=function(e,t){return new r(e,t).major}},986:function(e,t,n){var r=n(405);e.exports=function(e,t){return new r(e,t).minor}},378:function(e,t,n){var r=n(308);e.exports=function(e,t,n){return 0!==r(e,t,n)}},497:function(e,t,n){var r=n(202).MAX_LENGTH,i=n(887),a=i.re,u=i.t,s=n(405);e.exports=function(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),o(e,s))return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?a[u.LOOSE]:a[u.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},800:function(e,t,n){var r=n(405);e.exports=function(e,t){return new r(e,t).patch}},408:function(e,t,n){var r=n(497);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},762:function(e,t,n){var r=n(308);e.exports=function(e,t,n){return r(t,e,n)}},743:function(e,t,n){var r=n(218);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},312:function(e,t,n){var r=n(355);e.exports=function(e,t,n){try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},354:function(e,t,n){var r=n(218);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},512:function(e,t,n){var r=n(497);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},770:function(e,t,n){var r=n(887);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(202).SEMVER_SPEC_VERSION,SemVer:n(405),compareIdentifiers:n(630).compareIdentifiers,rcompareIdentifiers:n(630).rcompareIdentifiers,parse:n(497),valid:n(512),clean:n(953),inc:n(791),diff:n(948),major:n(629),minor:n(986),patch:n(800),prerelease:n(408),compare:n(308),rcompare:n(762),compareLoose:n(643),compareBuild:n(218),sort:n(354),rsort:n(743),gt:n(261),lt:n(433),eq:n(896),neq:n(378),gte:n(647),lte:n(622),cmp:n(401),coerce:n(839),Comparator:n(74),Range:n(355),satisfies:n(312),toComparators:n(663),maxSatisfying:n(931),minSatisfying:n(891),minVersion:n(925),validRange:n(965),outside:n(260),gtr:n(715),ltr:n(6),intersects:n(560),simplifyRange:n(795),subset:n(732)}},202:function(e){var t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},843:function(t){var n,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=console).error.apply(n,["SEMVER"].concat(function(t){if(Array.isArray(t))return e(t)}(i=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||a(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var i}:function(){};t.exports=r},630:function(e){var t=/^[0-9]+$/,n=function(e,n){var r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:function(e,t){return n(t,e)}}},887:function(e,t,n){var r=n(202).MAX_SAFE_COMPONENT_LENGTH,o=n(843),i=(t=e.exports={}).re=[],a=t.src=[],u=t.t={},s=0,c=function(e,t,n){var r=s++;o(r,t),u[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION","(".concat(a[u.NUMERICIDENTIFIER],")\\.(").concat(a[u.NUMERICIDENTIFIER],")\\.(").concat(a[u.NUMERICIDENTIFIER],")")),c("MAINVERSIONLOOSE","(".concat(a[u.NUMERICIDENTIFIERLOOSE],")\\.(").concat(a[u.NUMERICIDENTIFIERLOOSE],")\\.(").concat(a[u.NUMERICIDENTIFIERLOOSE],")")),c("PRERELEASEIDENTIFIER","(?:".concat(a[u.NUMERICIDENTIFIER],"|").concat(a[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[u.NUMERICIDENTIFIERLOOSE],"|").concat(a[u.NONNUMERICIDENTIFIER],")")),c("PRERELEASE","(?:-(".concat(a[u.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[u.PRERELEASEIDENTIFIER],")*))")),c("PRERELEASELOOSE","(?:-?(".concat(a[u.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[u.PRERELEASEIDENTIFIERLOOSE],")*))")),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD","(?:\\+(".concat(a[u.BUILDIDENTIFIER],"(?:\\.").concat(a[u.BUILDIDENTIFIER],")*))")),c("FULLPLAIN","v?".concat(a[u.MAINVERSION]).concat(a[u.PRERELEASE],"?").concat(a[u.BUILD],"?")),c("FULL","^".concat(a[u.FULLPLAIN],"$")),c("LOOSEPLAIN","[v=\\s]*".concat(a[u.MAINVERSIONLOOSE]).concat(a[u.PRERELEASELOOSE],"?").concat(a[u.BUILD],"?")),c("LOOSE","^".concat(a[u.LOOSEPLAIN],"$")),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE","".concat(a[u.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),c("XRANGEIDENTIFIER","".concat(a[u.NUMERICIDENTIFIER],"|x|X|\\*")),c("XRANGEPLAIN","[v=\\s]*(".concat(a[u.XRANGEIDENTIFIER],")(?:\\.(").concat(a[u.XRANGEIDENTIFIER],")(?:\\.(").concat(a[u.XRANGEIDENTIFIER],")(?:").concat(a[u.PRERELEASE],")?").concat(a[u.BUILD],"?)?)?")),c("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[u.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(a[u.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(a[u.XRANGEIDENTIFIERLOOSE],")(?:").concat(a[u.PRERELEASELOOSE],")?").concat(a[u.BUILD],"?)?)?")),c("XRANGE","^".concat(a[u.GTLT],"\\s*").concat(a[u.XRANGEPLAIN],"$")),c("XRANGELOOSE","^".concat(a[u.GTLT],"\\s*").concat(a[u.XRANGEPLAINLOOSE],"$")),c("COERCE","(^|[^\\d])(\\d{1,".concat(r,"})(?:\\.(\\d{1,").concat(r,"}))?(?:\\.(\\d{1,").concat(r,"}))?(?:$|[^\\d])")),c("COERCERTL",a[u.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM","(\\s*)".concat(a[u.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",c("TILDE","^".concat(a[u.LONETILDE]).concat(a[u.XRANGEPLAIN],"$")),c("TILDELOOSE","^".concat(a[u.LONETILDE]).concat(a[u.XRANGEPLAINLOOSE],"$")),c("LONECARET","(?:\\^)"),c("CARETTRIM","(\\s*)".concat(a[u.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",c("CARET","^".concat(a[u.LONECARET]).concat(a[u.XRANGEPLAIN],"$")),c("CARETLOOSE","^".concat(a[u.LONECARET]).concat(a[u.XRANGEPLAINLOOSE],"$")),c("COMPARATORLOOSE","^".concat(a[u.GTLT],"\\s*(").concat(a[u.LOOSEPLAIN],")$|^$")),c("COMPARATOR","^".concat(a[u.GTLT],"\\s*(").concat(a[u.FULLPLAIN],")$|^$")),c("COMPARATORTRIM","(\\s*)".concat(a[u.GTLT],"\\s*(").concat(a[u.LOOSEPLAIN],"|").concat(a[u.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE","^\\s*(".concat(a[u.XRANGEPLAIN],")\\s+-\\s+(").concat(a[u.XRANGEPLAIN],")\\s*$")),c("HYPHENRANGELOOSE","^\\s*(".concat(a[u.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(a[u.XRANGEPLAINLOOSE],")\\s*$")),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},715:function(e,t,n){var r=n(260);e.exports=function(e,t,n){return r(e,t,">",n)}},560:function(e,t,n){var r=n(355);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t)}},6:function(e,t,n){var r=n(260);e.exports=function(e,t,n){return r(e,t,"<",n)}},931:function(e,t,n){var r=n(405),o=n(355);e.exports=function(e,t,n){var i=null,a=null,u=null;try{u=new o(t,n)}catch(e){return null}return e.forEach((function(e){u.test(e)&&(i&&-1!==a.compare(e)||(a=new r(i=e,n)))})),i}},891:function(e,t,n){var r=n(405),o=n(355);e.exports=function(e,t,n){var i=null,a=null,u=null;try{u=new o(t,n)}catch(e){return null}return e.forEach((function(e){u.test(e)&&(i&&1!==a.compare(e)||(a=new r(i=e,n)))})),i}},925:function(e,t,n){var r=n(405),o=n(355),i=n(261);e.exports=function(e,t){e=new o(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var a=0;a<e.set.length;++a)e.set[a].forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!i(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}}));return n&&e.test(n)?n:null}},260:function(e,t,n){var r=n(405),o=n(74),i=o.ANY,a=n(355),u=n(312),s=n(261),c=n(433),l=n(622),f=n(647);e.exports=function(e,t,n,p){var d,h,y,v,b,m,g=function(n){var r=t.set[n],a=null,u=null;return r.forEach((function(e){e.semver===i&&(e=new o(">=0.0.0")),a=a||e,u=u||e,d(e.semver,a.semver,p)?a=e:y(e.semver,u.semver,p)&&(u=e)})),a.operator===v||a.operator===b?{v:!1}:u.operator&&u.operator!==v||!h(e,u.semver)?u.operator===b&&y(e,u.semver)?{v:!1}:void 0:{v:!1}};switch(e=new r(e,p),t=new a(t,p),n){case">":d=s,h=l,y=c,v=">",b=">=";break;case"<":d=c,h=f,y=s,v="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(e,t,p))return!1;for(var w=0;w<t.set.length;++w){var S=g(w);if("object"==((m=S)&&"undefined"!=typeof Symbol&&m.constructor===Symbol?"symbol":typeof m))return S.v}return!0}},795:function(e,t,n){var r=n(312),o=n(308);e.exports=function(e,t,n){var a=[],u=null,s=null,c=e.sort((function(e,t){return o(e,t,n)})),l=!0,f=!1,p=void 0;try{for(var d,h=c[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value;r(y,t,n)?(s=y,u||(u=y)):(s&&a.push([u,s]),s=null,u=null)}}catch(e){f=!0,p=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw p}}u&&a.push([u,null]);var v=[],b=!0,m=!1,g=void 0;try{for(var w,S=a[Symbol.iterator]();!(b=(w=S.next()).done);b=!0){var O=i(w.value,2),x=O[0],E=O[1];x===E?v.push(x):E||x!==c[0]?E?x===c[0]?v.push("<=".concat(E)):v.push("".concat(x," - ").concat(E)):v.push(">=".concat(x)):v.push("*")}}catch(e){m=!0,g=e}finally{try{b||null==S.return||S.return()}finally{if(m)throw g}}var _=v.join(" || "),j="string"==typeof t.raw?t.raw:String(t);return _.length<j.length?_:t}},732:function(e,t,n){var r=n(355),o=n(74).ANY,i=n(312),a=n(308),u=function(e,t,n){if(1===e.length&&e[0].semver===o)return 1===t.length&&t[0].semver===o;var r,u,l,f,p,d=new Set,h=!0,y=!1,v=void 0;try{for(var b,m=e[Symbol.iterator]();!(h=(b=m.next()).done);h=!0){var g=b.value;">"===g.operator||">="===g.operator?r=s(r,g,n):"<"===g.operator||"<="===g.operator?u=c(u,g,n):d.add(g.semver)}}catch(e){y=!0,v=e}finally{try{h||null==m.return||m.return()}finally{if(y)throw v}}if(d.size>1)return null;if(r&&u){if((l=a(r.semver,u.semver,n))>0)return null;if(0===l&&(">="!==r.operator||"<="!==u.operator))return null}var w=!0,S=!1,O=void 0;try{for(var x,E=d[Symbol.iterator]();!(w=(x=E.next()).done);w=!0){var _=x.value;if(r&&!i(_,String(r),n))return null;if(u&&!i(_,String(u),n))return null;var j=!0,k=!1,A=void 0;try{for(var P,C=t[Symbol.iterator]();!(j=(P=C.next()).done);j=!0){var I=P.value;if(!i(_,String(I),n))return!1}}catch(e){k=!0,A=e}finally{try{j||null==C.return||C.return()}finally{if(k)throw A}}return!0}}catch(e){S=!0,O=e}finally{try{w||null==E.return||E.return()}finally{if(S)throw O}}var T=!0,D=!1,$=void 0;try{for(var R,N=t[Symbol.iterator]();!(T=(R=N.next()).done);T=!0){var M=R.value;if(p=p||">"===M.operator||">="===M.operator,f=f||"<"===M.operator||"<="===M.operator,r)if(">"===M.operator||">="===M.operator){if(s(r,M,n)===M)return!1}else if(">="===r.operator&&!i(r.semver,String(M),n))return!1;if(u)if("<"===M.operator||"<="===M.operator){if(c(u,M,n)===M)return!1}else if("<="===u.operator&&!i(u.semver,String(M),n))return!1;if(!M.operator&&(u||r)&&0!==l)return!1}}catch(e){D=!0,$=e}finally{try{T||null==N.return||N.return()}finally{if(D)throw $}}return!(r&&f&&!u&&0!==l||u&&p&&!r&&0!==l)},s=function(e,t,n){if(!e)return t;var r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},c=function(e,t,n){if(!e)return t;var r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t,n){e=new r(e,n),t=new r(t,n);var o=!1,i=!0,a=!1,s=void 0;try{e:for(var c,l=e.set[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var f=c.value,p=!0,d=!1,h=void 0;try{for(var y,v=t.set[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var b=y.value,m=u(f,b,n);if(o=o||null!==m,m)continue e}}catch(e){d=!0,h=e}finally{try{p||null==v.return||v.return()}finally{if(d)throw h}}if(o)return!1}}catch(e){a=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}return!0}},663:function(e,t,n){var r=n(355);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},965:function(e,t,n){var r=n(355);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(e){return null}}},688:function(e){"use strict";e.exports=s},64:function(e){"use strict";e.exports=c}},u={};function l(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={exports:{}};return n[e].call(r.exports,r,r.exports,l),r.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var f={};return function(){"use strict";var e=function(e){return(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())-Date.UTC(e.getUTCFullYear(),0,0))/24/60/60/1e3},t=function(e,t){var n=e.toISOString(),r=t.toISOString();return n.slice(0,n.indexOf("T"))===r.slice(0,r.indexOf("T"))},n=function(n){var r=new Date,o=new Date(n),i=r.getUTCMonth()-o.getUTCMonth(),a=r.getUTCDate()-o.getUTCDate(),u=r.getUTCFullYear()-o.getUTCFullYear();(i<0||0===i&&a<0)&&u--;var s=i>=0?i:i+12;a<0&&s--;var c=s>0?"".concat(s," mo"):"",l=e(r)-e(o);l<0&&(l+=365);var f=Math.floor(l/7),p=l-7*f;return 0===u?t(r,o)?"Today":f<4||0===f?"".concat(l," day"):p>0?"".concat(f," wk ").concat(p," d"):"".concat(f," week"):u<2?"".concat(c," ").concat(u," yr").trim():u<18?"".concat(u," yr ").concat(c).trim():"".concat(u," years")},r=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e},i=function(e){return null!=e&&28===e.trim().length&&"T"===(e=e.trim())[10]&&":"===e[13]&&":"===e[16]&&"."===e[19]&&"+"===e[23]&&":"!==e[26]&&(0,I.default)(e,N).isValid()},a=function(e){return(0,I.default)(e).isToday()},u=function(e){return i(e)?(0,I.default)(e,N).toDate():null},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,I.default)(e);return t&&(n=n.utc()),n.format(N)},c=function(e){return(0,I.default)(e).format("HH:mm")},p=function(e){return I.default.utc(e).format("HH:mm A")},d=function(e){return y(e,"DD - MMM - YYYY")},h=function(e){return y(e,"DD-MMM")},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MMM-DD";return(0,I.default)(e).format(t)},v=function(e){return(0,I.default)(e).toDate()},b=function(e,t){var n,r=o({},M,t),i=r.mode,a=r.time,u=r.day,s=r.year,c={year:s?"numeric":void 0,month:"short",day:u?"2-digit":void 0},l=w(),f=(0,I.default)(e).isToday();if(f)n=(n=new Intl.RelativeTimeFormat(l,{numeric:"auto"}).format(0,"day"))[0].toLocaleUpperCase(l)+n.slice(1);else if("en"==l&&(l="en-GB"),n=e.toLocaleDateString(l,c),"en-GB"==l&&"standard"==i&&s&&u&&(n=n.replace(/ /g,"-")),"wide"==i&&(n=n.replace(/ /g," — "),/ru.*/.test(l))){var p=n.length;n=n.slice(0,p-5)+n.slice(p-5).replace(" — "," ")}return(!0===a||f&&"for today"===a)&&(n+=", ".concat(m(e))),n},m=function(e){return e.toLocaleTimeString(w(),{hour:"2-digit",minute:"2-digit"})},g=function(e,t){return b(e,(n=o({},t),r=null!=(r={time:!0})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n));var n,r},w=function(){var e=window.i18next.language;return"ht"===(e=e.replace("_","-"))&&(e="fr-HT"),e},S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=function(e,t,n,r){return(L.default.default||L.default).t(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({ns:e,defaultValue:n},r))},x=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},E=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=e.split("."))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),3!==i.length);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t)||function(e,t){if(e){if("string"==typeof e)return x(e,3);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,3):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=n[2];return"".concat(r,".").concat(o,".").concat(i)},_=function(e,t){var n=function(e){var t=e.indexOf("-");if(t>=0){var n=E(e.slice(0,t)),r=e.slice(t+1);return"".concat(n,"-").concat(r)}return E(e)}(t);return U.satisfies(n,e,{includePrerelease:!0})},j=function(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)},k=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,u,"next",e)}function u(e){j(i,r,o,a,u,"throw",e)}a(void 0)}))}},A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},P=function(e){return B.apply(this,arguments)},C=function(e){return z.apply(this,arguments)};l.r(f),l.d(f,{age:function(){return n},daysIntoYear:function(){return e},formatDate:function(){return b},formatDatetime:function(){return g},formatTime:function(){return m},isOmrsDateStrict:function(){return i},isOmrsDateToday:function(){return a},isSameDay:function(){return t},isVersionSatisfied:function(){return _},parseDate:function(){return v},retry:function(){return P},toDateObjectStrict:function(){return u},toOmrsDateFormat:function(){return y},toOmrsDayDateFormat:function(){return d},toOmrsIsoString:function(){return s},toOmrsTimeString:function(){return p},toOmrsTimeString24:function(){return c},toOmrsYearlessDateFormat:function(){return h},translateFrom:function(){return O}});var I=l(688),T=l(14),D=l.n(T),$=l(332),R=l.n($);I.default.extend(D()),I.default.extend(R());var N="YYYY-MM-DDTHH:mm:ss.SSSZZ",M={mode:"standard",time:"for today",day:!0,year:!0},L=l(64),U=l(770);function B(){return B=k((function(e){var t,n,r,o,i,a,u,s=arguments;return A(this,(function(c){switch(c.label){case 0:n=(t=s.length>1&&void 0!==s[1]?s[1]:{}).shouldRetry,r=t.getDelay,o=t.onError,n=null!=n?n:function(e){return function(e,t){return e<=5}(e)},r=null!=r?r:function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e+1:e;return t*Math.pow(2,n)}(e,1e3)},i=0,a=void 0,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,C(r(i))];case 2:return c.sent(),[4,e()];case 3:return[2,c.sent()];case 4:return u=c.sent(),null==o||o(u,i),a=u,[3,5];case 5:if(n(i++))return[3,1];c.label=6;case 6:throw a}}))})),B.apply(this,arguments)}function z(){return(z=k((function(e){return A(this,(function(t){return e<=0?[2]:[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))).apply(this,arguments)}}(),f}())}}}))},2173:(e,t,n)=>{"use strict";var r=n(5776),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return u((function(){o.value=n,o.getSnapshot=t,c(o)&&l({inst:o})}),[e,n,t]),a((function(){return c(o)&&l({inst:o}),e((function(){c(o)&&l({inst:o})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},1374:(e,t,n)=>{"use strict";e.exports=n(2173)},6763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(682),o=n(658);const i=(0,r.Z)(o.Z,"Map")},7851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(658).Z.Symbol},963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7851),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r.Z?r.Z.toStringTag:void 0;var s=Object.prototype.toString;var c=r.Z?r.Z.toStringTag:void 0;const l=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[u]=n:delete e[u]),o}(e):function(e){return s.call(e)}(e)}},9295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9494);const o=(0,n(6899).Z)(Object.keys,Object);var i=Object.prototype.hasOwnProperty;const a=function(e){if(!(0,r.Z)(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},5852:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="object"==typeof global&&global&&global.Object===Object&&global},682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(3200);const o=n(658).Z["__core-js_shared__"];var i,a=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";var u=n(7275),s=n(9441),c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,p=l.toString,d=f.hasOwnProperty,h=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const y=function(e){return!(!(0,u.Z)(e)||(t=e,a&&a in t))&&((0,r.Z)(e)?h:c).test((0,s.Z)(e));var t},v=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return y(n)?n:void 0}},606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(682),o=n(658);const i=(0,r.Z)(o.Z,"DataView");var a=n(6763);const u=(0,r.Z)(o.Z,"Promise"),s=(0,r.Z)(o.Z,"Set"),c=(0,r.Z)(o.Z,"WeakMap");var l=n(963),f=n(9441),p="[object Map]",d="[object Promise]",h="[object Set]",y="[object WeakMap]",v="[object DataView]",b=(0,f.Z)(i),m=(0,f.Z)(a.Z),g=(0,f.Z)(u),w=(0,f.Z)(s),S=(0,f.Z)(c),O=l.Z;(i&&O(new i(new ArrayBuffer(1)))!=v||a.Z&&O(new a.Z)!=p||u&&O(u.resolve())!=d||s&&O(new s)!=h||c&&O(new c)!=y)&&(O=function(e){var t=(0,l.Z)(e),n="[object Object]"==t?e.constructor:void 0,r=n?(0,f.Z)(n):"";if(r)switch(r){case b:return v;case m:return p;case g:return d;case w:return h;case S:return y}return t});const x=O},9494:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=Object.prototype;const o=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},6899:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){return function(n){return e(t(n))}}},658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5852),o="object"==typeof self&&self&&self.Object===Object&&self;const i=r.Z||o||Function("return this")()},9441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=Function.prototype.toString;const o=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},175:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(963),o=n(4897);const i=function(e){return(0,o.Z)(e)&&"[object Arguments]"==(0,r.Z)(e)};var a=Object.prototype,u=a.hasOwnProperty,s=a.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return(0,o.Z)(e)&&u.call(e,"callee")&&!s.call(e,"callee")};const l=c},6575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=Array.isArray},6905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3200),o=n(3492);const i=function(e){return null!=e&&(0,o.Z)(e.length)&&!(0,r.Z)(e)}},7840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(658);var o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof module&&module&&!module.nodeType&&module,a=i&&i.exports===o?r.Z.Buffer:void 0;const u=(a?a.isBuffer:void 0)||function(){return!1}},3202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>J});const r=function(e,t){return e===t||e!=e&&t!=t},o=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1};var i=Array.prototype.splice;function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))},a.prototype.get=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]},a.prototype.has=function(e){return o(this.__data__,e)>-1},a.prototype.set=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const u=a;var s=n(6763);const c=(0,n(682).Z)(Object,"create");var l=Object.prototype.hasOwnProperty;var f=Object.prototype.hasOwnProperty;function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}p.prototype.clear=function(){this.__data__=c?c(null):{},this.size=0},p.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},p.prototype.get=function(e){var t=this.__data__;if(c){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return l.call(t,e)?t[e]:void 0},p.prototype.has=function(e){var t=this.__data__;return c?void 0!==t[e]:f.call(t,e)},p.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=c&&void 0===t?"__lodash_hash_undefined__":t,this};const d=p,h=function(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}y.prototype.clear=function(){this.size=0,this.__data__={hash:new d,map:new(s.Z||u),string:new d}},y.prototype.delete=function(e){var t=h(this,e).delete(e);return this.size-=t?1:0,t},y.prototype.get=function(e){return h(this,e).get(e)},y.prototype.has=function(e){return h(this,e).has(e)},y.prototype.set=function(e,t){var n=h(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const v=y;function b(e){var t=this.__data__=new u(e);this.size=t.size}b.prototype.clear=function(){this.__data__=new u,this.size=0},b.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},b.prototype.get=function(e){return this.__data__.get(e)},b.prototype.has=function(e){return this.__data__.has(e)},b.prototype.set=function(e,t){var n=this.__data__;if(n instanceof u){var r=n.__data__;if(!s.Z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new v(r)}return n.set(e,t),this.size=n.size,this};const m=b;function g(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new v;++t<n;)this.add(e[t])}g.prototype.add=g.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},g.prototype.has=function(e){return this.__data__.has(e)};const w=g,S=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},O=function(e,t,n,r,o,i){var a=1&n,u=e.length,s=t.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,p=!0,d=2&n?new w:void 0;for(i.set(e,t),i.set(t,e);++f<u;){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!S(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||o(h,e,n,r,i)))return d.push(t);var a}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p};var x=n(7851);const E=n(658).Z.Uint8Array,_=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},j=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var k=x.Z?x.Z.prototype:void 0,A=k?k.valueOf:void 0;var P=n(6575);var C=Object.prototype.propertyIsEnumerable,I=Object.getOwnPropertySymbols;const T=I?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(I(e),(function(t){return C.call(e,t)})))}:function(){return[]};var D=n(175),$=n(7840),R=/^(?:0|[1-9]\d*)$/;const N=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&R.test(e))&&e>-1&&e%1==0&&e<t};var M=n(8396),L=Object.prototype.hasOwnProperty;const U=function(e,t){var n=(0,P.Z)(e),r=!n&&(0,D.Z)(e),o=!n&&!r&&(0,$.Z)(e),i=!n&&!r&&!o&&(0,M.Z)(e),a=n||r||o||i,u=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var c in e)!t&&!L.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||N(c,s))||u.push(c);return u};var B=n(9295),z=n(6905);const F=function(e){return(0,z.Z)(e)?U(e):(0,B.Z)(e)},K=function(e){return function(e,t,n){var r=t(e);return(0,P.Z)(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,F,T)};var V=Object.prototype.hasOwnProperty;var q=n(606),H="[object Arguments]",W="[object Array]",G="[object Object]",Z=Object.prototype.hasOwnProperty;const Y=function(e,t,n,o,i,a){var u=(0,P.Z)(e),s=(0,P.Z)(t),c=u?W:(0,q.Z)(e),l=s?W:(0,q.Z)(t),f=(c=c==H?G:c)==G,p=(l=l==H?G:l)==G,d=c==l;if(d&&(0,$.Z)(e)){if(!(0,$.Z)(t))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new m),u||(0,M.Z)(e)?O(e,t,n,o,i,a):function(e,t,n,o,i,a,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new E(e),new E(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=_;case"[object Set]":var c=1&o;if(s||(s=j),e.size!=t.size&&!c)return!1;var l=u.get(e);if(l)return l==t;o|=2,u.set(e,t);var f=O(s(e),s(t),o,i,a,u);return u.delete(e),f;case"[object Symbol]":if(A)return A.call(e)==A.call(t)}return!1}(e,t,c,n,o,i,a);if(!(1&n)){var h=f&&Z.call(e,"__wrapped__"),y=p&&Z.call(t,"__wrapped__");if(h||y){var v=h?e.value():e,b=y?t.value():t;return a||(a=new m),i(v,b,n,o,a)}}return!!d&&(a||(a=new m),function(e,t,n,r,o,i){var a=1&n,u=K(e),s=u.length;if(s!=K(t).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in t:V.call(t,l)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var d=!0;i.set(e,t),i.set(t,e);for(var h=a;++c<s;){var y=e[l=u[c]],v=t[l];if(r)var b=a?r(v,y,l,t,e,i):r(y,v,l,e,t,i);if(!(void 0===b?y===v||o(y,v,n,r,i):b)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var m=e.constructor,g=t.constructor;m==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(d=!1)}return i.delete(e),i.delete(t),d}(e,t,n,o,i,a))};var X=n(4897);const Q=function e(t,n,r,o,i){return t===n||(null==t||null==n||!(0,X.Z)(t)&&!(0,X.Z)(n)?t!=t&&n!=n:Y(t,n,r,o,e,i))},J=function(e,t){return Q(e,t)}},3200:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(963),o=n(7275);const i=function(e){if(!(0,o.Z)(e))return!1;var t=(0,r.Z)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},4897:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return null!=e&&"object"==typeof e}},8396:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(963),o=n(3492),i=n(4897),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var u=n(5852),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=s&&"object"==typeof module&&module&&!module.nodeType&&module,l=c&&c.exports===s&&u.Z.process,f=function(){try{return c&&c.require&&c.require("util").types||l&&l.binding&&l.binding("util")}catch(e){}}(),p=f&&f.isTypedArray;const d=p?(h=p,function(e){return h(e)}):function(e){return(0,i.Z)(e)&&(0,o.Z)(e.length)&&!!a[(0,r.Z)(e)]};var h},9789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){return void 0===e}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}return o.m=n,o.c=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".openmrs-esm-framework.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@openmrs/esm-framework:",o.l=(n,r,i,a)=>{if(e[n])e[n].push(r);else{var u,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+i){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.setAttribute("data-webpack",t+i),u.src=n),e[n]=[r];var p=(t,r)=>{u.onerror=u.onload=null,clearTimeout(d);var o=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((e=>e(r))),t)return t(r)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload),s&&document.head.appendChild(u)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{o.S={};var e={},t={};o.I=(n,r)=>{r||(r=[]);var i=t[n];if(i||(i=t[n]={}),!(r.indexOf(i)>=0)){if(r.push(i),e[n])return e[n];o.o(o.S,n)||(o.S[n]={});var a=o.S[n],u="@openmrs/esm-framework",s=(e,t,n,r)=>{var o=a[e]=a[e]||{},i=o[t];(!i||!i.loaded&&(!r!=!i.eager?r:u>i.from))&&(o[t]={get:n,from:u,eager:!!r})},c=[];return"default"===n&&(s("dayjs","1.11.5",(()=>o.e(530).then((()=>()=>o(7530))))),s("i18next","19.9.2",(()=>o.e(585).then((()=>()=>o(3585))))),s("react-dom","18.2.0",(()=>o.e(788).then((()=>()=>o(2788))))),s("react-i18next","11.18.6",(()=>o.e(71).then((()=>()=>o(71))))),s("react","18.2.0",(()=>o.e(735).then((()=>()=>o(2735))))),s("rxjs","6.6.7",(()=>o.e(645).then((()=>()=>o(1645))))),s("single-spa","5.9.4",(()=>o.e(710).then((()=>()=>o(3710)))))),e[n]=c.length?Promise.all(c).then((()=>e[n]=1)):1}}})(),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e=e=>{var t=e=>e.split(".").map((e=>+e==e?+e:e)),n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),r=n[1]?t(n[1]):[];return n[2]&&(r.length++,r.push.apply(r,t(n[2]))),n[3]&&(r.push([]),r.push.apply(r,t(n[3]))),r},t=e=>{var n=e[0],r="";if(1===e.length)return"*";if(n+.5){r+=0==n?">=":-1==n?"<":1==n?"^":2==n?"~":n>0?"=":"!=";for(var o=1,i=1;i<e.length;i++)o--,r+="u"==(typeof(u=e[i]))[0]?"-":(o>0?".":"")+(o=2,u);return r}var a=[];for(i=1;i<e.length;i++){var u=e[i];a.push(0===u?"not("+s()+")":1===u?"("+s()+" || "+s()+")":2===u?a.pop()+" "+a.pop():t(u))}return s();function s(){return a.pop().replace(/^\((.+)\)$/,"$1")}},n=(t,r)=>{if(0 in t){r=e(r);var o=t[0],i=o<0;i&&(o=-o-1);for(var a=0,u=1,s=!0;;u++,a++){var c,l,f=u<t.length?(typeof t[u])[0]:"";if(a>=r.length||"o"==(l=(typeof(c=r[a]))[0]))return!s||("u"==f?u>o&&!i:""==f!=i);if("u"==l){if(!s||"u"!=f)return!1}else if(s)if(f==l)if(u<=o){if(c!=t[u])return!1}else{if(i?c>t[u]:c<t[u])return!1;c!=t[u]&&(s=!1)}else if("s"!=f&&"n"!=f){if(i||u<=o)return!1;s=!1,u--}else{if(u<=o||l<f!=i)return!1;s=!1}else"s"!=f&&"n"!=f&&(s=!1,u--)}}var p=[],d=p.pop.bind(p);for(a=1;a<t.length;a++){var h=t[a];p.push(1==h?d()|d():2==h?d()&d():h?n(h,r):!d())}return!!d()},r=(t,n)=>{var r=t[n];return Object.keys(r).reduce(((t,n)=>!t||!r[t].loaded&&((t,n)=>{t=e(t),n=e(n);for(var r=0;;){if(r>=t.length)return r<n.length&&"u"!=(typeof n[r])[0];var o=t[r],i=(typeof o)[0];if(r>=n.length)return"u"==i;var a=n[r],u=(typeof a)[0];if(i!=u)return"o"==i&&"n"==u||"s"==u||"u"==i;if("o"!=i&&"u"!=i&&o!=a)return o<a;r++}})(t,n)?n:t),0)},i=(e,o,i,s)=>{var c=r(e,i);return n(s,c)||a(((e,n,r,o)=>"Unsatisfied version "+r+" from "+(r&&e[n][r].from)+" of shared singleton module "+n+" (required "+t(o)+")")(e,i,c,s)),u(e[i][c])},a=e=>{"undefined"!=typeof console&&console.warn&&console.warn(e)},u=e=>(e.loaded=1,e.get()),s=(e=>function(t,n,r,i){var a=o.I(t);return a&&a.then?a.then(e.bind(e,t,o.S[t],n,r,i)):e(t,o.S[t],n,r,i)})(((e,t,n,r,a)=>t&&o.o(t,n)?i(t,0,n,r):a())),c={},l={4666:()=>s("default","rxjs",[1,6],(()=>o.e(645).then((()=>()=>o(1645))))),5875:()=>s("default","single-spa",[1,5],(()=>o.e(710).then((()=>()=>o(3710))))),5776:()=>s("default","react",[1,18],(()=>o.e(735).then((()=>()=>o(2735))))),6551:()=>s("default","react-dom",[1,18],(()=>o.e(788).then((()=>()=>o(2788))))),7319:()=>s("default","i18next",[1,19],(()=>o.e(585).then((()=>()=>o(3585))))),2680:()=>s("default","react-i18next",[1,11],(()=>o.e(71).then((()=>()=>o(71))))),9442:()=>s("default","dayjs",[1,1],(()=>o.e(530).then((()=>()=>o(7530)))))};[4666,5875,5776,6551,7319,2680,9442].forEach((e=>{o.m[e]=t=>{c[e]=0,delete o.c[e];var n=l[e]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+e);t.exports=n()}}));var f={};o.f.consumes=(e,t)=>{o.o(f,e)&&f[e].forEach((e=>{if(o.o(c,e))return t.push(c[e]);var n=t=>{c[e]=0,o.m[e]=n=>{delete o.c[e],n.exports=t()}},r=t=>{delete c[e],o.m[e]=n=>{throw delete o.c[e],t}};try{var i=l[e]();i.then?t.push(c[e]=i.then(n).catch(r)):n(i)}catch(e){r(e)}}))}})(),(()=>{var e={179:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=i);var a=o.p+o.u(t),u=new Error;o.l(a,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,r[1](u)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[a,u,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in u)o.o(u,r)&&(o.m[r]=u[r]);s&&s(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=globalThis.webpackChunk_openmrs_esm_framework=globalThis.webpackChunk_openmrs_esm_framework||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0,o(8988)})())}}}));
//# sourceMappingURL=openmrs-esm-framework.js.map